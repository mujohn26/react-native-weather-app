05743c74a161ece86f0f1c5498bfe2c6
var hasMap = typeof Map === 'function' && Map.prototype;
var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;
var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;
var mapForEach = hasMap && Map.prototype.forEach;
var hasSet = typeof Set === 'function' && Set.prototype;
var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;
var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;
var setForEach = hasSet && Set.prototype.forEach;
var hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;
var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
var hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;
var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
var booleanValueOf = Boolean.prototype.valueOf;
var objectToString = Object.prototype.toString;
var functionToString = Function.prototype.toString;
var match = String.prototype.match;
var bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;

var inspectCustom = require("./util.inspect").custom;

var inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;

module.exports = function inspect_(obj, options, depth, seen) {
  var opts = options || {};

  if (has(opts, 'quoteStyle') && opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double') {
    throw new TypeError('option "quoteStyle" must be "single" or "double"');
  }

  if (has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number' ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity : opts.maxStringLength !== null)) {
    throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
  }

  var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;

  if (typeof customInspect !== 'boolean') {
    throw new TypeError('option "customInspect", if provided, must be `true` or `false`');
  }

  if (has(opts, 'indent') && opts.indent !== null && opts.indent !== '\t' && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)) {
    throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');
  }

  if (typeof obj === 'undefined') {
    return 'undefined';
  }

  if (obj === null) {
    return 'null';
  }

  if (typeof obj === 'boolean') {
    return obj ? 'true' : 'false';
  }

  if (typeof obj === 'string') {
    return inspectString(obj, opts);
  }

  if (typeof obj === 'number') {
    if (obj === 0) {
      return Infinity / obj > 0 ? '0' : '-0';
    }

    return String(obj);
  }

  if (typeof obj === 'bigint') {
    return String(obj) + 'n';
  }

  var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;

  if (typeof depth === 'undefined') {
    depth = 0;
  }

  if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {
    return isArray(obj) ? '[Array]' : '[Object]';
  }

  var indent = getIndent(opts, depth);

  if (typeof seen === 'undefined') {
    seen = [];
  } else if (indexOf(seen, obj) >= 0) {
    return '[Circular]';
  }

  function inspect(value, from, noIndent) {
    if (from) {
      seen = seen.slice();
      seen.push(from);
    }

    if (noIndent) {
      var newOpts = {
        depth: opts.depth
      };

      if (has(opts, 'quoteStyle')) {
        newOpts.quoteStyle = opts.quoteStyle;
      }

      return inspect_(value, newOpts, depth + 1, seen);
    }

    return inspect_(value, opts, depth + 1, seen);
  }

  if (typeof obj === 'function') {
    var name = nameOf(obj);
    return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']';
  }

  if (isSymbol(obj)) {
    var symString = Symbol.prototype.toString.call(obj);
    return typeof obj === 'object' ? markBoxed(symString) : symString;
  }

  if (isElement(obj)) {
    var s = '<' + String(obj.nodeName).toLowerCase();
    var attrs = obj.attributes || [];

    for (var i = 0; i < attrs.length; i++) {
      s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);
    }

    s += '>';

    if (obj.childNodes && obj.childNodes.length) {
      s += '...';
    }

    s += '</' + String(obj.nodeName).toLowerCase() + '>';
    return s;
  }

  if (isArray(obj)) {
    if (obj.length === 0) {
      return '[]';
    }

    var xs = arrObjKeys(obj, inspect);

    if (indent && !singleLineValues(xs)) {
      return '[' + indentedJoin(xs, indent) + ']';
    }

    return '[ ' + xs.join(', ') + ' ]';
  }

  if (isError(obj)) {
    var parts = arrObjKeys(obj, inspect);

    if (parts.length === 0) {
      return '[' + String(obj) + ']';
    }

    return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';
  }

  if (typeof obj === 'object' && customInspect) {
    if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {
      return obj[inspectSymbol]();
    } else if (typeof obj.inspect === 'function') {
      return obj.inspect();
    }
  }

  if (isMap(obj)) {
    var mapParts = [];
    mapForEach.call(obj, function (value, key) {
      mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));
    });
    return collectionOf('Map', mapSize.call(obj), mapParts, indent);
  }

  if (isSet(obj)) {
    var setParts = [];
    setForEach.call(obj, function (value) {
      setParts.push(inspect(value, obj));
    });
    return collectionOf('Set', setSize.call(obj), setParts, indent);
  }

  if (isWeakMap(obj)) {
    return weakCollectionOf('WeakMap');
  }

  if (isWeakSet(obj)) {
    return weakCollectionOf('WeakSet');
  }

  if (isNumber(obj)) {
    return markBoxed(inspect(Number(obj)));
  }

  if (isBigInt(obj)) {
    return markBoxed(inspect(bigIntValueOf.call(obj)));
  }

  if (isBoolean(obj)) {
    return markBoxed(booleanValueOf.call(obj));
  }

  if (isString(obj)) {
    return markBoxed(inspect(String(obj)));
  }

  if (!isDate(obj) && !isRegExp(obj)) {
    var ys = arrObjKeys(obj, inspect);

    if (ys.length === 0) {
      return '{}';
    }

    if (indent) {
      return '{' + indentedJoin(ys, indent) + '}';
    }

    return '{ ' + ys.join(', ') + ' }';
  }

  return String(obj);
};

function wrapQuotes(s, defaultStyle, opts) {
  var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '"' : "'";
  return quoteChar + s + quoteChar;
}

function quote(s) {
  return String(s).replace(/"/g, '&quot;');
}

function isArray(obj) {
  return toStr(obj) === '[object Array]';
}

function isDate(obj) {
  return toStr(obj) === '[object Date]';
}

function isRegExp(obj) {
  return toStr(obj) === '[object RegExp]';
}

function isError(obj) {
  return toStr(obj) === '[object Error]';
}

function isSymbol(obj) {
  return toStr(obj) === '[object Symbol]';
}

function isString(obj) {
  return toStr(obj) === '[object String]';
}

function isNumber(obj) {
  return toStr(obj) === '[object Number]';
}

function isBigInt(obj) {
  return toStr(obj) === '[object BigInt]';
}

function isBoolean(obj) {
  return toStr(obj) === '[object Boolean]';
}

var hasOwn = Object.prototype.hasOwnProperty || function (key) {
  return key in this;
};

function has(obj, key) {
  return hasOwn.call(obj, key);
}

function toStr(obj) {
  return objectToString.call(obj);
}

function nameOf(f) {
  if (f.name) {
    return f.name;
  }

  var m = match.call(functionToString.call(f), /^function\s*([\w$]+)/);

  if (m) {
    return m[1];
  }

  return null;
}

function indexOf(xs, x) {
  if (xs.indexOf) {
    return xs.indexOf(x);
  }

  for (var i = 0, l = xs.length; i < l; i++) {
    if (xs[i] === x) {
      return i;
    }
  }

  return -1;
}

function isMap(x) {
  if (!mapSize || !x || typeof x !== 'object') {
    return false;
  }

  try {
    mapSize.call(x);

    try {
      setSize.call(x);
    } catch (s) {
      return true;
    }

    return x instanceof Map;
  } catch (e) {}

  return false;
}

function isWeakMap(x) {
  if (!weakMapHas || !x || typeof x !== 'object') {
    return false;
  }

  try {
    weakMapHas.call(x, weakMapHas);

    try {
      weakSetHas.call(x, weakSetHas);
    } catch (s) {
      return true;
    }

    return x instanceof WeakMap;
  } catch (e) {}

  return false;
}

function isSet(x) {
  if (!setSize || !x || typeof x !== 'object') {
    return false;
  }

  try {
    setSize.call(x);

    try {
      mapSize.call(x);
    } catch (m) {
      return true;
    }

    return x instanceof Set;
  } catch (e) {}

  return false;
}

function isWeakSet(x) {
  if (!weakSetHas || !x || typeof x !== 'object') {
    return false;
  }

  try {
    weakSetHas.call(x, weakSetHas);

    try {
      weakMapHas.call(x, weakMapHas);
    } catch (s) {
      return true;
    }

    return x instanceof WeakSet;
  } catch (e) {}

  return false;
}

function isElement(x) {
  if (!x || typeof x !== 'object') {
    return false;
  }

  if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {
    return true;
  }

  return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';
}

function inspectString(str, opts) {
  if (str.length > opts.maxStringLength) {
    var remaining = str.length - opts.maxStringLength;
    var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');
    return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;
  }

  var s = str.replace(/(['\\])/g, '\\$1').replace(/[\x00-\x1f]/g, lowbyte);
  return wrapQuotes(s, 'single', opts);
}

function lowbyte(c) {
  var n = c.charCodeAt(0);
  var x = {
    8: 'b',
    9: 't',
    10: 'n',
    12: 'f',
    13: 'r'
  }[n];

  if (x) {
    return '\\' + x;
  }

  return '\\x' + (n < 0x10 ? '0' : '') + n.toString(16);
}

function markBoxed(str) {
  return 'Object(' + str + ')';
}

function weakCollectionOf(type) {
  return type + ' { ? }';
}

function collectionOf(type, size, entries, indent) {
  var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(', ');
  return type + ' (' + size + ') {' + joinedEntries + '}';
}

function singleLineValues(xs) {
  for (var i = 0; i < xs.length; i++) {
    if (indexOf(xs[i], '\n') >= 0) {
      return false;
    }
  }

  return true;
}

function getIndent(opts, depth) {
  var baseIndent;

  if (opts.indent === '\t') {
    baseIndent = '\t';
  } else if (typeof opts.indent === 'number' && opts.indent > 0) {
    baseIndent = Array(opts.indent + 1).join(' ');
  } else {
    return null;
  }

  return {
    base: baseIndent,
    prev: Array(depth + 1).join(baseIndent)
  };
}

function indentedJoin(xs, indent) {
  if (xs.length === 0) {
    return '';
  }

  var lineJoiner = '\n' + indent.prev + indent.base;
  return lineJoiner + xs.join(',' + lineJoiner) + '\n' + indent.prev;
}

function arrObjKeys(obj, inspect) {
  var isArr = isArray(obj);
  var xs = [];

  if (isArr) {
    xs.length = obj.length;

    for (var i = 0; i < obj.length; i++) {
      xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';
    }
  }

  for (var key in obj) {
    if (!has(obj, key)) {
      continue;
    }

    if (isArr && String(Number(key)) === key && key < obj.length) {
      continue;
    }

    if (/[^\w$]/.test(key)) {
      xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));
    } else {
      xs.push(key + ': ' + inspect(obj[key], obj));
    }
  }

  return xs;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhc01hcCIsIk1hcCIsInByb3RvdHlwZSIsIm1hcFNpemVEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibWFwU2l6ZSIsImdldCIsIm1hcEZvckVhY2giLCJmb3JFYWNoIiwiaGFzU2V0IiwiU2V0Iiwic2V0U2l6ZURlc2NyaXB0b3IiLCJzZXRTaXplIiwic2V0Rm9yRWFjaCIsImhhc1dlYWtNYXAiLCJXZWFrTWFwIiwid2Vha01hcEhhcyIsImhhcyIsImhhc1dlYWtTZXQiLCJXZWFrU2V0Iiwid2Vha1NldEhhcyIsImJvb2xlYW5WYWx1ZU9mIiwiQm9vbGVhbiIsInZhbHVlT2YiLCJvYmplY3RUb1N0cmluZyIsInRvU3RyaW5nIiwiZnVuY3Rpb25Ub1N0cmluZyIsIkZ1bmN0aW9uIiwibWF0Y2giLCJTdHJpbmciLCJiaWdJbnRWYWx1ZU9mIiwiQmlnSW50IiwiaW5zcGVjdEN1c3RvbSIsInJlcXVpcmUiLCJjdXN0b20iLCJpbnNwZWN0U3ltYm9sIiwiaXNTeW1ib2wiLCJtb2R1bGUiLCJleHBvcnRzIiwiaW5zcGVjdF8iLCJvYmoiLCJvcHRpb25zIiwiZGVwdGgiLCJzZWVuIiwib3B0cyIsInF1b3RlU3R5bGUiLCJUeXBlRXJyb3IiLCJtYXhTdHJpbmdMZW5ndGgiLCJJbmZpbml0eSIsImN1c3RvbUluc3BlY3QiLCJpbmRlbnQiLCJwYXJzZUludCIsImluc3BlY3RTdHJpbmciLCJtYXhEZXB0aCIsImlzQXJyYXkiLCJnZXRJbmRlbnQiLCJpbmRleE9mIiwiaW5zcGVjdCIsInZhbHVlIiwiZnJvbSIsIm5vSW5kZW50Iiwic2xpY2UiLCJwdXNoIiwibmV3T3B0cyIsIm5hbWUiLCJuYW1lT2YiLCJzeW1TdHJpbmciLCJTeW1ib2wiLCJjYWxsIiwibWFya0JveGVkIiwiaXNFbGVtZW50IiwicyIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJhdHRycyIsImF0dHJpYnV0ZXMiLCJpIiwibGVuZ3RoIiwid3JhcFF1b3RlcyIsInF1b3RlIiwiY2hpbGROb2RlcyIsInhzIiwiYXJyT2JqS2V5cyIsInNpbmdsZUxpbmVWYWx1ZXMiLCJpbmRlbnRlZEpvaW4iLCJqb2luIiwiaXNFcnJvciIsInBhcnRzIiwiaXNNYXAiLCJtYXBQYXJ0cyIsImtleSIsImNvbGxlY3Rpb25PZiIsImlzU2V0Iiwic2V0UGFydHMiLCJpc1dlYWtNYXAiLCJ3ZWFrQ29sbGVjdGlvbk9mIiwiaXNXZWFrU2V0IiwiaXNOdW1iZXIiLCJOdW1iZXIiLCJpc0JpZ0ludCIsImlzQm9vbGVhbiIsImlzU3RyaW5nIiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJ5cyIsImRlZmF1bHRTdHlsZSIsInF1b3RlQ2hhciIsInJlcGxhY2UiLCJ0b1N0ciIsImhhc093biIsImhhc093blByb3BlcnR5IiwiZiIsIm0iLCJ4IiwibCIsImUiLCJIVE1MRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInN0ciIsInJlbWFpbmluZyIsInRyYWlsZXIiLCJsb3dieXRlIiwiYyIsIm4iLCJjaGFyQ29kZUF0IiwidHlwZSIsInNpemUiLCJlbnRyaWVzIiwiam9pbmVkRW50cmllcyIsImJhc2VJbmRlbnQiLCJBcnJheSIsImJhc2UiLCJwcmV2IiwibGluZUpvaW5lciIsImlzQXJyIiwidGVzdCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsTUFBTSxHQUFHLE9BQU9DLEdBQVAsS0FBZSxVQUFmLElBQTZCQSxHQUFHLENBQUNDLFNBQTlDO0FBQ0EsSUFBSUMsaUJBQWlCLEdBQUdDLE1BQU0sQ0FBQ0Msd0JBQVAsSUFBbUNMLE1BQW5DLEdBQTRDSSxNQUFNLENBQUNDLHdCQUFQLENBQWdDSixHQUFHLENBQUNDLFNBQXBDLEVBQStDLE1BQS9DLENBQTVDLEdBQXFHLElBQTdIO0FBQ0EsSUFBSUksT0FBTyxHQUFHTixNQUFNLElBQUlHLGlCQUFWLElBQStCLE9BQU9BLGlCQUFpQixDQUFDSSxHQUF6QixLQUFpQyxVQUFoRSxHQUE2RUosaUJBQWlCLENBQUNJLEdB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LElBQWdCbEQsR0FBaEIsRUFBcUI7QUFDakIsUUFBSSxDQUFDdkIsR0FBRyxDQUFDdUIsR0FBRCxFQUFNa0QsR0FBTixDQUFSLEVBQW9CO0FBQUU7QUFBVzs7QUFDakMsUUFBSTRDLEtBQUssSUFBSXpHLE1BQU0sQ0FBQ3FFLE1BQU0sQ0FBQ1IsR0FBRCxDQUFQLENBQU4sS0FBd0JBLEdBQWpDLElBQXdDQSxHQUFHLEdBQUdsRCxHQUFHLENBQUNxQyxNQUF0RCxFQUE4RDtBQUFFO0FBQVc7O0FBQzNFLFFBQUssUUFBRCxDQUFXMEQsSUFBWCxDQUFnQjdDLEdBQWhCLENBQUosRUFBMEI7QUFDdEJULE1BQUFBLEVBQUUsQ0FBQ25CLElBQUgsQ0FBUUwsT0FBTyxDQUFDaUMsR0FBRCxFQUFNbEQsR0FBTixDQUFQLEdBQW9CLElBQXBCLEdBQTJCaUIsT0FBTyxDQUFDakIsR0FBRyxDQUFDa0QsR0FBRCxDQUFKLEVBQVdsRCxHQUFYLENBQTFDO0FBQ0gsS0FGRCxNQUVPO0FBQ0h5QyxNQUFBQSxFQUFFLENBQUNuQixJQUFILENBQVE0QixHQUFHLEdBQUcsSUFBTixHQUFhakMsT0FBTyxDQUFDakIsR0FBRyxDQUFDa0QsR0FBRCxDQUFKLEVBQVdsRCxHQUFYLENBQTVCO0FBQ0g7QUFDSjs7QUFDRCxTQUFPeUMsRUFBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGhhc01hcCA9IHR5cGVvZiBNYXAgPT09ICdmdW5jdGlvbicgJiYgTWFwLnByb3RvdHlwZTtcbnZhciBtYXBTaXplRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgaGFzTWFwID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNYXAucHJvdG90eXBlLCAnc2l6ZScpIDogbnVsbDtcbnZhciBtYXBTaXplID0gaGFzTWFwICYmIG1hcFNpemVEZXNjcmlwdG9yICYmIHR5cGVvZiBtYXBTaXplRGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicgPyBtYXBTaXplRGVzY3JpcHRvci5nZXQgOiBudWxsO1xudmFyIG1hcEZvckVhY2ggPSBoYXNNYXAgJiYgTWFwLnByb3RvdHlwZS5mb3JFYWNoO1xudmFyIGhhc1NldCA9IHR5cGVvZiBTZXQgPT09ICdmdW5jdGlvbicgJiYgU2V0LnByb3RvdHlwZTtcbnZhciBzZXRTaXplRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgaGFzU2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXQucHJvdG90eXBlLCAnc2l6ZScpIDogbnVsbDtcbnZhciBzZXRTaXplID0gaGFzU2V0ICYmIHNldFNpemVEZXNjcmlwdG9yICYmIHR5cGVvZiBzZXRTaXplRGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicgPyBzZXRTaXplRGVzY3JpcHRvci5nZXQgOiBudWxsO1xudmFyIHNldEZvckVhY2ggPSBoYXNTZXQgJiYgU2V0LnByb3RvdHlwZS5mb3JFYWNoO1xudmFyIGhhc1dlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyAmJiBXZWFrTWFwLnByb3RvdHlwZTtcbnZhciB3ZWFrTWFwSGFzID0gaGFzV2Vha01hcCA/IFdlYWtNYXAucHJvdG90eXBlLmhhcyA6IG51bGw7XG52YXIgaGFzV2Vha1NldCA9IHR5cGVvZiBXZWFrU2V0ID09PSAnZnVuY3Rpb24nICYmIFdlYWtTZXQucHJvdG90eXBlO1xudmFyIHdlYWtTZXRIYXMgPSBoYXNXZWFrU2V0ID8gV2Vha1NldC5wcm90b3R5cGUuaGFzIDogbnVsbDtcbnZhciBib29sZWFuVmFsdWVPZiA9IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2Y7XG52YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgbWF0Y2ggPSBTdHJpbmcucHJvdG90eXBlLm1hdGNoO1xudmFyIGJpZ0ludFZhbHVlT2YgPSB0eXBlb2YgQmlnSW50ID09PSAnZnVuY3Rpb24nID8gQmlnSW50LnByb3RvdHlwZS52YWx1ZU9mIDogbnVsbDtcblxudmFyIGluc3BlY3RDdXN0b20gPSByZXF1aXJlKCcuL3V0aWwuaW5zcGVjdCcpLmN1c3RvbTtcbnZhciBpbnNwZWN0U3ltYm9sID0gaW5zcGVjdEN1c3RvbSAmJiBpc1N5bWJvbChpbnNwZWN0Q3VzdG9tKSA/IGluc3BlY3RDdXN0b20gOiBudWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluc3BlY3RfKG9iaiwgb3B0aW9ucywgZGVwdGgsIHNlZW4pIHtcbiAgICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoaGFzKG9wdHMsICdxdW90ZVN0eWxlJykgJiYgKG9wdHMucXVvdGVTdHlsZSAhPT0gJ3NpbmdsZScgJiYgb3B0cy5xdW90ZVN0eWxlICE9PSAnZG91YmxlJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIFwicXVvdGVTdHlsZVwiIG11c3QgYmUgXCJzaW5nbGVcIiBvciBcImRvdWJsZVwiJyk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICAgaGFzKG9wdHMsICdtYXhTdHJpbmdMZW5ndGgnKSAmJiAodHlwZW9mIG9wdHMubWF4U3RyaW5nTGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyBvcHRzLm1heFN0cmluZ0xlbmd0aCA8IDAgJiYgb3B0cy5tYXhTdHJpbmdMZW5ndGggIT09IEluZmluaXR5XG4gICAgICAgICAgICA6IG9wdHMubWF4U3RyaW5nTGVuZ3RoICE9PSBudWxsXG4gICAgICAgIClcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIFwibWF4U3RyaW5nTGVuZ3RoXCIsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgSW5maW5pdHksIG9yIGBudWxsYCcpO1xuICAgIH1cbiAgICB2YXIgY3VzdG9tSW5zcGVjdCA9IGhhcyhvcHRzLCAnY3VzdG9tSW5zcGVjdCcpID8gb3B0cy5jdXN0b21JbnNwZWN0IDogdHJ1ZTtcbiAgICBpZiAodHlwZW9mIGN1c3RvbUluc3BlY3QgIT09ICdib29sZWFuJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJjdXN0b21JbnNwZWN0XCIsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGB0cnVlYCBvciBgZmFsc2VgJyk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgICBoYXMob3B0cywgJ2luZGVudCcpXG4gICAgICAgICYmIG9wdHMuaW5kZW50ICE9PSBudWxsXG4gICAgICAgICYmIG9wdHMuaW5kZW50ICE9PSAnXFx0J1xuICAgICAgICAmJiAhKHBhcnNlSW50KG9wdHMuaW5kZW50LCAxMCkgPT09IG9wdHMuaW5kZW50ICYmIG9wdHMuaW5kZW50ID4gMClcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9ucyBcImluZGVudFwiIG11c3QgYmUgXCJcXFxcdFwiLCBhbiBpbnRlZ2VyID4gMCwgb3IgYG51bGxgJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBvYmogPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5zcGVjdFN0cmluZyhvYmosIG9wdHMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKG9iaiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5IC8gb2JqID4gMCA/ICcwJyA6ICctMCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0cmluZyhvYmopO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2JpZ2ludCcpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSB2YWxpZC10eXBlb2ZcbiAgICAgICAgcmV0dXJuIFN0cmluZyhvYmopICsgJ24nO1xuICAgIH1cblxuICAgIHZhciBtYXhEZXB0aCA9IHR5cGVvZiBvcHRzLmRlcHRoID09PSAndW5kZWZpbmVkJyA/IDUgOiBvcHRzLmRlcHRoO1xuICAgIGlmICh0eXBlb2YgZGVwdGggPT09ICd1bmRlZmluZWQnKSB7IGRlcHRoID0gMDsgfVxuICAgIGlmIChkZXB0aCA+PSBtYXhEZXB0aCAmJiBtYXhEZXB0aCA+IDAgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkob2JqKSA/ICdbQXJyYXldJyA6ICdbT2JqZWN0XSc7XG4gICAgfVxuXG4gICAgdmFyIGluZGVudCA9IGdldEluZGVudChvcHRzLCBkZXB0aCk7XG5cbiAgICBpZiAodHlwZW9mIHNlZW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlZW4gPSBbXTtcbiAgICB9IGVsc2UgaWYgKGluZGV4T2Yoc2Vlbiwgb2JqKSA+PSAwKSB7XG4gICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zcGVjdCh2YWx1ZSwgZnJvbSwgbm9JbmRlbnQpIHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuLnNsaWNlKCk7XG4gICAgICAgICAgICBzZWVuLnB1c2goZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vSW5kZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3T3B0cyA9IHtcbiAgICAgICAgICAgICAgICBkZXB0aDogb3B0cy5kZXB0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSkge1xuICAgICAgICAgICAgICAgIG5ld09wdHMucXVvdGVTdHlsZSA9IG9wdHMucXVvdGVTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0Xyh2YWx1ZSwgbmV3T3B0cywgZGVwdGggKyAxLCBzZWVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zcGVjdF8odmFsdWUsIG9wdHMsIGRlcHRoICsgMSwgc2Vlbik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBuYW1lT2Yob2JqKTtcbiAgICAgICAgcmV0dXJuICdbRnVuY3Rpb24nICsgKG5hbWUgPyAnOiAnICsgbmFtZSA6ICcgKGFub255bW91cyknKSArICddJztcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKG9iaikpIHtcbiAgICAgICAgdmFyIHN5bVN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgPyBtYXJrQm94ZWQoc3ltU3RyaW5nKSA6IHN5bVN0cmluZztcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudChvYmopKSB7XG4gICAgICAgIHZhciBzID0gJzwnICsgU3RyaW5nKG9iai5ub2RlTmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGF0dHJzID0gb2JqLmF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHMgKz0gJyAnICsgYXR0cnNbaV0ubmFtZSArICc9JyArIHdyYXBRdW90ZXMocXVvdGUoYXR0cnNbaV0udmFsdWUpLCAnZG91YmxlJywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcyArPSAnPic7XG4gICAgICAgIGlmIChvYmouY2hpbGROb2RlcyAmJiBvYmouY2hpbGROb2Rlcy5sZW5ndGgpIHsgcyArPSAnLi4uJzsgfVxuICAgICAgICBzICs9ICc8LycgKyBTdHJpbmcob2JqLm5vZGVOYW1lKS50b0xvd2VyQ2FzZSgpICsgJz4nO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICBpZiAob2JqLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJ1tdJzsgfVxuICAgICAgICB2YXIgeHMgPSBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCk7XG4gICAgICAgIGlmIChpbmRlbnQgJiYgIXNpbmdsZUxpbmVWYWx1ZXMoeHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1snICsgaW5kZW50ZWRKb2luKHhzLCBpbmRlbnQpICsgJ10nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnWyAnICsgeHMuam9pbignLCAnKSArICcgXSc7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKG9iaikpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnWycgKyBTdHJpbmcob2JqKSArICddJzsgfVxuICAgICAgICByZXR1cm4gJ3sgWycgKyBTdHJpbmcob2JqKSArICddICcgKyBwYXJ0cy5qb2luKCcsICcpICsgJyB9JztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIGN1c3RvbUluc3BlY3QpIHtcbiAgICAgICAgaWYgKGluc3BlY3RTeW1ib2wgJiYgdHlwZW9mIG9ialtpbnNwZWN0U3ltYm9sXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtpbnNwZWN0U3ltYm9sXSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmouaW5zcGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9iai5pbnNwZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTWFwKG9iaikpIHtcbiAgICAgICAgdmFyIG1hcFBhcnRzID0gW107XG4gICAgICAgIG1hcEZvckVhY2guY2FsbChvYmosIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBtYXBQYXJ0cy5wdXNoKGluc3BlY3Qoa2V5LCBvYmosIHRydWUpICsgJyA9PiAnICsgaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdNYXAnLCBtYXBTaXplLmNhbGwob2JqKSwgbWFwUGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1NldChvYmopKSB7XG4gICAgICAgIHZhciBzZXRQYXJ0cyA9IFtdO1xuICAgICAgICBzZXRGb3JFYWNoLmNhbGwob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNldFBhcnRzLnB1c2goaW5zcGVjdCh2YWx1ZSwgb2JqKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbk9mKCdTZXQnLCBzZXRTaXplLmNhbGwob2JqKSwgc2V0UGFydHMsIGluZGVudCk7XG4gICAgfVxuICAgIGlmIChpc1dlYWtNYXAob2JqKSkge1xuICAgICAgICByZXR1cm4gd2Vha0NvbGxlY3Rpb25PZignV2Vha01hcCcpO1xuICAgIH1cbiAgICBpZiAoaXNXZWFrU2V0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHdlYWtDb2xsZWN0aW9uT2YoJ1dlYWtTZXQnKTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChpbnNwZWN0KE51bWJlcihvYmopKSk7XG4gICAgfVxuICAgIGlmIChpc0JpZ0ludChvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoaW5zcGVjdChiaWdJbnRWYWx1ZU9mLmNhbGwob2JqKSkpO1xuICAgIH1cbiAgICBpZiAoaXNCb29sZWFuKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChib29sZWFuVmFsdWVPZi5jYWxsKG9iaikpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGluc3BlY3QoU3RyaW5nKG9iaikpKTtcbiAgICB9XG4gICAgaWYgKCFpc0RhdGUob2JqKSAmJiAhaXNSZWdFeHAob2JqKSkge1xuICAgICAgICB2YXIgeXMgPSBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCk7XG4gICAgICAgIGlmICh5cy5sZW5ndGggPT09IDApIHsgcmV0dXJuICd7fSc7IH1cbiAgICAgICAgaWYgKGluZGVudCkge1xuICAgICAgICAgICAgcmV0dXJuICd7JyArIGluZGVudGVkSm9pbih5cywgaW5kZW50KSArICd9JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3sgJyArIHlzLmpvaW4oJywgJykgKyAnIH0nO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKG9iaik7XG59O1xuXG5mdW5jdGlvbiB3cmFwUXVvdGVzKHMsIGRlZmF1bHRTdHlsZSwgb3B0cykge1xuICAgIHZhciBxdW90ZUNoYXIgPSAob3B0cy5xdW90ZVN0eWxlIHx8IGRlZmF1bHRTdHlsZSkgPT09ICdkb3VibGUnID8gJ1wiJyA6IFwiJ1wiO1xuICAgIHJldHVybiBxdW90ZUNoYXIgKyBzICsgcXVvdGVDaGFyO1xufVxuXG5mdW5jdGlvbiBxdW90ZShzKSB7XG4gICAgcmV0dXJuIFN0cmluZyhzKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBBcnJheV0nOyB9XG5mdW5jdGlvbiBpc0RhdGUob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBEYXRlXSc7IH1cbmZ1bmN0aW9uIGlzUmVnRXhwKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7IH1cbmZ1bmN0aW9uIGlzRXJyb3Iob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBFcnJvcl0nOyB9XG5mdW5jdGlvbiBpc1N5bWJvbChvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFN5bWJvbF0nOyB9XG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nOyB9XG5mdW5jdGlvbiBpc051bWJlcihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nOyB9XG5mdW5jdGlvbiBpc0JpZ0ludChvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEJpZ0ludF0nOyB9XG5mdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7IH1cblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4ga2V5IGluIHRoaXM7IH07XG5mdW5jdGlvbiBoYXMob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duLmNhbGwob2JqLCBrZXkpO1xufVxuXG5mdW5jdGlvbiB0b1N0cihvYmopIHtcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbChvYmopO1xufVxuXG5mdW5jdGlvbiBuYW1lT2YoZikge1xuICAgIGlmIChmLm5hbWUpIHsgcmV0dXJuIGYubmFtZTsgfVxuICAgIHZhciBtID0gbWF0Y2guY2FsbChmdW5jdGlvblRvU3RyaW5nLmNhbGwoZiksIC9eZnVuY3Rpb25cXHMqKFtcXHckXSspLyk7XG4gICAgaWYgKG0pIHsgcmV0dXJuIG1bMV07IH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih4cywgeCkge1xuICAgIGlmICh4cy5pbmRleE9mKSB7IHJldHVybiB4cy5pbmRleE9mKHgpOyB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKHhzW2ldID09PSB4KSB7IHJldHVybiBpOyB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gaXNNYXAoeCkge1xuICAgIGlmICghbWFwU2l6ZSB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBtYXBTaXplLmNhbGwoeCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTaXplLmNhbGwoeCk7XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgTWFwOyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrTWFwKHgpIHtcbiAgICBpZiAoIXdlYWtNYXBIYXMgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgd2Vha01hcEhhcy5jYWxsKHgsIHdlYWtNYXBIYXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2Vha1NldEhhcy5jYWxsKHgsIHdlYWtTZXRIYXMpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFdlYWtNYXA7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1NldCh4KSB7XG4gICAgaWYgKCFzZXRTaXplIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHNldFNpemUuY2FsbCh4KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1hcFNpemUuY2FsbCh4KTtcbiAgICAgICAgfSBjYXRjaCAobSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggaW5zdGFuY2VvZiBTZXQ7IC8vIGNvcmUtanMgd29ya2Fyb3VuZCwgcHJlLXYyLjUuMFxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1dlYWtTZXQoeCkge1xuICAgIGlmICghd2Vha1NldEhhcyB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB3ZWFrU2V0SGFzLmNhbGwoeCwgd2Vha1NldEhhcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3ZWFrTWFwSGFzLmNhbGwoeCwgd2Vha01hcEhhcyk7XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgV2Vha1NldDsgLy8gY29yZS1qcyB3b3JrYXJvdW5kLCBwcmUtdjIuNS4wXG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudCh4KSB7XG4gICAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAodHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB4IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgeC5ub2RlTmFtZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHguZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpbnNwZWN0U3RyaW5nKHN0ciwgb3B0cykge1xuICAgIGlmIChzdHIubGVuZ3RoID4gb3B0cy5tYXhTdHJpbmdMZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHN0ci5sZW5ndGggLSBvcHRzLm1heFN0cmluZ0xlbmd0aDtcbiAgICAgICAgdmFyIHRyYWlsZXIgPSAnLi4uICcgKyByZW1haW5pbmcgKyAnIG1vcmUgY2hhcmFjdGVyJyArIChyZW1haW5pbmcgPiAxID8gJ3MnIDogJycpO1xuICAgICAgICByZXR1cm4gaW5zcGVjdFN0cmluZyhzdHIuc2xpY2UoMCwgb3B0cy5tYXhTdHJpbmdMZW5ndGgpLCBvcHRzKSArIHRyYWlsZXI7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgdmFyIHMgPSBzdHIucmVwbGFjZSgvKFsnXFxcXF0pL2csICdcXFxcJDEnKS5yZXBsYWNlKC9bXFx4MDAtXFx4MWZdL2csIGxvd2J5dGUpO1xuICAgIHJldHVybiB3cmFwUXVvdGVzKHMsICdzaW5nbGUnLCBvcHRzKTtcbn1cblxuZnVuY3Rpb24gbG93Ynl0ZShjKSB7XG4gICAgdmFyIG4gPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgdmFyIHggPSB7XG4gICAgICAgIDg6ICdiJywgOTogJ3QnLCAxMDogJ24nLCAxMjogJ2YnLCAxMzogJ3InXG4gICAgfVtuXTtcbiAgICBpZiAoeCkgeyByZXR1cm4gJ1xcXFwnICsgeDsgfVxuICAgIHJldHVybiAnXFxcXHgnICsgKG4gPCAweDEwID8gJzAnIDogJycpICsgbi50b1N0cmluZygxNik7XG59XG5cbmZ1bmN0aW9uIG1hcmtCb3hlZChzdHIpIHtcbiAgICByZXR1cm4gJ09iamVjdCgnICsgc3RyICsgJyknO1xufVxuXG5mdW5jdGlvbiB3ZWFrQ29sbGVjdGlvbk9mKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSArICcgeyA/IH0nO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uT2YodHlwZSwgc2l6ZSwgZW50cmllcywgaW5kZW50KSB7XG4gICAgdmFyIGpvaW5lZEVudHJpZXMgPSBpbmRlbnQgPyBpbmRlbnRlZEpvaW4oZW50cmllcywgaW5kZW50KSA6IGVudHJpZXMuam9pbignLCAnKTtcbiAgICByZXR1cm4gdHlwZSArICcgKCcgKyBzaXplICsgJykgeycgKyBqb2luZWRFbnRyaWVzICsgJ30nO1xufVxuXG5mdW5jdGlvbiBzaW5nbGVMaW5lVmFsdWVzKHhzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5kZXhPZih4c1tpXSwgJ1xcbicpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZW50KG9wdHMsIGRlcHRoKSB7XG4gICAgdmFyIGJhc2VJbmRlbnQ7XG4gICAgaWYgKG9wdHMuaW5kZW50ID09PSAnXFx0Jykge1xuICAgICAgICBiYXNlSW5kZW50ID0gJ1xcdCc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5pbmRlbnQgPT09ICdudW1iZXInICYmIG9wdHMuaW5kZW50ID4gMCkge1xuICAgICAgICBiYXNlSW5kZW50ID0gQXJyYXkob3B0cy5pbmRlbnQgKyAxKS5qb2luKCcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2U6IGJhc2VJbmRlbnQsXG4gICAgICAgIHByZXY6IEFycmF5KGRlcHRoICsgMSkuam9pbihiYXNlSW5kZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGluZGVudGVkSm9pbih4cywgaW5kZW50KSB7XG4gICAgaWYgKHhzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJyc7IH1cbiAgICB2YXIgbGluZUpvaW5lciA9ICdcXG4nICsgaW5kZW50LnByZXYgKyBpbmRlbnQuYmFzZTtcbiAgICByZXR1cm4gbGluZUpvaW5lciArIHhzLmpvaW4oJywnICsgbGluZUpvaW5lcikgKyAnXFxuJyArIGluZGVudC5wcmV2O1xufVxuXG5mdW5jdGlvbiBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCkge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqKTtcbiAgICB2YXIgeHMgPSBbXTtcbiAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgeHMubGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHhzW2ldID0gaGFzKG9iaiwgaSkgPyBpbnNwZWN0KG9ialtpXSwgb2JqKSA6ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBpZiAoIWhhcyhvYmosIGtleSkpIHsgY29udGludWU7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tY29udGludWVcbiAgICAgICAgaWYgKGlzQXJyICYmIFN0cmluZyhOdW1iZXIoa2V5KSkgPT09IGtleSAmJiBrZXkgPCBvYmoubGVuZ3RoKSB7IGNvbnRpbnVlOyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIGlmICgoL1teXFx3JF0vKS50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgIHhzLnB1c2goaW5zcGVjdChrZXksIG9iaikgKyAnOiAnICsgaW5zcGVjdChvYmpba2V5XSwgb2JqKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4cy5wdXNoKGtleSArICc6ICcgKyBpbnNwZWN0KG9ialtrZXldLCBvYmopKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geHM7XG59XG4iXX0=