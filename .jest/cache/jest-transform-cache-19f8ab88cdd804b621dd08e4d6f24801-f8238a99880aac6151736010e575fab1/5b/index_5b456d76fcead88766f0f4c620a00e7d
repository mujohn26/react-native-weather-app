34fac5ca05c210a8a8f3f43838b20b66
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = closestTo;

var _index = _interopRequireDefault(require("../toDate/index.js"));

var _index2 = _interopRequireDefault(require("../_lib/requiredArgs/index.js"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function closestTo(dirtyDateToCompare, dirtyDatesArray) {
  (0, _index2.default)(2, arguments);
  var dateToCompare = (0, _index.default)(dirtyDateToCompare);

  if (isNaN(dateToCompare)) {
    return new Date(NaN);
  }

  var timeToCompare = dateToCompare.getTime();
  var datesArray;

  if (dirtyDatesArray == null) {
    datesArray = [];
  } else if (typeof dirtyDatesArray.forEach === 'function') {
    datesArray = dirtyDatesArray;
  } else {
    datesArray = Array.prototype.slice.call(dirtyDatesArray);
  }

  var result;
  var minDistance;
  datesArray.forEach(function (dirtyDate) {
    var currentDate = (0, _index.default)(dirtyDate);

    if (isNaN(currentDate)) {
      result = new Date(NaN);
      minDistance = NaN;
      return;
    }

    var distance = Math.abs(timeToCompare - currentDate.getTime());

    if (result == null || distance < minDistance) {
      result = currentDate;
      minDistance = distance;
    }
  });
  return result;
}

module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImNsb3Nlc3RUbyIsIl9pbmRleCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2luZGV4MiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkaXJ0eURhdGVUb0NvbXBhcmUiLCJkaXJ0eURhdGVzQXJyYXkiLCJhcmd1bWVudHMiLCJkYXRlVG9Db21wYXJlIiwiaXNOYU4iLCJEYXRlIiwiTmFOIiwidGltZVRvQ29tcGFyZSIsImdldFRpbWUiLCJkYXRlc0FycmF5IiwiZm9yRWFjaCIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwicmVzdWx0IiwibWluRGlzdGFuY2UiLCJkaXJ0eURhdGUiLCJjdXJyZW50RGF0ZSIsImRpc3RhbmNlIiwiTWF0aCIsImFicyIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFDM0NDLEVBQUFBLEtBQUssRUFBRTtBQURvQyxDQUE3QztBQUdBRCxPQUFPLENBQUNFLE9BQVIsR0FBa0JDLFNBQWxCOztBQUVBLElBQUlDLE1BQU0sR0FBR0Msc0JBQXNCLENBQUNDLE9BQU8sc0JBQVIsQ0FBbkM7O0FBRUEsSUFBSUMsT0FBTyxHQUFHRixzQkFBc0IsQ0FBQ0MsT0FBTyxpQ0FBUixDQUFwQzs7QUFFQSxTQUFTRCxzQkFBVCxDQUFnQ0csR0FBaEMsRUFBcUM7QUFBRSxTQUFPQSxHQUFHLElBQUlBLEdBQUcsQ0FBQ0MsVUFBWCxHQUF3QkQsR0FBeEIsR0FBOEI7QUFBRU4sSUFBQUEsT0FBTyxFQUFFTTtBQUFYLEdBQXJDO0FBQXdEOztBQStCL0YsU0FBU0wsU0FBVCxDQUFtQk8sa0JBQW5CLEVBQXVDQyxlQUF2QyxFQUF3RDtBQUN0RCxHQUFDLEdBQUdKLE9BQU8sQ0FBQ0wsT0FBWixFQUFxQixDQUFyQixFQUF3QlUsU0FBeEI7QUFDQSxNQUFJQyxhQUFhLEdBQUcsQ0FBQyxHQUFHVCxNQUFNLENBQUNGLE9BQVgsRUFBb0JRLGtCQUFwQixDQUFwQjs7QUFFQSxNQUFJSSxLQUFLLENBQUNELGFBQUQsQ0FBVCxFQUEwQjtBQUN4QixXQUFPLElBQUlFLElBQUosQ0FBU0MsR0FBVCxDQUFQO0FBQ0Q7O0FBRUQsTUFBSUMsYUFBYSxHQUFHSixhQUFhLENBQUNLLE9BQWQsRUFBcEI7QUFDQSxNQUFJQyxVQUFKOztBQUVBLE1BQUlSLGVBQWUsSUFBSSxJQUF2QixFQUE2QjtBQUMzQlEsSUFBQUEsVUFBVSxHQUFHLEVBQWI7QUFDRCxHQUZELE1BRU8sSUFBSSxPQUFPUixlQUFlLENBQUNTLE9BQXZCLEtBQW1DLFVBQXZDLEVBQW1EO0FBQ3hERCxJQUFBQSxVQUFVLEdBQUdSLGVBQWI7QUFDRCxHQUZNLE1BRUE7QUFDTFEsSUFBQUEsVUFBVSxHQUFHRSxLQUFLLENBQUNDLFNBQU4sQ0FBZ0JDLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQmIsZUFBM0IsQ0FBYjtBQUNEOztBQUVELE1BQUljLE1BQUo7QUFDQSxNQUFJQyxXQUFKO0FBQ0FQLEVBQUFBLFVBQVUsQ0FBQ0MsT0FBWCxDQUFtQixVQUFVTyxTQUFWLEVBQXFCO0FBQ3RDLFFBQUlDLFdBQVcsR0FBRyxDQUFDLEdBQUd4QixNQUFNLENBQUNGLE9BQVgsRUFBb0J5QixTQUFwQixDQUFsQjs7QUFFQSxRQUFJYixLQUFLLENBQUNjLFdBQUQsQ0FBVCxFQUF3QjtBQUN0QkgsTUFBQUEsTUFBTSxHQUFHLElBQUlWLElBQUosQ0FBU0MsR0FBVCxDQUFUO0FBQ0FVLE1BQUFBLFdBQVcsR0FBR1YsR0FBZDtBQUNBO0FBQ0Q7O0FBRUQsUUFBSWEsUUFBUSxHQUFHQyxJQUFJLENBQUNDLEdBQUwsQ0FBU2QsYUFBYSxHQUFHVyxXQUFXLENBQUNWLE9BQVosRUFBekIsQ0FBZjs7QUFFQSxRQUFJTyxNQUFNLElBQUksSUFBVixJQUFrQkksUUFBUSxHQUFHSCxXQUFqQyxFQUE4QztBQUM1Q0QsTUFBQUEsTUFBTSxHQUFHRyxXQUFUO0FBQ0FGLE1BQUFBLFdBQVcsR0FBR0csUUFBZDtBQUNEO0FBQ0YsR0FmRDtBQWdCQSxTQUFPSixNQUFQO0FBQ0Q7O0FBRURPLE1BQU0sQ0FBQ2hDLE9BQVAsR0FBaUJBLE9BQU8sQ0FBQ0UsT0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNsb3Nlc3RUbztcblxudmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL3RvRGF0ZS9pbmRleC5qc1wiKSk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIEBuYW1lIGNsb3Nlc3RUb1xuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gYSBkYXRlIGZyb20gdGhlIGFycmF5IGNsb3Nlc3QgdG8gdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gYSBkYXRlIGZyb20gdGhlIGFycmF5IGNsb3Nlc3QgdG8gdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiAtIE5vdywgYGNsb3Nlc3RUb2AgZG9lc24ndCB0aHJvdyBhbiBleGNlcHRpb25cbiAqICAgd2hlbiB0aGUgc2Vjb25kIGFyZ3VtZW50IGlzIG5vdCBhbiBhcnJheSwgYW5kIHJldHVybnMgSW52YWxpZCBEYXRlIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVRvQ29tcGFyZSAtIHRoZSBkYXRlIHRvIGNvbXBhcmUgd2l0aFxuICogQHBhcmFtIHtEYXRlW118TnVtYmVyW119IGRhdGVzQXJyYXkgLSB0aGUgYXJyYXkgdG8gc2VhcmNoXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIGRhdGUgZnJvbSB0aGUgYXJyYXkgY2xvc2VzdCB0byB0aGUgZ2l2ZW4gZGF0ZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCBkYXRlIGlzIGNsb3NlciB0byA2IFNlcHRlbWJlciAyMDE1OiAxIEphbnVhcnkgMjAwMCBvciAxIEphbnVhcnkgMjAzMD9cbiAqIHZhciBkYXRlVG9Db21wYXJlID0gbmV3IERhdGUoMjAxNSwgOCwgNilcbiAqIHZhciByZXN1bHQgPSBjbG9zZXN0VG8oZGF0ZVRvQ29tcGFyZSwgW1xuICogICBuZXcgRGF0ZSgyMDAwLCAwLCAxKSxcbiAqICAgbmV3IERhdGUoMjAzMCwgMCwgMSlcbiAqIF0pXG4gKiAvLz0+IFR1ZSBKYW4gMDEgMjAzMCAwMDowMDowMFxuICovXG5mdW5jdGlvbiBjbG9zZXN0VG8oZGlydHlEYXRlVG9Db21wYXJlLCBkaXJ0eURhdGVzQXJyYXkpIHtcbiAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVUb0NvbXBhcmUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZVRvQ29tcGFyZSk7XG5cbiAgaWYgKGlzTmFOKGRhdGVUb0NvbXBhcmUpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICB2YXIgdGltZVRvQ29tcGFyZSA9IGRhdGVUb0NvbXBhcmUuZ2V0VGltZSgpO1xuICB2YXIgZGF0ZXNBcnJheTsgLy8gYGRpcnR5RGF0ZXNBcnJheWAgaXMgdW5kZWZpbmVkIG9yIG51bGxcblxuICBpZiAoZGlydHlEYXRlc0FycmF5ID09IG51bGwpIHtcbiAgICBkYXRlc0FycmF5ID0gW107IC8vIGBkaXJ0eURhdGVzQXJyYXlgIGlzIEFycmF5LCBTZXQgb3IgTWFwLCBvciBvYmplY3Qgd2l0aCBjdXN0b20gYGZvckVhY2hgIG1ldGhvZFxuICB9IGVsc2UgaWYgKHR5cGVvZiBkaXJ0eURhdGVzQXJyYXkuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRhdGVzQXJyYXkgPSBkaXJ0eURhdGVzQXJyYXk7IC8vIElmIGBkaXJ0eURhdGVzQXJyYXlgIGlzIEFycmF5LWxpa2UgT2JqZWN0LCBjb252ZXJ0IHRvIEFycmF5LiBPdGhlcndpc2UsIG1ha2UgaXQgZW1wdHkgQXJyYXlcbiAgfSBlbHNlIHtcbiAgICBkYXRlc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGlydHlEYXRlc0FycmF5KTtcbiAgfVxuXG4gIHZhciByZXN1bHQ7XG4gIHZhciBtaW5EaXN0YW5jZTtcbiAgZGF0ZXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChkaXJ0eURhdGUpIHtcbiAgICB2YXIgY3VycmVudERhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG5cbiAgICBpZiAoaXNOYU4oY3VycmVudERhdGUpKSB7XG4gICAgICByZXN1bHQgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgbWluRGlzdGFuY2UgPSBOYU47XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnModGltZVRvQ29tcGFyZSAtIGN1cnJlbnREYXRlLmdldFRpbWUoKSk7XG5cbiAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgcmVzdWx0ID0gY3VycmVudERhdGU7XG4gICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdfQ==