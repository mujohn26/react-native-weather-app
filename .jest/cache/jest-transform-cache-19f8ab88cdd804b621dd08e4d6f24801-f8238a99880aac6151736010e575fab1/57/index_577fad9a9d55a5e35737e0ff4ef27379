debaf7c678a1bd7f99b668ef4190c919
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = buildMatchPatternFn;

function buildMatchPatternFn(args) {
  return function (dirtyString, dirtyOptions) {
    var string = String(dirtyString);
    var options = dirtyOptions || {};
    var matchResult = string.match(args.matchPattern);

    if (!matchResult) {
      return null;
    }

    var matchedString = matchResult[0];
    var parseResult = string.match(args.parsePattern);

    if (!parseResult) {
      return null;
    }

    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
    value = options.valueCallback ? options.valueCallback(value) : value;
    return {
      value: value,
      rest: string.slice(matchedString.length)
    };
  };
}

module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImJ1aWxkTWF0Y2hQYXR0ZXJuRm4iLCJhcmdzIiwiZGlydHlTdHJpbmciLCJkaXJ0eU9wdGlvbnMiLCJzdHJpbmciLCJTdHJpbmciLCJvcHRpb25zIiwibWF0Y2hSZXN1bHQiLCJtYXRjaCIsIm1hdGNoUGF0dGVybiIsIm1hdGNoZWRTdHJpbmciLCJwYXJzZVJlc3VsdCIsInBhcnNlUGF0dGVybiIsInZhbHVlQ2FsbGJhY2siLCJyZXN0Iiwic2xpY2UiLCJsZW5ndGgiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQzNDQyxFQUFBQSxLQUFLLEVBQUU7QUFEb0MsQ0FBN0M7QUFHQUQsT0FBTyxDQUFDRSxPQUFSLEdBQWtCQyxtQkFBbEI7O0FBRUEsU0FBU0EsbUJBQVQsQ0FBNkJDLElBQTdCLEVBQW1DO0FBQ2pDLFNBQU8sVUFBVUMsV0FBVixFQUF1QkMsWUFBdkIsRUFBcUM7QUFDMUMsUUFBSUMsTUFBTSxHQUFHQyxNQUFNLENBQUNILFdBQUQsQ0FBbkI7QUFDQSxRQUFJSSxPQUFPLEdBQUdILFlBQVksSUFBSSxFQUE5QjtBQUNBLFFBQUlJLFdBQVcsR0FBR0gsTUFBTSxDQUFDSSxLQUFQLENBQWFQLElBQUksQ0FBQ1EsWUFBbEIsQ0FBbEI7O0FBRUEsUUFBSSxDQUFDRixXQUFMLEVBQWtCO0FBQ2hCLGFBQU8sSUFBUDtBQUNEOztBQUVELFFBQUlHLGFBQWEsR0FBR0gsV0FBVyxDQUFDLENBQUQsQ0FBL0I7QUFDQSxRQUFJSSxXQUFXLEdBQUdQLE1BQU0sQ0FBQ0ksS0FBUCxDQUFhUCxJQUFJLENBQUNXLFlBQWxCLENBQWxCOztBQUVBLFFBQUksQ0FBQ0QsV0FBTCxFQUFrQjtBQUNoQixhQUFPLElBQVA7QUFDRDs7QUFFRCxRQUFJYixLQUFLLEdBQUdHLElBQUksQ0FBQ1ksYUFBTCxHQUFxQlosSUFBSSxDQUFDWSxhQUFMLENBQW1CRixXQUFXLENBQUMsQ0FBRCxDQUE5QixDQUFyQixHQUEwREEsV0FBVyxDQUFDLENBQUQsQ0FBakY7QUFDQWIsSUFBQUEsS0FBSyxHQUFHUSxPQUFPLENBQUNPLGFBQVIsR0FBd0JQLE9BQU8sQ0FBQ08sYUFBUixDQUFzQmYsS0FBdEIsQ0FBeEIsR0FBdURBLEtBQS9EO0FBQ0EsV0FBTztBQUNMQSxNQUFBQSxLQUFLLEVBQUVBLEtBREY7QUFFTGdCLE1BQUFBLElBQUksRUFBRVYsTUFBTSxDQUFDVyxLQUFQLENBQWFMLGFBQWEsQ0FBQ00sTUFBM0I7QUFGRCxLQUFQO0FBSUQsR0F0QkQ7QUF1QkQ7O0FBRURDLE1BQU0sQ0FBQ3BCLE9BQVAsR0FBaUJBLE9BQU8sQ0FBQ0UsT0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkTWF0Y2hQYXR0ZXJuRm47XG5cbmZ1bmN0aW9uIGJ1aWxkTWF0Y2hQYXR0ZXJuRm4oYXJncykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRpcnR5U3RyaW5nLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICB2YXIgc3RyaW5nID0gU3RyaW5nKGRpcnR5U3RyaW5nKTtcbiAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgbWF0Y2hSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5tYXRjaFBhdHRlcm4pO1xuXG4gICAgaWYgKCFtYXRjaFJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICB2YXIgcGFyc2VSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5wYXJzZVBhdHRlcm4pO1xuXG4gICAgaWYgKCFwYXJzZVJlc3VsdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKHBhcnNlUmVzdWx0WzBdKSA6IHBhcnNlUmVzdWx0WzBdO1xuICAgIHZhbHVlID0gb3B0aW9ucy52YWx1ZUNhbGxiYWNrID8gb3B0aW9ucy52YWx1ZUNhbGxiYWNrKHZhbHVlKSA6IHZhbHVlO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICByZXN0OiBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpXG4gICAgfTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il19