d86b5c9bd2530bbb6c0113e4749019de
'use strict';

var supportsDescriptors = require('define-properties').supportsDescriptors;

var functionsHaveNames = require('functions-have-names')();

var getPolyfill = require("./polyfill");

var defineProperty = Object.defineProperty;
var TypeErr = TypeError;

module.exports = function shimName() {
  var polyfill = getPolyfill();

  if (functionsHaveNames) {
    return polyfill;
  }

  if (!supportsDescriptors) {
    throw new TypeErr('Shimming Function.prototype.name support requires ES5 property descriptor support.');
  }

  var functionProto = Function.prototype;
  defineProperty(functionProto, 'name', {
    configurable: true,
    enumerable: false,
    get: function get() {
      var name = polyfill.call(this);

      if (this !== functionProto) {
        defineProperty(this, 'name', {
          configurable: true,
          enumerable: false,
          value: name,
          writable: false
        });
      }

      return name;
    }
  });
  return polyfill;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoaW0uanMiXSwibmFtZXMiOlsic3VwcG9ydHNEZXNjcmlwdG9ycyIsInJlcXVpcmUiLCJmdW5jdGlvbnNIYXZlTmFtZXMiLCJnZXRQb2x5ZmlsbCIsImRlZmluZVByb3BlcnR5IiwiT2JqZWN0IiwiVHlwZUVyciIsIlR5cGVFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJzaGltTmFtZSIsInBvbHlmaWxsIiwiZnVuY3Rpb25Qcm90byIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm5hbWUiLCJjYWxsIiwidmFsdWUiLCJ3cml0YWJsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsbUJBQW1CLEdBQUdDLE9BQU8sQ0FBQyxtQkFBRCxDQUFQLENBQTZCRCxtQkFBdkQ7O0FBQ0EsSUFBSUUsa0JBQWtCLEdBQUdELE9BQU8sQ0FBQyxzQkFBRCxDQUFQLEVBQXpCOztBQUNBLElBQUlFLFdBQVcsR0FBR0YsT0FBTyxjQUF6Qjs7QUFDQSxJQUFJRyxjQUFjLEdBQUdDLE1BQU0sQ0FBQ0QsY0FBNUI7QUFDQSxJQUFJRSxPQUFPLEdBQUdDLFNBQWQ7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxRQUFULEdBQW9CO0FBQ3BDLE1BQUlDLFFBQVEsR0FBR1IsV0FBVyxFQUExQjs7QUFDQSxNQUFJRCxrQkFBSixFQUF3QjtBQUN2QixXQUFPUyxRQUFQO0FBQ0E7O0FBQ0QsTUFBSSxDQUFDWCxtQkFBTCxFQUEwQjtBQUN6QixVQUFNLElBQUlNLE9BQUosQ0FBWSxvRkFBWixDQUFOO0FBQ0E7O0FBQ0QsTUFBSU0sYUFBYSxHQUFHQyxRQUFRLENBQUNDLFNBQTdCO0FBQ0FWLEVBQUFBLGNBQWMsQ0FBQ1EsYUFBRCxFQUFnQixNQUFoQixFQUF3QjtBQUNyQ0csSUFBQUEsWUFBWSxFQUFFLElBRHVCO0FBRXJDQyxJQUFBQSxVQUFVLEVBQUUsS0FGeUI7QUFHckNDLElBQUFBLEdBQUcsRUFBRSxlQUFZO0FBQ2hCLFVBQUlDLElBQUksR0FBR1AsUUFBUSxDQUFDUSxJQUFULENBQWMsSUFBZCxDQUFYOztBQUNBLFVBQUksU0FBU1AsYUFBYixFQUE0QjtBQUMzQlIsUUFBQUEsY0FBYyxDQUFDLElBQUQsRUFBTyxNQUFQLEVBQWU7QUFDNUJXLFVBQUFBLFlBQVksRUFBRSxJQURjO0FBRTVCQyxVQUFBQSxVQUFVLEVBQUUsS0FGZ0I7QUFHNUJJLFVBQUFBLEtBQUssRUFBRUYsSUFIcUI7QUFJNUJHLFVBQUFBLFFBQVEsRUFBRTtBQUprQixTQUFmLENBQWQ7QUFNQTs7QUFDRCxhQUFPSCxJQUFQO0FBQ0E7QUFkb0MsR0FBeEIsQ0FBZDtBQWdCQSxTQUFPUCxRQUFQO0FBQ0EsQ0ExQkQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBzdXBwb3J0c0Rlc2NyaXB0b3JzID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKS5zdXBwb3J0c0Rlc2NyaXB0b3JzO1xudmFyIGZ1bmN0aW9uc0hhdmVOYW1lcyA9IHJlcXVpcmUoJ2Z1bmN0aW9ucy1oYXZlLW5hbWVzJykoKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBUeXBlRXJyID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoaW1OYW1lKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKSB7XG5cdFx0cmV0dXJuIHBvbHlmaWxsO1xuXHR9XG5cdGlmICghc3VwcG9ydHNEZXNjcmlwdG9ycykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyKCdTaGltbWluZyBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSBzdXBwb3J0IHJlcXVpcmVzIEVTNSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHN1cHBvcnQuJyk7XG5cdH1cblx0dmFyIGZ1bmN0aW9uUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cdGRlZmluZVByb3BlcnR5KGZ1bmN0aW9uUHJvdG8sICduYW1lJywge1xuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBuYW1lID0gcG9seWZpbGwuY2FsbCh0aGlzKTtcblx0XHRcdGlmICh0aGlzICE9PSBmdW5jdGlvblByb3RvKSB7XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0XHR3cml0YWJsZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcG9seWZpbGw7XG59O1xuIl19