aef78b51abfe6a7c400aef4090956e23
'use strict';

var Tokenizer = require("../tokenizer"),
    HTML = require("./html");

var $ = HTML.TAG_NAMES,
    NS = HTML.NAMESPACES,
    ATTRS = HTML.ATTRS;
var MIME_TYPES = {
  TEXT_HTML: 'text/html',
  APPLICATION_XML: 'application/xhtml+xml'
};
var DEFINITION_URL_ATTR = 'definitionurl',
    ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL',
    SVG_ATTRS_ADJUSTMENT_MAP = {
  'attributename': 'attributeName',
  'attributetype': 'attributeType',
  'basefrequency': 'baseFrequency',
  'baseprofile': 'baseProfile',
  'calcmode': 'calcMode',
  'clippathunits': 'clipPathUnits',
  'diffuseconstant': 'diffuseConstant',
  'edgemode': 'edgeMode',
  'filterunits': 'filterUnits',
  'glyphref': 'glyphRef',
  'gradienttransform': 'gradientTransform',
  'gradientunits': 'gradientUnits',
  'kernelmatrix': 'kernelMatrix',
  'kernelunitlength': 'kernelUnitLength',
  'keypoints': 'keyPoints',
  'keysplines': 'keySplines',
  'keytimes': 'keyTimes',
  'lengthadjust': 'lengthAdjust',
  'limitingconeangle': 'limitingConeAngle',
  'markerheight': 'markerHeight',
  'markerunits': 'markerUnits',
  'markerwidth': 'markerWidth',
  'maskcontentunits': 'maskContentUnits',
  'maskunits': 'maskUnits',
  'numoctaves': 'numOctaves',
  'pathlength': 'pathLength',
  'patterncontentunits': 'patternContentUnits',
  'patterntransform': 'patternTransform',
  'patternunits': 'patternUnits',
  'pointsatx': 'pointsAtX',
  'pointsaty': 'pointsAtY',
  'pointsatz': 'pointsAtZ',
  'preservealpha': 'preserveAlpha',
  'preserveaspectratio': 'preserveAspectRatio',
  'primitiveunits': 'primitiveUnits',
  'refx': 'refX',
  'refy': 'refY',
  'repeatcount': 'repeatCount',
  'repeatdur': 'repeatDur',
  'requiredextensions': 'requiredExtensions',
  'requiredfeatures': 'requiredFeatures',
  'specularconstant': 'specularConstant',
  'specularexponent': 'specularExponent',
  'spreadmethod': 'spreadMethod',
  'startoffset': 'startOffset',
  'stddeviation': 'stdDeviation',
  'stitchtiles': 'stitchTiles',
  'surfacescale': 'surfaceScale',
  'systemlanguage': 'systemLanguage',
  'tablevalues': 'tableValues',
  'targetx': 'targetX',
  'targety': 'targetY',
  'textlength': 'textLength',
  'viewbox': 'viewBox',
  'viewtarget': 'viewTarget',
  'xchannelselector': 'xChannelSelector',
  'ychannelselector': 'yChannelSelector',
  'zoomandpan': 'zoomAndPan'
},
    XML_ATTRS_ADJUSTMENT_MAP = {
  'xlink:actuate': {
    prefix: 'xlink',
    name: 'actuate',
    namespace: NS.XLINK
  },
  'xlink:arcrole': {
    prefix: 'xlink',
    name: 'arcrole',
    namespace: NS.XLINK
  },
  'xlink:href': {
    prefix: 'xlink',
    name: 'href',
    namespace: NS.XLINK
  },
  'xlink:role': {
    prefix: 'xlink',
    name: 'role',
    namespace: NS.XLINK
  },
  'xlink:show': {
    prefix: 'xlink',
    name: 'show',
    namespace: NS.XLINK
  },
  'xlink:title': {
    prefix: 'xlink',
    name: 'title',
    namespace: NS.XLINK
  },
  'xlink:type': {
    prefix: 'xlink',
    name: 'type',
    namespace: NS.XLINK
  },
  'xml:base': {
    prefix: 'xml',
    name: 'base',
    namespace: NS.XML
  },
  'xml:lang': {
    prefix: 'xml',
    name: 'lang',
    namespace: NS.XML
  },
  'xml:space': {
    prefix: 'xml',
    name: 'space',
    namespace: NS.XML
  },
  'xmlns': {
    prefix: '',
    name: 'xmlns',
    namespace: NS.XMLNS
  },
  'xmlns:xlink': {
    prefix: 'xmlns',
    name: 'xlink',
    namespace: NS.XMLNS
  }
};
var SVG_TAG_NAMES_ADJUSTMENT_MAP = exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {
  'altglyph': 'altGlyph',
  'altglyphdef': 'altGlyphDef',
  'altglyphitem': 'altGlyphItem',
  'animatecolor': 'animateColor',
  'animatemotion': 'animateMotion',
  'animatetransform': 'animateTransform',
  'clippath': 'clipPath',
  'feblend': 'feBlend',
  'fecolormatrix': 'feColorMatrix',
  'fecomponenttransfer': 'feComponentTransfer',
  'fecomposite': 'feComposite',
  'feconvolvematrix': 'feConvolveMatrix',
  'fediffuselighting': 'feDiffuseLighting',
  'fedisplacementmap': 'feDisplacementMap',
  'fedistantlight': 'feDistantLight',
  'feflood': 'feFlood',
  'fefunca': 'feFuncA',
  'fefuncb': 'feFuncB',
  'fefuncg': 'feFuncG',
  'fefuncr': 'feFuncR',
  'fegaussianblur': 'feGaussianBlur',
  'feimage': 'feImage',
  'femerge': 'feMerge',
  'femergenode': 'feMergeNode',
  'femorphology': 'feMorphology',
  'feoffset': 'feOffset',
  'fepointlight': 'fePointLight',
  'fespecularlighting': 'feSpecularLighting',
  'fespotlight': 'feSpotLight',
  'fetile': 'feTile',
  'feturbulence': 'feTurbulence',
  'foreignobject': 'foreignObject',
  'glyphref': 'glyphRef',
  'lineargradient': 'linearGradient',
  'radialgradient': 'radialGradient',
  'textpath': 'textPath'
};
var EXITS_FOREIGN_CONTENT = Object.create(null);
EXITS_FOREIGN_CONTENT[$.B] = true;
EXITS_FOREIGN_CONTENT[$.BIG] = true;
EXITS_FOREIGN_CONTENT[$.BLOCKQUOTE] = true;
EXITS_FOREIGN_CONTENT[$.BODY] = true;
EXITS_FOREIGN_CONTENT[$.BR] = true;
EXITS_FOREIGN_CONTENT[$.CENTER] = true;
EXITS_FOREIGN_CONTENT[$.CODE] = true;
EXITS_FOREIGN_CONTENT[$.DD] = true;
EXITS_FOREIGN_CONTENT[$.DIV] = true;
EXITS_FOREIGN_CONTENT[$.DL] = true;
EXITS_FOREIGN_CONTENT[$.DT] = true;
EXITS_FOREIGN_CONTENT[$.EM] = true;
EXITS_FOREIGN_CONTENT[$.EMBED] = true;
EXITS_FOREIGN_CONTENT[$.H1] = true;
EXITS_FOREIGN_CONTENT[$.H2] = true;
EXITS_FOREIGN_CONTENT[$.H3] = true;
EXITS_FOREIGN_CONTENT[$.H4] = true;
EXITS_FOREIGN_CONTENT[$.H5] = true;
EXITS_FOREIGN_CONTENT[$.H6] = true;
EXITS_FOREIGN_CONTENT[$.HEAD] = true;
EXITS_FOREIGN_CONTENT[$.HR] = true;
EXITS_FOREIGN_CONTENT[$.I] = true;
EXITS_FOREIGN_CONTENT[$.IMG] = true;
EXITS_FOREIGN_CONTENT[$.LI] = true;
EXITS_FOREIGN_CONTENT[$.LISTING] = true;
EXITS_FOREIGN_CONTENT[$.MENU] = true;
EXITS_FOREIGN_CONTENT[$.META] = true;
EXITS_FOREIGN_CONTENT[$.NOBR] = true;
EXITS_FOREIGN_CONTENT[$.OL] = true;
EXITS_FOREIGN_CONTENT[$.P] = true;
EXITS_FOREIGN_CONTENT[$.PRE] = true;
EXITS_FOREIGN_CONTENT[$.RUBY] = true;
EXITS_FOREIGN_CONTENT[$.S] = true;
EXITS_FOREIGN_CONTENT[$.SMALL] = true;
EXITS_FOREIGN_CONTENT[$.SPAN] = true;
EXITS_FOREIGN_CONTENT[$.STRONG] = true;
EXITS_FOREIGN_CONTENT[$.STRIKE] = true;
EXITS_FOREIGN_CONTENT[$.SUB] = true;
EXITS_FOREIGN_CONTENT[$.SUP] = true;
EXITS_FOREIGN_CONTENT[$.TABLE] = true;
EXITS_FOREIGN_CONTENT[$.TT] = true;
EXITS_FOREIGN_CONTENT[$.U] = true;
EXITS_FOREIGN_CONTENT[$.UL] = true;
EXITS_FOREIGN_CONTENT[$.VAR] = true;

exports.causesExit = function (startTagToken) {
  var tn = startTagToken.tagName;
  var isFontWithAttrs = tn === $.FONT && (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null || Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null || Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);
  return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];
};

exports.adjustTokenMathMLAttrs = function (token) {
  for (var i = 0; i < token.attrs.length; i++) {
    if (token.attrs[i].name === DEFINITION_URL_ATTR) {
      token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;
      break;
    }
  }
};

exports.adjustTokenSVGAttrs = function (token) {
  for (var i = 0; i < token.attrs.length; i++) {
    var adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];
    if (adjustedAttrName) token.attrs[i].name = adjustedAttrName;
  }
};

exports.adjustTokenXMLAttrs = function (token) {
  for (var i = 0; i < token.attrs.length; i++) {
    var adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];

    if (adjustedAttrEntry) {
      token.attrs[i].prefix = adjustedAttrEntry.prefix;
      token.attrs[i].name = adjustedAttrEntry.name;
      token.attrs[i].namespace = adjustedAttrEntry.namespace;
    }
  }
};

exports.adjustTokenSVGTagName = function (token) {
  var adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];
  if (adjustedTagName) token.tagName = adjustedTagName;
};

function isMathMLTextIntegrationPoint(tn, ns) {
  return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);
}

function isHtmlIntegrationPoint(tn, ns, attrs) {
  if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {
    for (var i = 0; i < attrs.length; i++) {
      if (attrs[i].name === ATTRS.ENCODING) {
        var value = attrs[i].value.toLowerCase();
        return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;
      }
    }
  }

  return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);
}

exports.isIntegrationPoint = function (tn, ns, attrs, foreignNS) {
  if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) return true;
  if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) return true;
  return false;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcmVpZ25fY29udGVudC5qcyJdLCJuYW1lcyI6WyJUb2tlbml6ZXIiLCJyZXF1aXJlIiwiSFRNTCIsIiQiLCJUQUdfTkFNRVMiLCJOUyIsIk5BTUVTUEFDRVMiLCJBVFRSUyIsIk1JTUVfVFlQRVMiLCJURVhUX0hUTUwiLCJBUFBMSUNBVElPTl9YTUwiLCJERUZJTklUSU9OX1VSTF9BVFRSIiwiQURKVVNURURfREVGSU5JVElPTl9VUkxfQVRUUiIsIlNWR19BVFRSU19BREpVU1RNRU5UX01BUCIsIlhNTF9BVFRSU19BREpVU1RNRU5UX01BUCIsInByZWZpeCIsIm5hbWUiLCJuYW1lc3BhY2UiLCJYTElOSyIsIlhNTCIsIlhNTE5TIiwiU1ZHX1RBR19OQU1FU19BREpVU1RNRU5UX01BUCIsImV4cG9ydHMiLCJFWElUU19GT1JFSUdOX0NPTlRFTlQiLCJPYmplY3QiLCJjcmVhdGUiLCJCIiwiQklHIiwiQkxPQ0tRVU9URSIsIkJPRFkiLCJCUiIsIkNFTlRFUiIsIkNPREUiLCJERCIsIkRJViIsIkRMIiwiRFQiLCJFTSIsIkVNQkVEIiwiSDEiLCJIMiIsIkgzIiwiSDQiLCJINSIsIkg2IiwiSEVBRCIsIkhSIiwiSSIsIklNRyIsIkxJIiwiTElTVElORyIsIk1FTlUiLCJNRVRBIiwiTk9CUiIsIk9MIiwiUCIsIlBSRSIsIlJVQlkiLCJTIiwiU01BTEwiLCJTUEFOIiwiU1RST05HIiwiU1RSSUtFIiwiU1VCIiwiU1VQIiwiVEFCTEUiLCJUVCIsIlUiLCJVTCIsIlZBUiIsImNhdXNlc0V4aXQiLCJzdGFydFRhZ1Rva2VuIiwidG4iLCJ0YWdOYW1lIiwiaXNGb250V2l0aEF0dHJzIiwiRk9OVCIsImdldFRva2VuQXR0ciIsIkNPTE9SIiwiU0laRSIsIkZBQ0UiLCJhZGp1c3RUb2tlbk1hdGhNTEF0dHJzIiwidG9rZW4iLCJpIiwiYXR0cnMiLCJsZW5ndGgiLCJhZGp1c3RUb2tlblNWR0F0dHJzIiwiYWRqdXN0ZWRBdHRyTmFtZSIsImFkanVzdFRva2VuWE1MQXR0cnMiLCJhZGp1c3RlZEF0dHJFbnRyeSIsImFkanVzdFRva2VuU1ZHVGFnTmFtZSIsImFkanVzdGVkVGFnTmFtZSIsImlzTWF0aE1MVGV4dEludGVncmF0aW9uUG9pbnQiLCJucyIsIk1BVEhNTCIsIk1JIiwiTU8iLCJNTiIsIk1TIiwiTVRFWFQiLCJpc0h0bWxJbnRlZ3JhdGlvblBvaW50IiwiQU5OT1RBVElPTl9YTUwiLCJFTkNPRElORyIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJTVkciLCJGT1JFSUdOX09CSkVDVCIsIkRFU0MiLCJUSVRMRSIsImlzSW50ZWdyYXRpb25Qb2ludCIsImZvcmVpZ25OUyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsU0FBUyxHQUFHQyxPQUFPLGdCQUF2QjtBQUFBLElBQ0lDLElBQUksR0FBR0QsT0FBTyxVQURsQjs7QUFJQSxJQUFJRSxDQUFDLEdBQUdELElBQUksQ0FBQ0UsU0FBYjtBQUFBLElBQ0lDLEVBQUUsR0FBR0gsSUFBSSxDQUFDSSxVQURkO0FBQUEsSUFFSUMsS0FBSyxHQUFHTCxJQUFJLENBQUNLLEtBRmpCO0FBTUEsSUFBSUMsVUFBVSxHQUFHO0FBQ2JDLEVBQUFBLFNBQVMsRUFBRSxXQURFO0FBRWJDLEVBQUFBLGVBQWUsRUFBRTtBQUZKLENBQWpCO0FBTUEsSUFBSUMsbUJBQW1CLEdBQUcsZUFBMUI7QUFBQSxJQUNJQyw0QkFBNEIsR0FBRyxlQURuQztBQUFBLElBRUlDLHdCQUF3QixHQUFHO0FBQ3ZCLG1CQUFpQixlQURNO0FBRXZCLG1CQUFpQixlQUZNO0FBR3ZCLG1CQUFpQixlQUhNO0FBSXZCLGlCQUFlLGFBSlE7QUFLdkIsY0FBWSxVQUxXO0FBTXZCLG1CQUFpQixlQU5NO0FBT3ZCLHFCQUFtQixpQkFQSTtBQVF2QixjQUFZLFVBUlc7QUFTdkIsaUJBQWUsYUFUUTtBQVV2QixjQUFZLFVBVlc7QUFXdkIsdUJBQXFCLG1CQVhFO0FBWXZCLG1CQUFpQixlQVpNO0FBYXZCLGtCQUFnQixjQWJPO0FBY3ZCLHNCQUFvQixrQkFkRztBQWV2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Q21HLEdBQVYsS0FBa0JoQyxFQUFFLEtBQUtyRSxDQUFDLENBQUNzRyxjQUFULElBQTJCakMsRUFBRSxLQUFLckUsQ0FBQyxDQUFDdUcsSUFBcEMsSUFBNENsQyxFQUFFLEtBQUtyRSxDQUFDLENBQUN3RyxLQUF2RSxDQUFQO0FBQ0g7O0FBRURyRixPQUFPLENBQUNzRixrQkFBUixHQUE2QixVQUFVcEMsRUFBVixFQUFjb0IsRUFBZCxFQUFrQlQsS0FBbEIsRUFBeUIwQixTQUF6QixFQUFvQztBQUM3RCxNQUFJLENBQUMsQ0FBQ0EsU0FBRCxJQUFjQSxTQUFTLEtBQUt4RyxFQUFFLENBQUNILElBQWhDLEtBQXlDaUcsc0JBQXNCLENBQUMzQixFQUFELEVBQUtvQixFQUFMLEVBQVNULEtBQVQsQ0FBbkUsRUFDSSxPQUFPLElBQVA7QUFFSixNQUFJLENBQUMsQ0FBQzBCLFNBQUQsSUFBY0EsU0FBUyxLQUFLeEcsRUFBRSxDQUFDd0YsTUFBaEMsS0FBMkNGLDRCQUE0QixDQUFDbkIsRUFBRCxFQUFLb0IsRUFBTCxDQUEzRSxFQUNJLE9BQU8sSUFBUDtBQUVKLFNBQU8sS0FBUDtBQUNILENBUkQiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBUb2tlbml6ZXIgPSByZXF1aXJlKCcuLi90b2tlbml6ZXInKSxcbiAgICBIVE1MID0gcmVxdWlyZSgnLi9odG1sJyk7XG5cbi8vQWxpYXNlc1xudmFyICQgPSBIVE1MLlRBR19OQU1FUyxcbiAgICBOUyA9IEhUTUwuTkFNRVNQQUNFUyxcbiAgICBBVFRSUyA9IEhUTUwuQVRUUlM7XG5cblxuLy9NSU1FIHR5cGVzXG52YXIgTUlNRV9UWVBFUyA9IHtcbiAgICBURVhUX0hUTUw6ICd0ZXh0L2h0bWwnLFxuICAgIEFQUExJQ0FUSU9OX1hNTDogJ2FwcGxpY2F0aW9uL3hodG1sK3htbCdcbn07XG5cbi8vQXR0cmlidXRlc1xudmFyIERFRklOSVRJT05fVVJMX0FUVFIgPSAnZGVmaW5pdGlvbnVybCcsXG4gICAgQURKVVNURURfREVGSU5JVElPTl9VUkxfQVRUUiA9ICdkZWZpbml0aW9uVVJMJyxcbiAgICBTVkdfQVRUUlNfQURKVVNUTUVOVF9NQVAgPSB7XG4gICAgICAgICdhdHRyaWJ1dGVuYW1lJzogJ2F0dHJpYnV0ZU5hbWUnLFxuICAgICAgICAnYXR0cmlidXRldHlwZSc6ICdhdHRyaWJ1dGVUeXBlJyxcbiAgICAgICAgJ2Jhc2VmcmVxdWVuY3knOiAnYmFzZUZyZXF1ZW5jeScsXG4gICAgICAgICdiYXNlcHJvZmlsZSc6ICdiYXNlUHJvZmlsZScsXG4gICAgICAgICdjYWxjbW9kZSc6ICdjYWxjTW9kZScsXG4gICAgICAgICdjbGlwcGF0aHVuaXRzJzogJ2NsaXBQYXRoVW5pdHMnLFxuICAgICAgICAnZGlmZnVzZWNvbnN0YW50JzogJ2RpZmZ1c2VDb25zdGFudCcsXG4gICAgICAgICdlZGdlbW9kZSc6ICdlZGdlTW9kZScsXG4gICAgICAgICdmaWx0ZXJ1bml0cyc6ICdmaWx0ZXJVbml0cycsXG4gICAgICAgICdnbHlwaHJlZic6ICdnbHlwaFJlZicsXG4gICAgICAgICdncmFkaWVudHRyYW5zZm9ybSc6ICdncmFkaWVudFRyYW5zZm9ybScsXG4gICAgICAgICdncmFkaWVudHVuaXRzJzogJ2dyYWRpZW50VW5pdHMnLFxuICAgICAgICAna2VybmVsbWF0cml4JzogJ2tlcm5lbE1hdHJpeCcsXG4gICAgICAgICdrZXJuZWx1bml0bGVuZ3RoJzogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICAgICAgICAna2V5cG9pbnRzJzogJ2tleVBvaW50cycsXG4gICAgICAgICdrZXlzcGxpbmVzJzogJ2tleVNwbGluZXMnLFxuICAgICAgICAna2V5dGltZXMnOiAna2V5VGltZXMnLFxuICAgICAgICAnbGVuZ3RoYWRqdXN0JzogJ2xlbmd0aEFkanVzdCcsXG4gICAgICAgICdsaW1pdGluZ2NvbmVhbmdsZSc6ICdsaW1pdGluZ0NvbmVBbmdsZScsXG4gICAgICAgICdtYXJrZXJoZWlnaHQnOiAnbWFya2VySGVpZ2h0JyxcbiAgICAgICAgJ21hcmtlcnVuaXRzJzogJ21hcmtlclVuaXRzJyxcbiAgICAgICAgJ21hcmtlcndpZHRoJzogJ21hcmtlcldpZHRoJyxcbiAgICAgICAgJ21hc2tjb250ZW50dW5pdHMnOiAnbWFza0NvbnRlbnRVbml0cycsXG4gICAgICAgICdtYXNrdW5pdHMnOiAnbWFza1VuaXRzJyxcbiAgICAgICAgJ251bW9jdGF2ZXMnOiAnbnVtT2N0YXZlcycsXG4gICAgICAgICdwYXRobGVuZ3RoJzogJ3BhdGhMZW5ndGgnLFxuICAgICAgICAncGF0dGVybmNvbnRlbnR1bml0cyc6ICdwYXR0ZXJuQ29udGVudFVuaXRzJyxcbiAgICAgICAgJ3BhdHRlcm50cmFuc2Zvcm0nOiAncGF0dGVyblRyYW5zZm9ybScsXG4gICAgICAgICdwYXR0ZXJudW5pdHMnOiAncGF0dGVyblVuaXRzJyxcbiAgICAgICAgJ3BvaW50c2F0eCc6ICdwb2ludHNBdFgnLFxuICAgICAgICAncG9pbnRzYXR5JzogJ3BvaW50c0F0WScsXG4gICAgICAgICdwb2ludHNhdHonOiAncG9pbnRzQXRaJyxcbiAgICAgICAgJ3ByZXNlcnZlYWxwaGEnOiAncHJlc2VydmVBbHBoYScsXG4gICAgICAgICdwcmVzZXJ2ZWFzcGVjdHJhdGlvJzogJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLFxuICAgICAgICAncHJpbWl0aXZldW5pdHMnOiAncHJpbWl0aXZlVW5pdHMnLFxuICAgICAgICAncmVmeCc6ICdyZWZYJyxcbiAgICAgICAgJ3JlZnknOiAncmVmWScsXG4gICAgICAgICdyZXBlYXRjb3VudCc6ICdyZXBlYXRDb3VudCcsXG4gICAgICAgICdyZXBlYXRkdXInOiAncmVwZWF0RHVyJyxcbiAgICAgICAgJ3JlcXVpcmVkZXh0ZW5zaW9ucyc6ICdyZXF1aXJlZEV4dGVuc2lvbnMnLFxuICAgICAgICAncmVxdWlyZWRmZWF0dXJlcyc6ICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgICAgICAgJ3NwZWN1bGFyY29uc3RhbnQnOiAnc3BlY3VsYXJDb25zdGFudCcsXG4gICAgICAgICdzcGVjdWxhcmV4cG9uZW50JzogJ3NwZWN1bGFyRXhwb25lbnQnLFxuICAgICAgICAnc3ByZWFkbWV0aG9kJzogJ3NwcmVhZE1ldGhvZCcsXG4gICAgICAgICdzdGFydG9mZnNldCc6ICdzdGFydE9mZnNldCcsXG4gICAgICAgICdzdGRkZXZpYXRpb24nOiAnc3RkRGV2aWF0aW9uJyxcbiAgICAgICAgJ3N0aXRjaHRpbGVzJzogJ3N0aXRjaFRpbGVzJyxcbiAgICAgICAgJ3N1cmZhY2VzY2FsZSc6ICdzdXJmYWNlU2NhbGUnLFxuICAgICAgICAnc3lzdGVtbGFuZ3VhZ2UnOiAnc3lzdGVtTGFuZ3VhZ2UnLFxuICAgICAgICAndGFibGV2YWx1ZXMnOiAndGFibGVWYWx1ZXMnLFxuICAgICAgICAndGFyZ2V0eCc6ICd0YXJnZXRYJyxcbiAgICAgICAgJ3RhcmdldHknOiAndGFyZ2V0WScsXG4gICAgICAgICd0ZXh0bGVuZ3RoJzogJ3RleHRMZW5ndGgnLFxuICAgICAgICAndmlld2JveCc6ICd2aWV3Qm94JyxcbiAgICAgICAgJ3ZpZXd0YXJnZXQnOiAndmlld1RhcmdldCcsXG4gICAgICAgICd4Y2hhbm5lbHNlbGVjdG9yJzogJ3hDaGFubmVsU2VsZWN0b3InLFxuICAgICAgICAneWNoYW5uZWxzZWxlY3Rvcic6ICd5Q2hhbm5lbFNlbGVjdG9yJyxcbiAgICAgICAgJ3pvb21hbmRwYW4nOiAnem9vbUFuZFBhbidcbiAgICB9LFxuICAgIFhNTF9BVFRSU19BREpVU1RNRU5UX01BUCA9IHtcbiAgICAgICAgJ3hsaW5rOmFjdHVhdGUnOiB7cHJlZml4OiAneGxpbmsnLCBuYW1lOiAnYWN0dWF0ZScsIG5hbWVzcGFjZTogTlMuWExJTkt9LFxuICAgICAgICAneGxpbms6YXJjcm9sZSc6IHtwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdhcmNyb2xlJywgbmFtZXNwYWNlOiBOUy5YTElOS30sXG4gICAgICAgICd4bGluazpocmVmJzoge3ByZWZpeDogJ3hsaW5rJywgbmFtZTogJ2hyZWYnLCBuYW1lc3BhY2U6IE5TLlhMSU5LfSxcbiAgICAgICAgJ3hsaW5rOnJvbGUnOiB7cHJlZml4OiAneGxpbmsnLCBuYW1lOiAncm9sZScsIG5hbWVzcGFjZTogTlMuWExJTkt9LFxuICAgICAgICAneGxpbms6c2hvdyc6IHtwcmVmaXg6ICd4bGluaycsIG5hbWU6ICdzaG93JywgbmFtZXNwYWNlOiBOUy5YTElOS30sXG4gICAgICAgICd4bGluazp0aXRsZSc6IHtwcmVmaXg6ICd4bGluaycsIG5hbWU6ICd0aXRsZScsIG5hbWVzcGFjZTogTlMuWExJTkt9LFxuICAgICAgICAneGxpbms6dHlwZSc6IHtwcmVmaXg6ICd4bGluaycsIG5hbWU6ICd0eXBlJywgbmFtZXNwYWNlOiBOUy5YTElOS30sXG4gICAgICAgICd4bWw6YmFzZSc6IHtwcmVmaXg6ICd4bWwnLCBuYW1lOiAnYmFzZScsIG5hbWVzcGFjZTogTlMuWE1MfSxcbiAgICAgICAgJ3htbDpsYW5nJzoge3ByZWZpeDogJ3htbCcsIG5hbWU6ICdsYW5nJywgbmFtZXNwYWNlOiBOUy5YTUx9LFxuICAgICAgICAneG1sOnNwYWNlJzoge3ByZWZpeDogJ3htbCcsIG5hbWU6ICdzcGFjZScsIG5hbWVzcGFjZTogTlMuWE1MfSxcbiAgICAgICAgJ3htbG5zJzoge3ByZWZpeDogJycsIG5hbWU6ICd4bWxucycsIG5hbWVzcGFjZTogTlMuWE1MTlN9LFxuICAgICAgICAneG1sbnM6eGxpbmsnOiB7cHJlZml4OiAneG1sbnMnLCBuYW1lOiAneGxpbmsnLCBuYW1lc3BhY2U6IE5TLlhNTE5TfVxuXG4gICAgfTtcblxuLy9TVkcgdGFnIG5hbWVzIGFkanVzdG1lbnQgbWFwXG52YXIgU1ZHX1RBR19OQU1FU19BREpVU1RNRU5UX01BUCA9IGV4cG9ydHMuU1ZHX1RBR19OQU1FU19BREpVU1RNRU5UX01BUCA9IHtcbiAgICAnYWx0Z2x5cGgnOiAnYWx0R2x5cGgnLFxuICAgICdhbHRnbHlwaGRlZic6ICdhbHRHbHlwaERlZicsXG4gICAgJ2FsdGdseXBoaXRlbSc6ICdhbHRHbHlwaEl0ZW0nLFxuICAgICdhbmltYXRlY29sb3InOiAnYW5pbWF0ZUNvbG9yJyxcbiAgICAnYW5pbWF0ZW1vdGlvbic6ICdhbmltYXRlTW90aW9uJyxcbiAgICAnYW5pbWF0ZXRyYW5zZm9ybSc6ICdhbmltYXRlVHJhbnNmb3JtJyxcbiAgICAnY2xpcHBhdGgnOiAnY2xpcFBhdGgnLFxuICAgICdmZWJsZW5kJzogJ2ZlQmxlbmQnLFxuICAgICdmZWNvbG9ybWF0cml4JzogJ2ZlQ29sb3JNYXRyaXgnLFxuICAgICdmZWNvbXBvbmVudHRyYW5zZmVyJzogJ2ZlQ29tcG9uZW50VHJhbnNmZXInLFxuICAgICdmZWNvbXBvc2l0ZSc6ICdmZUNvbXBvc2l0ZScsXG4gICAgJ2ZlY29udm9sdmVtYXRyaXgnOiAnZmVDb252b2x2ZU1hdHJpeCcsXG4gICAgJ2ZlZGlmZnVzZWxpZ2h0aW5nJzogJ2ZlRGlmZnVzZUxpZ2h0aW5nJyxcbiAgICAnZmVkaXNwbGFjZW1lbnRtYXAnOiAnZmVEaXNwbGFjZW1lbnRNYXAnLFxuICAgICdmZWRpc3RhbnRsaWdodCc6ICdmZURpc3RhbnRMaWdodCcsXG4gICAgJ2ZlZmxvb2QnOiAnZmVGbG9vZCcsXG4gICAgJ2ZlZnVuY2EnOiAnZmVGdW5jQScsXG4gICAgJ2ZlZnVuY2InOiAnZmVGdW5jQicsXG4gICAgJ2ZlZnVuY2cnOiAnZmVGdW5jRycsXG4gICAgJ2ZlZnVuY3InOiAnZmVGdW5jUicsXG4gICAgJ2ZlZ2F1c3NpYW5ibHVyJzogJ2ZlR2F1c3NpYW5CbHVyJyxcbiAgICAnZmVpbWFnZSc6ICdmZUltYWdlJyxcbiAgICAnZmVtZXJnZSc6ICdmZU1lcmdlJyxcbiAgICAnZmVtZXJnZW5vZGUnOiAnZmVNZXJnZU5vZGUnLFxuICAgICdmZW1vcnBob2xvZ3knOiAnZmVNb3JwaG9sb2d5JyxcbiAgICAnZmVvZmZzZXQnOiAnZmVPZmZzZXQnLFxuICAgICdmZXBvaW50bGlnaHQnOiAnZmVQb2ludExpZ2h0JyxcbiAgICAnZmVzcGVjdWxhcmxpZ2h0aW5nJzogJ2ZlU3BlY3VsYXJMaWdodGluZycsXG4gICAgJ2Zlc3BvdGxpZ2h0JzogJ2ZlU3BvdExpZ2h0JyxcbiAgICAnZmV0aWxlJzogJ2ZlVGlsZScsXG4gICAgJ2ZldHVyYnVsZW5jZSc6ICdmZVR1cmJ1bGVuY2UnLFxuICAgICdmb3JlaWdub2JqZWN0JzogJ2ZvcmVpZ25PYmplY3QnLFxuICAgICdnbHlwaHJlZic6ICdnbHlwaFJlZicsXG4gICAgJ2xpbmVhcmdyYWRpZW50JzogJ2xpbmVhckdyYWRpZW50JyxcbiAgICAncmFkaWFsZ3JhZGllbnQnOiAncmFkaWFsR3JhZGllbnQnLFxuICAgICd0ZXh0cGF0aCc6ICd0ZXh0UGF0aCdcbn07XG5cbi8vVGFncyB0aGF0IGNhdXNlcyBleGl0IGZyb20gZm9yZWlnbiBjb250ZW50XG52YXIgRVhJVFNfRk9SRUlHTl9DT05URU5UID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuQl0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuQklHXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5CTE9DS1FVT1RFXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5CT0RZXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5CUl0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuQ0VOVEVSXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5DT0RFXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5ERF0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuRElWXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5ETF0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuRFRdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLkVNXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5FTUJFRF0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuSDFdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLkgyXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5IM10gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuSDRdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLkg1XSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5INl0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuSEVBRF0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuSFJdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLkldID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLklNR10gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuTEldID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLkxJU1RJTkddID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLk1FTlVdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLk1FVEFdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLk5PQlJdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLk9MXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5QXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5QUkVdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLlJVQlldID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLlNdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLlNNQUxMXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5TUEFOXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5TVFJPTkddID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLlNUUklLRV0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuU1VCXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5TVVBdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLlRBQkxFXSA9IHRydWU7XG5FWElUU19GT1JFSUdOX0NPTlRFTlRbJC5UVF0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuVV0gPSB0cnVlO1xuRVhJVFNfRk9SRUlHTl9DT05URU5UWyQuVUxdID0gdHJ1ZTtcbkVYSVRTX0ZPUkVJR05fQ09OVEVOVFskLlZBUl0gPSB0cnVlO1xuXG4vL0NoZWNrIGV4aXQgZnJvbSBmb3JlaWduIGNvbnRlbnRcbmV4cG9ydHMuY2F1c2VzRXhpdCA9IGZ1bmN0aW9uIChzdGFydFRhZ1Rva2VuKSB7XG4gICAgdmFyIHRuID0gc3RhcnRUYWdUb2tlbi50YWdOYW1lO1xuICAgIHZhciBpc0ZvbnRXaXRoQXR0cnMgPSB0biA9PT0gJC5GT05UICYmIChUb2tlbml6ZXIuZ2V0VG9rZW5BdHRyKHN0YXJ0VGFnVG9rZW4sIEFUVFJTLkNPTE9SKSAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2tlbml6ZXIuZ2V0VG9rZW5BdHRyKHN0YXJ0VGFnVG9rZW4sIEFUVFJTLlNJWkUpICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRva2VuaXplci5nZXRUb2tlbkF0dHIoc3RhcnRUYWdUb2tlbiwgQVRUUlMuRkFDRSkgIT09IG51bGwpO1xuXG4gICAgcmV0dXJuIGlzRm9udFdpdGhBdHRycyA/IHRydWUgOiBFWElUU19GT1JFSUdOX0NPTlRFTlRbdG5dO1xufTtcblxuLy9Ub2tlbiBhZGp1c3RtZW50c1xuZXhwb3J0cy5hZGp1c3RUb2tlbk1hdGhNTEF0dHJzID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbi5hdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodG9rZW4uYXR0cnNbaV0ubmFtZSA9PT0gREVGSU5JVElPTl9VUkxfQVRUUikge1xuICAgICAgICAgICAgdG9rZW4uYXR0cnNbaV0ubmFtZSA9IEFESlVTVEVEX0RFRklOSVRJT05fVVJMX0FUVFI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydHMuYWRqdXN0VG9rZW5TVkdBdHRycyA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW4uYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFkanVzdGVkQXR0ck5hbWUgPSBTVkdfQVRUUlNfQURKVVNUTUVOVF9NQVBbdG9rZW4uYXR0cnNbaV0ubmFtZV07XG5cbiAgICAgICAgaWYgKGFkanVzdGVkQXR0ck5hbWUpXG4gICAgICAgICAgICB0b2tlbi5hdHRyc1tpXS5uYW1lID0gYWRqdXN0ZWRBdHRyTmFtZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmFkanVzdFRva2VuWE1MQXR0cnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuLmF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhZGp1c3RlZEF0dHJFbnRyeSA9IFhNTF9BVFRSU19BREpVU1RNRU5UX01BUFt0b2tlbi5hdHRyc1tpXS5uYW1lXTtcblxuICAgICAgICBpZiAoYWRqdXN0ZWRBdHRyRW50cnkpIHtcbiAgICAgICAgICAgIHRva2VuLmF0dHJzW2ldLnByZWZpeCA9IGFkanVzdGVkQXR0ckVudHJ5LnByZWZpeDtcbiAgICAgICAgICAgIHRva2VuLmF0dHJzW2ldLm5hbWUgPSBhZGp1c3RlZEF0dHJFbnRyeS5uYW1lO1xuICAgICAgICAgICAgdG9rZW4uYXR0cnNbaV0ubmFtZXNwYWNlID0gYWRqdXN0ZWRBdHRyRW50cnkubmFtZXNwYWNlO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0cy5hZGp1c3RUb2tlblNWR1RhZ05hbWUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICB2YXIgYWRqdXN0ZWRUYWdOYW1lID0gU1ZHX1RBR19OQU1FU19BREpVU1RNRU5UX01BUFt0b2tlbi50YWdOYW1lXTtcblxuICAgIGlmIChhZGp1c3RlZFRhZ05hbWUpXG4gICAgICAgIHRva2VuLnRhZ05hbWUgPSBhZGp1c3RlZFRhZ05hbWU7XG59O1xuXG4vL0ludGVncmF0aW9uIHBvaW50c1xuZnVuY3Rpb24gaXNNYXRoTUxUZXh0SW50ZWdyYXRpb25Qb2ludCh0biwgbnMpIHtcbiAgICByZXR1cm4gbnMgPT09IE5TLk1BVEhNTCAmJiAodG4gPT09ICQuTUkgfHwgdG4gPT09ICQuTU8gfHwgdG4gPT09ICQuTU4gfHwgdG4gPT09ICQuTVMgfHwgdG4gPT09ICQuTVRFWFQpO1xufVxuXG5mdW5jdGlvbiBpc0h0bWxJbnRlZ3JhdGlvblBvaW50KHRuLCBucywgYXR0cnMpIHtcbiAgICBpZiAobnMgPT09IE5TLk1BVEhNTCAmJiB0biA9PT0gJC5BTk5PVEFUSU9OX1hNTCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXR0cnNbaV0ubmFtZSA9PT0gQVRUUlMuRU5DT0RJTkcpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyc1tpXS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBNSU1FX1RZUEVTLlRFWFRfSFRNTCB8fCB2YWx1ZSA9PT0gTUlNRV9UWVBFUy5BUFBMSUNBVElPTl9YTUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnMgPT09IE5TLlNWRyAmJiAodG4gPT09ICQuRk9SRUlHTl9PQkpFQ1QgfHwgdG4gPT09ICQuREVTQyB8fCB0biA9PT0gJC5USVRMRSk7XG59XG5cbmV4cG9ydHMuaXNJbnRlZ3JhdGlvblBvaW50ID0gZnVuY3Rpb24gKHRuLCBucywgYXR0cnMsIGZvcmVpZ25OUykge1xuICAgIGlmICgoIWZvcmVpZ25OUyB8fCBmb3JlaWduTlMgPT09IE5TLkhUTUwpICYmIGlzSHRtbEludGVncmF0aW9uUG9pbnQodG4sIG5zLCBhdHRycykpXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgaWYgKCghZm9yZWlnbk5TIHx8IGZvcmVpZ25OUyA9PT0gTlMuTUFUSE1MKSAmJiBpc01hdGhNTFRleHRJbnRlZ3JhdGlvblBvaW50KHRuLCBucykpXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==