005038770bfbbd35dbceffa147a7413b
'use strict';

var has = require('has');

var GetIntrinsic = require("../GetIntrinsic");

var $TypeError = GetIntrinsic('%TypeError%');

var Type = require("./Type");

var ToBoolean = require("./ToBoolean");

var IsCallable = require("./IsCallable");

module.exports = function ToPropertyDescriptor(Obj) {
  if (Type(Obj) !== 'Object') {
    throw new $TypeError('ToPropertyDescriptor requires an object');
  }

  var desc = {};

  if (has(Obj, 'enumerable')) {
    desc['[[Enumerable]]'] = ToBoolean(Obj.enumerable);
  }

  if (has(Obj, 'configurable')) {
    desc['[[Configurable]]'] = ToBoolean(Obj.configurable);
  }

  if (has(Obj, 'value')) {
    desc['[[Value]]'] = Obj.value;
  }

  if (has(Obj, 'writable')) {
    desc['[[Writable]]'] = ToBoolean(Obj.writable);
  }

  if (has(Obj, 'get')) {
    var getter = Obj.get;

    if (typeof getter !== 'undefined' && !IsCallable(getter)) {
      throw new $TypeError('getter must be a function');
    }

    desc['[[Get]]'] = getter;
  }

  if (has(Obj, 'set')) {
    var setter = Obj.set;

    if (typeof setter !== 'undefined' && !IsCallable(setter)) {
      throw new $TypeError('setter must be a function');
    }

    desc['[[Set]]'] = setter;
  }

  if ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {
    throw new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');
  }

  return desc;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvUHJvcGVydHlEZXNjcmlwdG9yLmpzIl0sIm5hbWVzIjpbImhhcyIsInJlcXVpcmUiLCJHZXRJbnRyaW5zaWMiLCIkVHlwZUVycm9yIiwiVHlwZSIsIlRvQm9vbGVhbiIsIklzQ2FsbGFibGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiVG9Qcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmoiLCJkZXNjIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInZhbHVlIiwid3JpdGFibGUiLCJnZXR0ZXIiLCJnZXQiLCJzZXR0ZXIiLCJzZXQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQsQ0FBakI7O0FBRUEsSUFBSUMsWUFBWSxHQUFHRCxPQUFPLG1CQUExQjs7QUFFQSxJQUFJRSxVQUFVLEdBQUdELFlBQVksQ0FBQyxhQUFELENBQTdCOztBQUVBLElBQUlFLElBQUksR0FBR0gsT0FBTyxVQUFsQjs7QUFDQSxJQUFJSSxTQUFTLEdBQUdKLE9BQU8sZUFBdkI7O0FBQ0EsSUFBSUssVUFBVSxHQUFHTCxPQUFPLGdCQUF4Qjs7QUFJQU0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFNBQVNDLG9CQUFULENBQThCQyxHQUE5QixFQUFtQztBQUNuRCxNQUFJTixJQUFJLENBQUNNLEdBQUQsQ0FBSixLQUFjLFFBQWxCLEVBQTRCO0FBQzNCLFVBQU0sSUFBSVAsVUFBSixDQUFlLHlDQUFmLENBQU47QUFDQTs7QUFFRCxNQUFJUSxJQUFJLEdBQUcsRUFBWDs7QUFDQSxNQUFJWCxHQUFHLENBQUNVLEdBQUQsRUFBTSxZQUFOLENBQVAsRUFBNEI7QUFDM0JDLElBQUFBLElBQUksQ0FBQyxnQkFBRCxDQUFKLEdBQXlCTixTQUFTLENBQUNLLEdBQUcsQ0FBQ0UsVUFBTCxDQUFsQztBQUNBOztBQUNELE1BQUlaLEdBQUcsQ0FBQ1UsR0FBRCxFQUFNLGNBQU4sQ0FBUCxFQUE4QjtBQUM3QkMsSUFBQUEsSUFBSSxDQUFDLGtCQUFELENBQUosR0FBMkJOLFNBQVMsQ0FBQ0ssR0FBRyxDQUFDRyxZQUFMLENBQXBDO0FBQ0E7O0FBQ0QsTUFBSWIsR0FBRyxDQUFDVSxHQUFELEVBQU0sT0FBTixDQUFQLEVBQXVCO0FBQ3RCQyxJQUFBQSxJQUFJLENBQUMsV0FBRCxDQUFKLEdBQW9CRCxHQUFHLENBQUNJLEtBQXhCO0FBQ0E7O0FBQ0QsTUFBSWQsR0FBRyxDQUFDVSxHQUFELEVBQU0sVUFBTixDQUFQLEVBQTBCO0FBQ3pCQyxJQUFBQSxJQUFJLENBQUMsY0FBRCxDQUFKLEdBQXVCTixTQUFTLENBQUNLLEdBQUcsQ0FBQ0ssUUFBTCxDQUFoQztBQUNBOztBQUNELE1BQUlmLEdBQUcsQ0FBQ1UsR0FBRCxFQUFNLEtBQU4sQ0FBUCxFQUFxQjtBQUNwQixRQUFJTSxNQUFNLEdBQUdOLEdBQUcsQ0FBQ08sR0FBakI7O0FBQ0EsUUFBSSxPQUFPRCxNQUFQLEtBQWtCLFdBQWxCLElBQWlDLENBQUNWLFVBQVUsQ0FBQ1UsTUFBRCxDQUFoRCxFQUEwRDtBQUN6RCxZQUFNLElBQUliLFVBQUosQ0FBZSwyQkFBZixDQUFOO0FBQ0E7O0FBQ0RRLElBQUFBLElBQUksQ0FBQyxTQUFELENBQUosR0FBa0JLLE1BQWxCO0FBQ0E7O0FBQ0QsTUFBSWhCLEdBQUcsQ0FBQ1UsR0FBRCxFQUFNLEtBQU4sQ0FBUCxFQUFxQjtBQUNwQixRQUFJUSxNQUFNLEdBQUdSLEdBQUcsQ0FBQ1MsR0FBakI7O0FBQ0EsUUFBSSxPQUFPRCxNQUFQLEtBQWtCLFdBQWxCLElBQWlDLENBQUNaLFVBQVUsQ0FBQ1ksTUFBRCxDQUFoRCxFQUEwRDtBQUN6RCxZQUFNLElBQUlmLFVBQUosQ0FBZSwyQkFBZixDQUFOO0FBQ0E7O0FBQ0RRLElBQUFBLElBQUksQ0FBQyxTQUFELENBQUosR0FBa0JPLE1BQWxCO0FBQ0E7O0FBRUQsTUFBSSxDQUFDbEIsR0FBRyxDQUFDVyxJQUFELEVBQU8sU0FBUCxDQUFILElBQXdCWCxHQUFHLENBQUNXLElBQUQsRUFBTyxTQUFQLENBQTVCLE1BQW1EWCxHQUFHLENBQUNXLElBQUQsRUFBTyxXQUFQLENBQUgsSUFBMEJYLEdBQUcsQ0FBQ1csSUFBRCxFQUFPLGNBQVAsQ0FBaEYsQ0FBSixFQUE2RztBQUM1RyxVQUFNLElBQUlSLFVBQUosQ0FBZSw4RkFBZixDQUFOO0FBQ0E7O0FBQ0QsU0FBT1EsSUFBUDtBQUNBLENBckNEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gcmVxdWlyZSgnaGFzJyk7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCcuLi9HZXRJbnRyaW5zaWMnKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi9UeXBlJyk7XG52YXIgVG9Cb29sZWFuID0gcmVxdWlyZSgnLi9Ub0Jvb2xlYW4nKTtcbnZhciBJc0NhbGxhYmxlID0gcmVxdWlyZSgnLi9Jc0NhbGxhYmxlJyk7XG5cbi8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjVcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBUb1Byb3BlcnR5RGVzY3JpcHRvcihPYmopIHtcblx0aWYgKFR5cGUoT2JqKSAhPT0gJ09iamVjdCcpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignVG9Qcm9wZXJ0eURlc2NyaXB0b3IgcmVxdWlyZXMgYW4gb2JqZWN0Jyk7XG5cdH1cblxuXHR2YXIgZGVzYyA9IHt9O1xuXHRpZiAoaGFzKE9iaiwgJ2VudW1lcmFibGUnKSkge1xuXHRcdGRlc2NbJ1tbRW51bWVyYWJsZV1dJ10gPSBUb0Jvb2xlYW4oT2JqLmVudW1lcmFibGUpO1xuXHR9XG5cdGlmIChoYXMoT2JqLCAnY29uZmlndXJhYmxlJykpIHtcblx0XHRkZXNjWydbW0NvbmZpZ3VyYWJsZV1dJ10gPSBUb0Jvb2xlYW4oT2JqLmNvbmZpZ3VyYWJsZSk7XG5cdH1cblx0aWYgKGhhcyhPYmosICd2YWx1ZScpKSB7XG5cdFx0ZGVzY1snW1tWYWx1ZV1dJ10gPSBPYmoudmFsdWU7XG5cdH1cblx0aWYgKGhhcyhPYmosICd3cml0YWJsZScpKSB7XG5cdFx0ZGVzY1snW1tXcml0YWJsZV1dJ10gPSBUb0Jvb2xlYW4oT2JqLndyaXRhYmxlKTtcblx0fVxuXHRpZiAoaGFzKE9iaiwgJ2dldCcpKSB7XG5cdFx0dmFyIGdldHRlciA9IE9iai5nZXQ7XG5cdFx0aWYgKHR5cGVvZiBnZXR0ZXIgIT09ICd1bmRlZmluZWQnICYmICFJc0NhbGxhYmxlKGdldHRlcikpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdnZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFx0fVxuXHRcdGRlc2NbJ1tbR2V0XV0nXSA9IGdldHRlcjtcblx0fVxuXHRpZiAoaGFzKE9iaiwgJ3NldCcpKSB7XG5cdFx0dmFyIHNldHRlciA9IE9iai5zZXQ7XG5cdFx0aWYgKHR5cGVvZiBzZXR0ZXIgIT09ICd1bmRlZmluZWQnICYmICFJc0NhbGxhYmxlKHNldHRlcikpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdzZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFx0fVxuXHRcdGRlc2NbJ1tbU2V0XV0nXSA9IHNldHRlcjtcblx0fVxuXG5cdGlmICgoaGFzKGRlc2MsICdbW0dldF1dJykgfHwgaGFzKGRlc2MsICdbW1NldF1dJykpICYmIChoYXMoZGVzYywgJ1tbVmFsdWVdXScpIHx8IGhhcyhkZXNjLCAnW1tXcml0YWJsZV1dJykpKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ0ludmFsaWQgcHJvcGVydHkgZGVzY3JpcHRvci4gQ2Fubm90IGJvdGggc3BlY2lmeSBhY2Nlc3NvcnMgYW5kIGEgdmFsdWUgb3Igd3JpdGFibGUgYXR0cmlidXRlJyk7XG5cdH1cblx0cmV0dXJuIGRlc2M7XG59O1xuIl19