8dcd998a301921f182a6e45d217fbaaa
exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = require('ms');
exports.names = [];
exports.skips = [];
exports.formatters = {};
var prevTime;

function selectColor(namespace) {
  var hash = 0,
      i;

  for (i in namespace) {
    hash = (hash << 5) - hash + namespace.charCodeAt(i);
    hash |= 0;
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

function createDebug(namespace) {
  function debug() {
    if (!debug.enabled) return;
    var self = debug;
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;
    var args = new Array(arguments.length);

    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      args.unshift('%O');
    }

    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];

      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);
        args.splice(index, 1);
        index--;
      }

      return match;
    });
    exports.formatArgs.call(self, args);
    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

function enable(namespaces) {
  exports.save(namespaces);
  exports.names = [];
  exports.skips = [];
  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue;
    namespaces = split[i].replace(/\*/g, '.*?');

    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

function disable() {
  exports.enable('');
}

function enabled(name) {
  var i, len;

  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }

  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }

  return false;
}

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYnVnLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJtb2R1bGUiLCJjcmVhdGVEZWJ1ZyIsImRlYnVnIiwiY29lcmNlIiwiZGlzYWJsZSIsImVuYWJsZSIsImVuYWJsZWQiLCJodW1hbml6ZSIsInJlcXVpcmUiLCJuYW1lcyIsInNraXBzIiwiZm9ybWF0dGVycyIsInByZXZUaW1lIiwic2VsZWN0Q29sb3IiLCJuYW1lc3BhY2UiLCJoYXNoIiwiaSIsImNoYXJDb2RlQXQiLCJjb2xvcnMiLCJNYXRoIiwiYWJzIiwibGVuZ3RoIiwic2VsZiIsImN1cnIiLCJEYXRlIiwibXMiLCJkaWZmIiwicHJldiIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInVuc2hpZnQiLCJpbmRleCIsInJlcGxhY2UiLCJtYXRjaCIsImZvcm1hdCIsImZvcm1hdHRlciIsInZhbCIsImNhbGwiLCJzcGxpY2UiLCJmb3JtYXRBcmdzIiwibG9nRm4iLCJsb2ciLCJjb25zb2xlIiwiYmluZCIsImFwcGx5IiwidXNlQ29sb3JzIiwiY29sb3IiLCJpbml0IiwibmFtZXNwYWNlcyIsInNhdmUiLCJzcGxpdCIsImxlbiIsInB1c2giLCJSZWdFeHAiLCJzdWJzdHIiLCJuYW1lIiwidGVzdCIsIkVycm9yIiwic3RhY2siLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFRQUEsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQVAsR0FBaUJFLFdBQVcsQ0FBQ0MsS0FBWixHQUFvQkQsV0FBVyxDQUFDLFNBQUQsQ0FBWCxHQUF5QkEsV0FBeEU7QUFDQUYsT0FBTyxDQUFDSSxNQUFSLEdBQWlCQSxNQUFqQjtBQUNBSixPQUFPLENBQUNLLE9BQVIsR0FBa0JBLE9BQWxCO0FBQ0FMLE9BQU8sQ0FBQ00sTUFBUixHQUFpQkEsTUFBakI7QUFDQU4sT0FBTyxDQUFDTyxPQUFSLEdBQWtCQSxPQUFsQjtBQUNBUCxPQUFPLENBQUNRLFFBQVIsR0FBbUJDLE9BQU8sQ0FBQyxJQUFELENBQTFCO0FBTUFULE9BQU8s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LENBQUMsR0FBR29DLEdBQTVDLEVBQWlEcEMsQ0FBQyxFQUFsRCxFQUFzRDtBQUNwRCxRQUFJakIsT0FBTyxDQUFDVSxLQUFSLENBQWNPLENBQWQsRUFBaUJ5QyxJQUFqQixDQUFzQkQsSUFBdEIsQ0FBSixFQUFpQztBQUMvQixhQUFPLElBQVA7QUFDRDtBQUNGOztBQUNELFNBQU8sS0FBUDtBQUNEOztBQVVELFNBQVNyRCxNQUFULENBQWdCa0MsR0FBaEIsRUFBcUI7QUFDbkIsTUFBSUEsR0FBRyxZQUFZcUIsS0FBbkIsRUFBMEIsT0FBT3JCLEdBQUcsQ0FBQ3NCLEtBQUosSUFBYXRCLEdBQUcsQ0FBQ3VCLE9BQXhCO0FBQzFCLFNBQU92QixHQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIl19