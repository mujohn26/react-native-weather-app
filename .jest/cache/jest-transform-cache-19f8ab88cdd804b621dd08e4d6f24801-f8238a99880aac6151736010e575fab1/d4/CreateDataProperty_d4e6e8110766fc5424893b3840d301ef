c165652c75a08df2bd8265cc8240410a
'use strict';

var GetIntrinsic = require("../GetIntrinsic");

var $TypeError = GetIntrinsic('%TypeError%');

var DefineOwnProperty = require("../helpers/DefineOwnProperty");

var FromPropertyDescriptor = require("./FromPropertyDescriptor");

var OrdinaryGetOwnProperty = require("./OrdinaryGetOwnProperty");

var IsDataDescriptor = require("./IsDataDescriptor");

var IsExtensible = require("./IsExtensible");

var IsPropertyKey = require("./IsPropertyKey");

var SameValue = require("./SameValue");

var Type = require("./Type");

module.exports = function CreateDataProperty(O, P, V) {
  if (Type(O) !== 'Object') {
    throw new $TypeError('Assertion failed: Type(O) is not Object');
  }

  if (!IsPropertyKey(P)) {
    throw new $TypeError('Assertion failed: IsPropertyKey(P) is not true');
  }

  var oldDesc = OrdinaryGetOwnProperty(O, P);
  var extensible = !oldDesc || IsExtensible(O);
  var immutable = oldDesc && (!oldDesc['[[Writable]]'] || !oldDesc['[[Configurable]]']);

  if (immutable || !extensible) {
    return false;
  }

  return DefineOwnProperty(IsDataDescriptor, SameValue, FromPropertyDescriptor, O, P, {
    '[[Configurable]]': true,
    '[[Enumerable]]': true,
    '[[Value]]': V,
    '[[Writable]]': true
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNyZWF0ZURhdGFQcm9wZXJ0eS5qcyJdLCJuYW1lcyI6WyJHZXRJbnRyaW5zaWMiLCJyZXF1aXJlIiwiJFR5cGVFcnJvciIsIkRlZmluZU93blByb3BlcnR5IiwiRnJvbVByb3BlcnR5RGVzY3JpcHRvciIsIk9yZGluYXJ5R2V0T3duUHJvcGVydHkiLCJJc0RhdGFEZXNjcmlwdG9yIiwiSXNFeHRlbnNpYmxlIiwiSXNQcm9wZXJ0eUtleSIsIlNhbWVWYWx1ZSIsIlR5cGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiQ3JlYXRlRGF0YVByb3BlcnR5IiwiTyIsIlAiLCJWIiwib2xkRGVzYyIsImV4dGVuc2libGUiLCJpbW11dGFibGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFlBQVksR0FBR0MsT0FBTyxtQkFBMUI7O0FBRUEsSUFBSUMsVUFBVSxHQUFHRixZQUFZLENBQUMsYUFBRCxDQUE3Qjs7QUFFQSxJQUFJRyxpQkFBaUIsR0FBR0YsT0FBTyxnQ0FBL0I7O0FBRUEsSUFBSUcsc0JBQXNCLEdBQUdILE9BQU8sNEJBQXBDOztBQUNBLElBQUlJLHNCQUFzQixHQUFHSixPQUFPLDRCQUFwQzs7QUFDQSxJQUFJSyxnQkFBZ0IsR0FBR0wsT0FBTyxzQkFBOUI7O0FBQ0EsSUFBSU0sWUFBWSxHQUFHTixPQUFPLGtCQUExQjs7QUFDQSxJQUFJTyxhQUFhLEdBQUdQLE9BQU8sbUJBQTNCOztBQUNBLElBQUlRLFNBQVMsR0FBR1IsT0FBTyxlQUF2Qjs7QUFDQSxJQUFJUyxJQUFJLEdBQUdULE9BQU8sVUFBbEI7O0FBSUFVLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxrQkFBVCxDQUE0QkMsQ0FBNUIsRUFBK0JDLENBQS9CLEVBQWtDQyxDQUFsQyxFQUFxQztBQUNyRCxNQUFJTixJQUFJLENBQUNJLENBQUQsQ0FBSixLQUFZLFFBQWhCLEVBQTBCO0FBQ3pCLFVBQU0sSUFBSVosVUFBSixDQUFlLHlDQUFmLENBQU47QUFDQTs7QUFDRCxNQUFJLENBQUNNLGFBQWEsQ0FBQ08sQ0FBRCxDQUFsQixFQUF1QjtBQUN0QixVQUFNLElBQUliLFVBQUosQ0FBZSxnREFBZixDQUFOO0FBQ0E7O0FBQ0QsTUFBSWUsT0FBTyxHQUFHWixzQkFBc0IsQ0FBQ1MsQ0FBRCxFQUFJQyxDQUFKLENBQXBDO0FBQ0EsTUFBSUcsVUFBVSxHQUFHLENBQUNELE9BQUQsSUFBWVYsWUFBWSxDQUFDTyxDQUFELENBQXpDO0FBQ0EsTUFBSUssU0FBUyxHQUFHRixPQUFPLEtBQUssQ0FBQ0EsT0FBTyxDQUFDLGNBQUQsQ0FBUixJQUE0QixDQUFDQSxPQUFPLENBQUMsa0JBQUQsQ0FBekMsQ0FBdkI7O0FBQ0EsTUFBSUUsU0FBUyxJQUFJLENBQUNELFVBQWxCLEVBQThCO0FBQzdCLFdBQU8sS0FBUDtBQUNBOztBQUNELFNBQU9mLGlCQUFpQixDQUN2QkcsZ0JBRHVCLEVBRXZCRyxTQUZ1QixFQUd2Qkwsc0JBSHVCLEVBSXZCVSxDQUp1QixFQUt2QkMsQ0FMdUIsRUFNdkI7QUFDQyx3QkFBb0IsSUFEckI7QUFFQyxzQkFBa0IsSUFGbkI7QUFHQyxpQkFBYUMsQ0FIZDtBQUlDLG9CQUFnQjtBQUpqQixHQU51QixDQUF4QjtBQWFBLENBMUJEIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgR2V0SW50cmluc2ljID0gcmVxdWlyZSgnLi4vR2V0SW50cmluc2ljJyk7XG5cbnZhciAkVHlwZUVycm9yID0gR2V0SW50cmluc2ljKCclVHlwZUVycm9yJScpO1xuXG52YXIgRGVmaW5lT3duUHJvcGVydHkgPSByZXF1aXJlKCcuLi9oZWxwZXJzL0RlZmluZU93blByb3BlcnR5Jyk7XG5cbnZhciBGcm9tUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi9Gcm9tUHJvcGVydHlEZXNjcmlwdG9yJyk7XG52YXIgT3JkaW5hcnlHZXRPd25Qcm9wZXJ0eSA9IHJlcXVpcmUoJy4vT3JkaW5hcnlHZXRPd25Qcm9wZXJ0eScpO1xudmFyIElzRGF0YURlc2NyaXB0b3IgPSByZXF1aXJlKCcuL0lzRGF0YURlc2NyaXB0b3InKTtcbnZhciBJc0V4dGVuc2libGUgPSByZXF1aXJlKCcuL0lzRXh0ZW5zaWJsZScpO1xudmFyIElzUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuL0lzUHJvcGVydHlLZXknKTtcbnZhciBTYW1lVmFsdWUgPSByZXF1aXJlKCcuL1NhbWVWYWx1ZScpO1xudmFyIFR5cGUgPSByZXF1aXJlKCcuL1R5cGUnKTtcblxuLy8gaHR0cHM6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1jcmVhdGVkYXRhcHJvcGVydHlcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBDcmVhdGVEYXRhUHJvcGVydHkoTywgUCwgVikge1xuXHRpZiAoVHlwZShPKSAhPT0gJ09iamVjdCcpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignQXNzZXJ0aW9uIGZhaWxlZDogVHlwZShPKSBpcyBub3QgT2JqZWN0Jyk7XG5cdH1cblx0aWYgKCFJc1Byb3BlcnR5S2V5KFApKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ0Fzc2VydGlvbiBmYWlsZWQ6IElzUHJvcGVydHlLZXkoUCkgaXMgbm90IHRydWUnKTtcblx0fVxuXHR2YXIgb2xkRGVzYyA9IE9yZGluYXJ5R2V0T3duUHJvcGVydHkoTywgUCk7XG5cdHZhciBleHRlbnNpYmxlID0gIW9sZERlc2MgfHwgSXNFeHRlbnNpYmxlKE8pO1xuXHR2YXIgaW1tdXRhYmxlID0gb2xkRGVzYyAmJiAoIW9sZERlc2NbJ1tbV3JpdGFibGVdXSddIHx8ICFvbGREZXNjWydbW0NvbmZpZ3VyYWJsZV1dJ10pO1xuXHRpZiAoaW1tdXRhYmxlIHx8ICFleHRlbnNpYmxlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiBEZWZpbmVPd25Qcm9wZXJ0eShcblx0XHRJc0RhdGFEZXNjcmlwdG9yLFxuXHRcdFNhbWVWYWx1ZSxcblx0XHRGcm9tUHJvcGVydHlEZXNjcmlwdG9yLFxuXHRcdE8sXG5cdFx0UCxcblx0XHR7XG5cdFx0XHQnW1tDb25maWd1cmFibGVdXSc6IHRydWUsXG5cdFx0XHQnW1tFbnVtZXJhYmxlXV0nOiB0cnVlLFxuXHRcdFx0J1tbVmFsdWVdXSc6IFYsXG5cdFx0XHQnW1tXcml0YWJsZV1dJzogdHJ1ZVxuXHRcdH1cblx0KTtcbn07XG4iXX0=