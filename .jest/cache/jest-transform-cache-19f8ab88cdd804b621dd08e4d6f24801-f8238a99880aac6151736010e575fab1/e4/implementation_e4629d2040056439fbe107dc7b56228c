0809566b38f049d11c4231ea39e65536
'use strict';

var IsCallable = require('es-abstract/2020/IsCallable');

var functionsHaveNames = require('functions-have-names')();

var callBound = require('call-bind/callBound');

var $functionToString = callBound('Function.prototype.toString');
var $stringMatch = callBound('String.prototype.match');
var classRegex = /^class /;

var isClass = function isClassConstructor(fn) {
  if (IsCallable(fn)) {
    return false;
  }

  if (typeof fn !== 'function') {
    return false;
  }

  try {
    var match = $stringMatch($functionToString(fn), classRegex);
    return !!match;
  } catch (e) {}

  return false;
};

var regex = /\s*function\s+([^(\s]*)\s*/;
var functionProto = Function.prototype;

module.exports = function getName() {
  if (!isClass(this) && !IsCallable(this)) {
    throw new TypeError('Function.prototype.name sham getter called on non-function');
  }

  if (functionsHaveNames) {
    return this.name;
  }

  if (this === functionProto) {
    return '';
  }

  var str = $functionToString(this);
  var match = $stringMatch(str, regex);
  var name = match && match[1];
  return name;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltcGxlbWVudGF0aW9uLmpzIl0sIm5hbWVzIjpbIklzQ2FsbGFibGUiLCJyZXF1aXJlIiwiZnVuY3Rpb25zSGF2ZU5hbWVzIiwiY2FsbEJvdW5kIiwiJGZ1bmN0aW9uVG9TdHJpbmciLCIkc3RyaW5nTWF0Y2giLCJjbGFzc1JlZ2V4IiwiaXNDbGFzcyIsImlzQ2xhc3NDb25zdHJ1Y3RvciIsImZuIiwibWF0Y2giLCJlIiwicmVnZXgiLCJmdW5jdGlvblByb3RvIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2V0TmFtZSIsIlR5cGVFcnJvciIsIm5hbWUiLCJzdHIiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFVBQVUsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQXhCOztBQUNBLElBQUlDLGtCQUFrQixHQUFHRCxPQUFPLENBQUMsc0JBQUQsQ0FBUCxFQUF6Qjs7QUFDQSxJQUFJRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxxQkFBRCxDQUF2Qjs7QUFDQSxJQUFJRyxpQkFBaUIsR0FBR0QsU0FBUyxDQUFDLDZCQUFELENBQWpDO0FBQ0EsSUFBSUUsWUFBWSxHQUFHRixTQUFTLENBQUMsd0JBQUQsQ0FBNUI7QUFFQSxJQUFJRyxVQUFVLEdBQUcsU0FBakI7O0FBRUEsSUFBSUMsT0FBTyxHQUFHLFNBQVNDLGtCQUFULENBQTRCQyxFQUE1QixFQUFnQztBQUM3QyxNQUFJVCxVQUFVLENBQUNTLEVBQUQsQ0FBZCxFQUFvQjtBQUNuQixXQUFPLEtBQVA7QUFDQTs7QUFDRCxNQUFJLE9BQU9BLEVBQVAsS0FBYyxVQUFsQixFQUE4QjtBQUM3QixXQUFPLEtBQVA7QUFDQTs7QUFDRCxNQUFJO0FBQ0gsUUFBSUMsS0FBSyxHQUFHTCxZQUFZLENBQUNELGlCQUFpQixDQUFDSyxFQUFELENBQWxCLEVBQXdCSCxVQUF4QixDQUF4QjtBQUNBLFdBQU8sQ0FBQyxDQUFDSSxLQUFUO0FBQ0EsR0FIRCxDQUdFLE9BQU9DLENBQVAsRUFBVSxDQUFFOztBQUNkLFNBQU8sS0FBUDtBQUNBLENBWkQ7O0FBY0EsSUFBSUMsS0FBSyxHQUFHLDRCQUFaO0FBRUEsSUFBSUMsYUFBYSxHQUFHQyxRQUFRLENBQUNDLFNBQTdCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsU0FBU0MsT0FBVCxHQUFtQjtBQUNuQyxNQUFJLENBQUNYLE9BQU8sQ0FBQyxJQUFELENBQVIsSUFBa0IsQ0FBQ1AsVUFBVSxDQUFDLElBQUQsQ0FBakMsRUFBeUM7QUFDeEMsVUFBTSxJQUFJbUIsU0FBSixDQUFjLDREQUFkLENBQU47QUFDQTs7QUFDRCxNQUFJakIsa0JBQUosRUFBd0I7QUFDdkIsV0FBTyxLQUFLa0IsSUFBWjtBQUNBOztBQUNELE1BQUksU0FBU1AsYUFBYixFQUE0QjtBQUMzQixXQUFPLEVBQVA7QUFDQTs7QUFDRCxNQUFJUSxHQUFHLEdBQUdqQixpQkFBaUIsQ0FBQyxJQUFELENBQTNCO0FBQ0EsTUFBSU0sS0FBSyxHQUFHTCxZQUFZLENBQUNnQixHQUFELEVBQU1ULEtBQU4sQ0FBeEI7QUFDQSxNQUFJUSxJQUFJLEdBQUdWLEtBQUssSUFBSUEsS0FBSyxDQUFDLENBQUQsQ0FBekI7QUFDQSxTQUFPVSxJQUFQO0FBQ0EsQ0FkRCIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIElzQ2FsbGFibGUgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC8yMDIwL0lzQ2FsbGFibGUnKTtcbnZhciBmdW5jdGlvbnNIYXZlTmFtZXMgPSByZXF1aXJlKCdmdW5jdGlvbnMtaGF2ZS1uYW1lcycpKCk7XG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kL2NhbGxCb3VuZCcpO1xudmFyICRmdW5jdGlvblRvU3RyaW5nID0gY2FsbEJvdW5kKCdGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcnKTtcbnZhciAkc3RyaW5nTWF0Y2ggPSBjYWxsQm91bmQoJ1N0cmluZy5wcm90b3R5cGUubWF0Y2gnKTtcblxudmFyIGNsYXNzUmVnZXggPSAvXmNsYXNzIC87XG5cbnZhciBpc0NsYXNzID0gZnVuY3Rpb24gaXNDbGFzc0NvbnN0cnVjdG9yKGZuKSB7XG5cdGlmIChJc0NhbGxhYmxlKGZuKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHRyeSB7XG5cdFx0dmFyIG1hdGNoID0gJHN0cmluZ01hdGNoKCRmdW5jdGlvblRvU3RyaW5nKGZuKSwgY2xhc3NSZWdleCk7XG5cdFx0cmV0dXJuICEhbWF0Y2g7XG5cdH0gY2F0Y2ggKGUpIHt9XG5cdHJldHVybiBmYWxzZTtcbn07XG5cbnZhciByZWdleCA9IC9cXHMqZnVuY3Rpb25cXHMrKFteKFxcc10qKVxccyovO1xuXG52YXIgZnVuY3Rpb25Qcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXROYW1lKCkge1xuXHRpZiAoIWlzQ2xhc3ModGhpcykgJiYgIUlzQ2FsbGFibGUodGhpcykpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbi5wcm90b3R5cGUubmFtZSBzaGFtIGdldHRlciBjYWxsZWQgb24gbm9uLWZ1bmN0aW9uJyk7XG5cdH1cblx0aWYgKGZ1bmN0aW9uc0hhdmVOYW1lcykge1xuXHRcdHJldHVybiB0aGlzLm5hbWU7XG5cdH1cblx0aWYgKHRoaXMgPT09IGZ1bmN0aW9uUHJvdG8pIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblx0dmFyIHN0ciA9ICRmdW5jdGlvblRvU3RyaW5nKHRoaXMpO1xuXHR2YXIgbWF0Y2ggPSAkc3RyaW5nTWF0Y2goc3RyLCByZWdleCk7XG5cdHZhciBuYW1lID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG5cdHJldHVybiBuYW1lO1xufTtcbiJdfQ==