55347643b0ea33b1206ec6c24529fb8a
"use strict";

var _object = _interopRequireDefault(require("object.assign"));

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _server = _interopRequireDefault(require("react-dom/server"));

var _shallow = _interopRequireDefault(require("react-test-renderer/shallow"));

var _package = require("react-test-renderer/package.json");

var _testUtils = _interopRequireDefault(require("react-dom/test-utils"));

var _semver = _interopRequireDefault(require("semver"));

var _checkPropTypes2 = _interopRequireDefault(require("prop-types/checkPropTypes"));

var _has = _interopRequireDefault(require("has"));

var _reactIs = require("react-is");

var _enzyme = require("enzyme");

var _Utils = require("enzyme/build/Utils");

var _enzymeShallowEqual = _interopRequireDefault(require("enzyme-shallow-equal"));

var _enzymeAdapterUtils = require("enzyme-adapter-utils");

var _findCurrentFiberUsingSlowPath = _interopRequireDefault(require("./findCurrentFiberUsingSlowPath"));

var _detectFiberTags = _interopRequireDefault(require("./detectFiberTags"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}

function _typeof(obj) {
  "@babel/helpers - typeof";

  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function _typeof(obj) {
      return typeof obj;
    };
  } else {
    _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function _createSuper(Derived) {
  return function () {
    var Super = _getPrototypeOf(Derived),
        result;

    if (_isNativeReflectConstruct()) {
      var NewTarget = _getPrototypeOf(this).constructor;

      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }

    return _possibleConstructorReturn(this, result);
  };
}

function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  }

  return _assertThisInitialized(self);
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

var is164 = !!_testUtils["default"].Simulate.touchStart;
var is165 = !!_testUtils["default"].Simulate.auxClick;
var is166 = is165 && !_react["default"].unstable_AsyncMode;
var is168 = is166 && typeof _testUtils["default"].act === 'function';

var hasShouldComponentUpdateBug = _semver["default"].satisfies(_package.version, '< 16.8');

var FiberTags = null;

function nodeAndSiblingsArray(nodeWithSibling) {
  var array = [];
  var node = nodeWithSibling;

  while (node != null) {
    array.push(node);
    node = node.sibling;
  }

  return array;
}

function flatten(arr) {
  var result = [];
  var stack = [{
    i: 0,
    array: arr
  }];

  while (stack.length) {
    var n = stack.pop();

    while (n.i < n.array.length) {
      var el = n.array[n.i];
      n.i += 1;

      if (Array.isArray(el)) {
        stack.push(n);
        stack.push({
          i: 0,
          array: el
        });
        break;
      }

      result.push(el);
    }
  }

  return result;
}

function nodeTypeFromType(type) {
  if (type === _reactIs.Portal) {
    return 'portal';
  }

  return (0, _enzymeAdapterUtils.nodeTypeFromType)(type);
}

function isMemo(type) {
  return (0, _enzymeAdapterUtils.compareNodeTypeOf)(type, _reactIs.Memo);
}

function isLazy(type) {
  return (0, _enzymeAdapterUtils.compareNodeTypeOf)(type, _reactIs.Lazy);
}

function unmemoType(type) {
  return isMemo(type) ? type.type : type;
}

function transformSuspense(renderedEl, prerenderEl, _ref) {
  var suspenseFallback = _ref.suspenseFallback;

  if (!(0, _reactIs.isSuspense)(renderedEl)) {
    return renderedEl;
  }

  var children = renderedEl.props.children;

  if (suspenseFallback) {
    var fallback = renderedEl.props.fallback;
    children = replaceLazyWithFallback(children, fallback);
  }

  var _renderedEl$type = renderedEl.type,
      propTypes = _renderedEl$type.propTypes,
      defaultProps = _renderedEl$type.defaultProps,
      contextTypes = _renderedEl$type.contextTypes,
      contextType = _renderedEl$type.contextType,
      childContextTypes = _renderedEl$type.childContextTypes;
  var FakeSuspense = (0, _object["default"])(isStateful(prerenderEl.type) ? function (_prerenderEl$type) {
    _inherits(FakeSuspense, _prerenderEl$type);

    var _super = _createSuper(FakeSuspense);

    function FakeSuspense() {
      _classCallCheck(this, FakeSuspense);

      return _super.apply(this, arguments);
    }

    _createClass(FakeSuspense, [{
      key: "render",
      value: function render() {
        var type = prerenderEl.type,
            props = prerenderEl.props;
        return _react["default"].createElement(type, _objectSpread({}, props, {}, this.props), children);
      }
    }]);

    return FakeSuspense;
  }(prerenderEl.type) : function FakeSuspense(props) {
    return _react["default"].createElement(renderedEl.type, _objectSpread({}, renderedEl.props, {}, props), children);
  }, {
    propTypes: propTypes,
    defaultProps: defaultProps,
    contextTypes: contextTypes,
    contextType: contextType,
    childContextTypes: childContextTypes
  });
  return _react["default"].createElement(FakeSuspense, null, children);
}

function elementToTree(el) {
  if (!(0, _reactIs.isPortal)(el)) {
    return (0, _enzymeAdapterUtils.elementToTree)(el, elementToTree);
  }

  var children = el.children,
      containerInfo = el.containerInfo;
  var props = {
    children: children,
    containerInfo: containerInfo
  };
  return {
    nodeType: 'portal',
    type: _reactIs.Portal,
    props: props,
    key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(el.key),
    ref: el.ref || null,
    instance: null,
    rendered: elementToTree(el.children)
  };
}

function _toTree(vnode) {
  if (vnode == null) {
    return null;
  }

  var node = (0, _findCurrentFiberUsingSlowPath["default"])(vnode);

  switch (node.tag) {
    case FiberTags.HostRoot:
      return childrenToTree(node.child);

    case FiberTags.HostPortal:
      {
        var containerInfo = node.stateNode.containerInfo,
            children = node.memoizedProps;
        var props = {
          containerInfo: containerInfo,
          children: children
        };
        return {
          nodeType: 'portal',
          type: _reactIs.Portal,
          props: props,
          key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
          ref: node.ref,
          instance: null,
          rendered: childrenToTree(node.child)
        };
      }

    case FiberTags.ClassComponent:
      return {
        nodeType: 'class',
        type: node.type,
        props: _objectSpread({}, node.memoizedProps),
        key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
        ref: node.ref,
        instance: node.stateNode,
        rendered: childrenToTree(node.child)
      };

    case FiberTags.FunctionalComponent:
      return {
        nodeType: 'function',
        type: node.type,
        props: _objectSpread({}, node.memoizedProps),
        key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
        ref: node.ref,
        instance: null,
        rendered: childrenToTree(node.child)
      };

    case FiberTags.MemoClass:
      return {
        nodeType: 'class',
        type: node.elementType.type,
        props: _objectSpread({}, node.memoizedProps),
        key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
        ref: node.ref,
        instance: node.stateNode,
        rendered: childrenToTree(node.child.child)
      };

    case FiberTags.MemoSFC:
      {
        var renderedNodes = flatten(nodeAndSiblingsArray(node.child).map(_toTree));

        if (renderedNodes.length === 0) {
          renderedNodes = [node.memoizedProps.children];
        }

        return {
          nodeType: 'function',
          type: node.elementType,
          props: _objectSpread({}, node.memoizedProps),
          key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
          ref: node.ref,
          instance: null,
          rendered: renderedNodes
        };
      }

    case FiberTags.HostComponent:
      {
        var _renderedNodes = flatten(nodeAndSiblingsArray(node.child).map(_toTree));

        if (_renderedNodes.length === 0) {
          _renderedNodes = [node.memoizedProps.children];
        }

        return {
          nodeType: 'host',
          type: node.type,
          props: _objectSpread({}, node.memoizedProps),
          key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
          ref: node.ref,
          instance: node.stateNode,
          rendered: _renderedNodes
        };
      }

    case FiberTags.HostText:
      return node.memoizedProps;

    case FiberTags.Fragment:
    case FiberTags.Mode:
    case FiberTags.ContextProvider:
    case FiberTags.ContextConsumer:
      return childrenToTree(node.child);

    case FiberTags.Profiler:
    case FiberTags.ForwardRef:
      {
        return {
          nodeType: 'function',
          type: node.type,
          props: _objectSpread({}, node.pendingProps),
          key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
          ref: node.ref,
          instance: null,
          rendered: childrenToTree(node.child)
        };
      }

    case FiberTags.Suspense:
      {
        return {
          nodeType: 'function',
          type: _reactIs.Suspense,
          props: _objectSpread({}, node.memoizedProps),
          key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(node.key),
          ref: node.ref,
          instance: null,
          rendered: childrenToTree(node.child)
        };
      }

    case FiberTags.Lazy:
      return childrenToTree(node.child);

    default:
      throw new Error("Enzyme Internal Error: unknown node with tag ".concat(node.tag));
  }
}

function childrenToTree(node) {
  if (!node) {
    return null;
  }

  var children = nodeAndSiblingsArray(node);

  if (children.length === 0) {
    return null;
  }

  if (children.length === 1) {
    return _toTree(children[0]);
  }

  return flatten(children.map(_toTree));
}

function _nodeToHostNode(_node) {
  var node = _node;

  while (node && !Array.isArray(node) && node.instance === null) {
    node = node.rendered;
  }

  if (!node) {
    return null;
  }

  var mapper = function mapper(item) {
    if (item && item.instance) return _reactDom["default"].findDOMNode(item.instance);
    return null;
  };

  if (Array.isArray(node)) {
    return node.map(mapper);
  }

  if (Array.isArray(node.rendered) && node.nodeType === 'class') {
    return node.rendered.map(mapper);
  }

  return mapper(node);
}

function replaceLazyWithFallback(node, fallback) {
  if (!node) {
    return null;
  }

  if (Array.isArray(node)) {
    return node.map(function (el) {
      return replaceLazyWithFallback(el, fallback);
    });
  }

  if (isLazy(node.type)) {
    return fallback;
  }

  return _objectSpread({}, node, {
    props: _objectSpread({}, node.props, {
      children: replaceLazyWithFallback(node.props.children, fallback)
    })
  });
}

var eventOptions = {
  animation: true,
  pointerEvents: is164,
  auxClick: is165
};

function getEmptyStateValue() {
  var EmptyState = function (_React$Component) {
    _inherits(EmptyState, _React$Component);

    var _super2 = _createSuper(EmptyState);

    function EmptyState() {
      _classCallCheck(this, EmptyState);

      return _super2.apply(this, arguments);
    }

    _createClass(EmptyState, [{
      key: "render",
      value: function render() {
        return null;
      }
    }]);

    return EmptyState;
  }(_react["default"].Component);

  var testRenderer = new _shallow["default"]();
  testRenderer.render(_react["default"].createElement(EmptyState));
  return testRenderer._instance.state;
}

function wrapAct(fn) {
  if (!is168) {
    return fn();
  }

  var returnVal;

  _testUtils["default"].act(function () {
    returnVal = fn();
  });

  return returnVal;
}

function getProviderDefaultValue(Provider) {
  if ('_defaultValue' in Provider._context) {
    return Provider._context._defaultValue;
  }

  if ('_currentValue' in Provider._context) {
    return Provider._context._currentValue;
  }

  throw new Error('Enzyme Internal Error: can’t figure out how to get Provider’s default value');
}

function makeFakeElement(type) {
  return {
    $$typeof: _reactIs.Element,
    type: type
  };
}

function isStateful(Component) {
  return Component.prototype && (Component.prototype.isReactComponent || Array.isArray(Component.__reactAutoBindPairs));
}

var ReactSixteenAdapter = function (_EnzymeAdapter) {
  _inherits(ReactSixteenAdapter, _EnzymeAdapter);

  var _super3 = _createSuper(ReactSixteenAdapter);

  function ReactSixteenAdapter() {
    var _this;

    _classCallCheck(this, ReactSixteenAdapter);

    _this = _super3.call(this);
    var lifecycles = _this.options.lifecycles;
    _this.options = _objectSpread({}, _this.options, {
      enableComponentDidUpdateOnSetState: true,
      legacyContextMode: 'parent',
      lifecycles: _objectSpread({}, lifecycles, {
        componentDidUpdate: {
          onSetState: true
        },
        getDerivedStateFromProps: {
          hasShouldComponentUpdateBug: hasShouldComponentUpdateBug
        },
        getSnapshotBeforeUpdate: true,
        setState: {
          skipsComponentDidUpdateOnNullish: true
        },
        getChildContext: {
          calledByRenderer: false
        },
        getDerivedStateFromError: is166
      })
    });
    return _this;
  }

  _createClass(ReactSixteenAdapter, [{
    key: "createMountRenderer",
    value: function createMountRenderer(options) {
      (0, _enzymeAdapterUtils.assertDomAvailable)('mount');

      if ((0, _has["default"])(options, 'suspenseFallback')) {
        throw new TypeError('`suspenseFallback` is not supported by the `mount` renderer');
      }

      if (FiberTags === null) {
        FiberTags = (0, _detectFiberTags["default"])();
      }

      var attachTo = options.attachTo,
          hydrateIn = options.hydrateIn,
          wrappingComponentProps = options.wrappingComponentProps;
      var domNode = hydrateIn || attachTo || global.document.createElement('div');
      var instance = null;
      var adapter = this;
      return _objectSpread({
        render: function render(el, context, callback) {
          return wrapAct(function () {
            if (instance === null) {
              var type = el.type,
                  props = el.props,
                  ref = el.ref;

              var wrapperProps = _objectSpread({
                Component: type,
                props: props,
                wrappingComponentProps: wrappingComponentProps,
                context: context
              }, ref && {
                refProp: ref
              });

              var ReactWrapperComponent = (0, _enzymeAdapterUtils.createMountWrapper)(el, _objectSpread({}, options, {
                adapter: adapter
              }));

              var wrappedEl = _react["default"].createElement(ReactWrapperComponent, wrapperProps);

              instance = hydrateIn ? _reactDom["default"].hydrate(wrappedEl, domNode) : _reactDom["default"].render(wrappedEl, domNode);

              if (typeof callback === 'function') {
                callback();
              }
            } else {
              instance.setChildProps(el.props, context, callback);
            }
          });
        },
        unmount: function unmount() {
          _reactDom["default"].unmountComponentAtNode(domNode);

          instance = null;
        },
        getNode: function getNode() {
          if (!instance) {
            return null;
          }

          return (0, _enzymeAdapterUtils.getNodeFromRootFinder)(adapter.isCustomComponent, _toTree(instance._reactInternalFiber), options);
        },
        simulateError: function simulateError(nodeHierarchy, rootNode, error) {
          var isErrorBoundary = function isErrorBoundary(_ref2) {
            var elInstance = _ref2.instance,
                type = _ref2.type;

            if (is166 && type && type.getDerivedStateFromError) {
              return true;
            }

            return elInstance && elInstance.componentDidCatch;
          };

          var _ref3 = nodeHierarchy.find(isErrorBoundary) || {},
              catchingInstance = _ref3.instance,
              catchingType = _ref3.type;

          (0, _enzymeAdapterUtils.simulateError)(error, catchingInstance, rootNode, nodeHierarchy, nodeTypeFromType, adapter.displayNameOfNode, is166 ? catchingType : undefined);
        },
        simulateEvent: function simulateEvent(node, event, mock) {
          var mappedEvent = (0, _enzymeAdapterUtils.mapNativeEventNames)(event, eventOptions);
          var eventFn = _testUtils["default"].Simulate[mappedEvent];

          if (!eventFn) {
            throw new TypeError("ReactWrapper::simulate() event '".concat(event, "' does not exist"));
          }

          wrapAct(function () {
            eventFn(adapter.nodeToHostNode(node), mock);
          });
        },
        batchedUpdates: function batchedUpdates(fn) {
          return fn();
        },
        getWrappingComponentRenderer: function getWrappingComponentRenderer() {
          return _objectSpread({}, this, {}, (0, _enzymeAdapterUtils.getWrappingComponentMountRenderer)({
            toTree: function toTree(inst) {
              return _toTree(inst._reactInternalFiber);
            },
            getMountWrapperInstance: function getMountWrapperInstance() {
              return instance;
            }
          }));
        }
      }, is168 && {
        wrapInvoke: wrapAct
      });
    }
  }, {
    key: "createShallowRenderer",
    value: function createShallowRenderer() {
      var _this2 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var adapter = this;
      var renderer = new _shallow["default"]();
      var suspenseFallback = options.suspenseFallback;

      if (typeof suspenseFallback !== 'undefined' && typeof suspenseFallback !== 'boolean') {
        throw TypeError('`options.suspenseFallback` should be boolean or undefined');
      }

      var isDOM = false;
      var cachedNode = null;
      var lastComponent = null;
      var wrappedComponent = null;
      var sentinel = {};

      var wrapPureComponent = function wrapPureComponent(Component, compare) {
        if (!is166) {
          throw new RangeError('this function should not be called in React < 16.6. Please report this!');
        }

        if (lastComponent !== Component) {
          if (isStateful(Component)) {
            wrappedComponent = function (_Component) {
              _inherits(wrappedComponent, _Component);

              var _super4 = _createSuper(wrappedComponent);

              function wrappedComponent() {
                _classCallCheck(this, wrappedComponent);

                return _super4.apply(this, arguments);
              }

              return wrappedComponent;
            }(Component);

            if (compare) {
              wrappedComponent.prototype.shouldComponentUpdate = function (nextProps) {
                return !compare(_this2.props, nextProps);
              };
            } else {
              wrappedComponent.prototype.isPureReactComponent = true;
            }
          } else {
            var memoized = sentinel;
            var prevProps;

            wrappedComponent = function wrappedComponent(props) {
              var shouldUpdate = memoized === sentinel || (compare ? !compare(prevProps, props) : !(0, _enzymeShallowEqual["default"])(prevProps, props));

              if (shouldUpdate) {
                for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  args[_key - 1] = arguments[_key];
                }

                memoized = Component.apply(void 0, [_objectSpread({}, Component.defaultProps, {}, props)].concat(args));
                prevProps = props;
              }

              return memoized;
            };
          }

          (0, _object["default"])(wrappedComponent, Component, {
            displayName: adapter.displayNameOfNode({
              type: Component
            })
          });
          lastComponent = Component;
        }

        return wrappedComponent;
      };

      var wrapFunctionalComponent = function wrapFunctionalComponent(Component) {
        if (is166 && (0, _has["default"])(Component, 'defaultProps')) {
          if (lastComponent !== Component) {
            wrappedComponent = (0, _object["default"])(function (props) {
              for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                args[_key2 - 1] = arguments[_key2];
              }

              return Component.apply(void 0, [_objectSpread({}, Component.defaultProps, {}, props)].concat(args));
            }, Component, {
              displayName: adapter.displayNameOfNode({
                type: Component
              })
            });
            lastComponent = Component;
          }

          return wrappedComponent;
        }

        if (is165) {
          return Component;
        }

        if (lastComponent !== Component) {
          wrappedComponent = (0, _object["default"])(function () {
            return Component.apply(void 0, arguments);
          }, Component);
          lastComponent = Component;
        }

        return wrappedComponent;
      };

      var renderElement = function renderElement(elConfig) {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
          rest[_key3 - 1] = arguments[_key3];
        }

        var renderedEl = renderer.render.apply(renderer, [elConfig].concat(rest));
        var typeIsExisted = !!(renderedEl && renderedEl.type);

        if (is166 && typeIsExisted) {
          var clonedEl = transformSuspense(renderedEl, elConfig, {
            suspenseFallback: suspenseFallback
          });
          var elementIsChanged = clonedEl.type !== renderedEl.type;

          if (elementIsChanged) {
            return renderer.render.apply(renderer, [_objectSpread({}, elConfig, {
              type: clonedEl.type
            })].concat(rest));
          }
        }

        return renderedEl;
      };

      return {
        render: function render(el, unmaskedContext) {
          var _ref4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
              _ref4$providerValues = _ref4.providerValues,
              providerValues = _ref4$providerValues === void 0 ? new Map() : _ref4$providerValues;

          cachedNode = el;

          if (typeof el.type === 'string') {
            isDOM = true;
          } else if ((0, _reactIs.isContextProvider)(el)) {
            providerValues.set(el.type, el.props.value);
            var MockProvider = (0, _object["default"])(function (props) {
              return props.children;
            }, el.type);
            return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
              return renderElement(_objectSpread({}, el, {
                type: MockProvider
              }));
            });
          } else if ((0, _reactIs.isContextConsumer)(el)) {
            var Provider = adapter.getProviderFromConsumer(el.type);
            var value = providerValues.has(Provider) ? providerValues.get(Provider) : getProviderDefaultValue(Provider);
            var MockConsumer = (0, _object["default"])(function (props) {
              return props.children(value);
            }, el.type);
            return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
              return renderElement(_objectSpread({}, el, {
                type: MockConsumer
              }));
            });
          } else {
            isDOM = false;
            var renderedEl = el;

            if (isLazy(renderedEl)) {
              throw TypeError('`React.lazy` is not supported by shallow rendering.');
            }

            renderedEl = transformSuspense(renderedEl, renderedEl, {
              suspenseFallback: suspenseFallback
            });
            var _renderedEl = renderedEl,
                Component = _renderedEl.type;
            var context = (0, _enzymeAdapterUtils.getMaskedContext)(Component.contextTypes, unmaskedContext);

            if (isMemo(el.type)) {
              var _el$type = el.type,
                  InnerComp = _el$type.type,
                  compare = _el$type.compare;
              return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
                return renderElement(_objectSpread({}, el, {
                  type: wrapPureComponent(InnerComp, compare)
                }), context);
              });
            }

            if (!isStateful(Component) && typeof Component === 'function') {
              return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
                return renderElement(_objectSpread({}, renderedEl, {
                  type: wrapFunctionalComponent(Component)
                }), context);
              });
            }

            if (isStateful) {
              var emptyStateValue = getEmptyStateValue();

              if (emptyStateValue) {
                Object.defineProperty(Component.prototype, 'state', {
                  configurable: true,
                  enumerable: true,
                  get: function get() {
                    return null;
                  },
                  set: function set(value) {
                    if (value !== emptyStateValue) {
                      Object.defineProperty(this, 'state', {
                        configurable: true,
                        enumerable: true,
                        value: value,
                        writable: true
                      });
                    }

                    return true;
                  }
                });
              }
            }

            return (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
              return renderElement(renderedEl, context);
            });
          }
        },
        unmount: function unmount() {
          renderer.unmount();
        },
        getNode: function getNode() {
          if (isDOM) {
            return elementToTree(cachedNode);
          }

          var output = renderer.getRenderOutput();
          return {
            nodeType: nodeTypeFromType(cachedNode.type),
            type: cachedNode.type,
            props: cachedNode.props,
            key: (0, _enzymeAdapterUtils.ensureKeyOrUndefined)(cachedNode.key),
            ref: cachedNode.ref,
            instance: renderer._instance,
            rendered: Array.isArray(output) ? flatten(output).map(function (el) {
              return elementToTree(el);
            }) : elementToTree(output)
          };
        },
        simulateError: function simulateError(nodeHierarchy, rootNode, error) {
          (0, _enzymeAdapterUtils.simulateError)(error, renderer._instance, cachedNode, nodeHierarchy.concat(cachedNode), nodeTypeFromType, adapter.displayNameOfNode, is166 ? cachedNode.type : undefined);
        },
        simulateEvent: function simulateEvent(node, event) {
          for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {
            args[_key4 - 2] = arguments[_key4];
          }

          var handler = node.props[(0, _enzymeAdapterUtils.propFromEvent)(event, eventOptions)];

          if (handler) {
            (0, _enzymeAdapterUtils.withSetStateAllowed)(function () {
              handler.apply(void 0, args);
            });
          }
        },
        batchedUpdates: function batchedUpdates(fn) {
          return fn();
        },
        checkPropTypes: function checkPropTypes(typeSpecs, values, location, hierarchy) {
          return (0, _checkPropTypes2["default"])(typeSpecs, values, location, (0, _enzymeAdapterUtils.displayNameOfNode)(cachedNode), function () {
            return (0, _enzymeAdapterUtils.getComponentStack)(hierarchy.concat([cachedNode]));
          });
        }
      };
    }
  }, {
    key: "createStringRenderer",
    value: function createStringRenderer(options) {
      if ((0, _has["default"])(options, 'suspenseFallback')) {
        throw new TypeError('`suspenseFallback` should not be specified in options of string renderer');
      }

      return {
        render: function render(el, context) {
          if (options.context && (el.type.contextTypes || options.childContextTypes)) {
            var childContextTypes = _objectSpread({}, el.type.contextTypes || {}, {}, options.childContextTypes);

            var ContextWrapper = (0, _enzymeAdapterUtils.createRenderWrapper)(el, context, childContextTypes);
            return _server["default"].renderToStaticMarkup(_react["default"].createElement(ContextWrapper));
          }

          return _server["default"].renderToStaticMarkup(el);
        }
      };
    }
  }, {
    key: "createRenderer",
    value: function createRenderer(options) {
      switch (options.mode) {
        case _enzyme.EnzymeAdapter.MODES.MOUNT:
          return this.createMountRenderer(options);

        case _enzyme.EnzymeAdapter.MODES.SHALLOW:
          return this.createShallowRenderer(options);

        case _enzyme.EnzymeAdapter.MODES.STRING:
          return this.createStringRenderer(options);

        default:
          throw new Error("Enzyme Internal Error: Unrecognized mode: ".concat(options.mode));
      }
    }
  }, {
    key: "wrap",
    value: function wrap(element) {
      return (0, _enzymeAdapterUtils.wrap)(element);
    }
  }, {
    key: "nodeToElement",
    value: function nodeToElement(node) {
      if (!node || _typeof(node) !== 'object') return null;
      var type = node.type;
      return _react["default"].createElement(unmemoType(type), (0, _enzymeAdapterUtils.propsWithKeysAndRef)(node));
    }
  }, {
    key: "matchesElementType",
    value: function matchesElementType(node, matchingType) {
      if (!node) {
        return node;
      }

      var type = node.type;
      return unmemoType(type) === unmemoType(matchingType);
    }
  }, {
    key: "elementToNode",
    value: function elementToNode(element) {
      return elementToTree(element);
    }
  }, {
    key: "nodeToHostNode",
    value: function nodeToHostNode(node) {
      var supportsArray = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      var nodes = _nodeToHostNode(node);

      if (Array.isArray(nodes) && !supportsArray) {
        return nodes[0];
      }

      return nodes;
    }
  }, {
    key: "displayNameOfNode",
    value: function displayNameOfNode(node) {
      if (!node) return null;
      var type = node.type,
          $$typeof = node.$$typeof;
      var nodeType = type || $$typeof;

      if (nodeType) {
        switch (nodeType) {
          case (is166 ? _reactIs.ConcurrentMode : _reactIs.AsyncMode) || NaN:
            return is166 ? 'ConcurrentMode' : 'AsyncMode';

          case _reactIs.Fragment || NaN:
            return 'Fragment';

          case _reactIs.StrictMode || NaN:
            return 'StrictMode';

          case _reactIs.Profiler || NaN:
            return 'Profiler';

          case _reactIs.Portal || NaN:
            return 'Portal';

          case _reactIs.Suspense || NaN:
            return 'Suspense';

          default:
        }
      }

      var $$typeofType = type && type.$$typeof;

      switch ($$typeofType) {
        case _reactIs.ContextConsumer || NaN:
          return 'ContextConsumer';

        case _reactIs.ContextProvider || NaN:
          return 'ContextProvider';

        case _reactIs.Memo || NaN:
          {
            var nodeName = (0, _enzymeAdapterUtils.displayNameOfNode)(node);
            return typeof nodeName === 'string' ? nodeName : "Memo(".concat((0, _enzymeAdapterUtils.displayNameOfNode)(type), ")");
          }

        case _reactIs.ForwardRef || NaN:
          {
            if (type.displayName) {
              return type.displayName;
            }

            var name = (0, _enzymeAdapterUtils.displayNameOfNode)({
              type: type.render
            });
            return name ? "ForwardRef(".concat(name, ")") : 'ForwardRef';
          }

        case _reactIs.Lazy || NaN:
          {
            return 'lazy';
          }

        default:
          return (0, _enzymeAdapterUtils.displayNameOfNode)(node);
      }
    }
  }, {
    key: "isValidElement",
    value: function isValidElement(element) {
      return (0, _reactIs.isElement)(element);
    }
  }, {
    key: "isValidElementType",
    value: function isValidElementType(object) {
      return !!object && (0, _reactIs.isValidElementType)(object);
    }
  }, {
    key: "isFragment",
    value: function isFragment(fragment) {
      return (0, _Utils.typeOfNode)(fragment) === _reactIs.Fragment;
    }
  }, {
    key: "isCustomComponent",
    value: function isCustomComponent(type) {
      var fakeElement = makeFakeElement(type);
      return !!type && (typeof type === 'function' || (0, _reactIs.isForwardRef)(fakeElement) || (0, _reactIs.isContextProvider)(fakeElement) || (0, _reactIs.isContextConsumer)(fakeElement) || (0, _reactIs.isSuspense)(fakeElement));
    }
  }, {
    key: "isContextConsumer",
    value: function isContextConsumer(type) {
      return !!type && (0, _reactIs.isContextConsumer)(makeFakeElement(type));
    }
  }, {
    key: "isCustomComponentElement",
    value: function isCustomComponentElement(inst) {
      if (!inst || !this.isValidElement(inst)) {
        return false;
      }

      return this.isCustomComponent(inst.type);
    }
  }, {
    key: "getProviderFromConsumer",
    value: function getProviderFromConsumer(Consumer) {
      if (Consumer) {
        var Provider;

        if (Consumer._context) {
          Provider = Consumer._context.Provider;
        } else if (Consumer.Provider) {
          Provider = Consumer.Provider;
        }

        if (Provider) {
          return Provider;
        }
      }

      throw new Error('Enzyme Internal Error: can’t figure out how to get Provider from Consumer');
    }
  }, {
    key: "createElement",
    value: function createElement() {
      return _react["default"].createElement.apply(_react["default"], arguments);
    }
  }, {
    key: "wrapWithWrappingComponent",
    value: function wrapWithWrappingComponent(node, options) {
      return {
        RootFinder: _enzymeAdapterUtils.RootFinder,
        node: (0, _enzymeAdapterUtils.wrapWithWrappingComponent)(_react["default"].createElement, node, options)
      };
    }
  }]);

  return ReactSixteenAdapter;
}(_enzyme.EnzymeAdapter);

module.exports = ReactSixteenAdapter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9SZWFjdFNpeHRlZW5BZGFwdGVyLmpzIl0sIm5hbWVzIjpbImlzMTY0IiwiVGVzdFV0aWxzIiwiaXMxNjUiLCJpczE2NiIsIlJlYWN0IiwiaXMxNjgiLCJoYXNTaG91bGRDb21wb25lbnRVcGRhdGVCdWciLCJzZW12ZXIiLCJ0ZXN0UmVuZGVyZXJWZXJzaW9uIiwiRmliZXJUYWdzIiwiYXJyYXkiLCJub2RlIiwicmVzdWx0Iiwic3RhY2siLCJpIiwiYXJyIiwibiIsImVsIiwiQXJyYXkiLCJ0eXBlIiwiUG9ydGFsIiwiTWVtbyIsIkxhenkiLCJpc01lbW8iLCJzdXNwZW5zZUZhbGxiYWNrIiwiY2hpbGRyZW4iLCJyZW5kZXJlZEVsIiwiZmFsbGJhY2siLCJyZXBsYWNlTGF6eVdpdGhGYWxsYmFjayIsInByb3BUeXBlcyIsImRlZmF1bHRQcm9wcyIsImNvbnRleHRUeXBlcyIsImNvbnRleHRUeXBlIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJGYWtlU3VzcGVuc2UiLCJwcmVyZW5kZXJFbCIsInByb3BzIiwiY29udGFpbmVySW5mbyIsIm5vZGVUeXBlIiwia2V5IiwicmVmIiwiaW5zdGFuY2UiLCJyZW5kZXJlZCIsImVsZW1lbnRUb1RyZWUiLCJ2bm9kZSIsImNoaWxkcmVuVG9UcmVlIiwicmVuZGVyZWROb2RlcyIsImZsYXR0ZW4iLCJub2RlQW5kU2libGluZ3NBcnJheSIsIlN1c3BlbnNlIiwidG9UcmVlIiwibWFwcGVyIiwiaXRlbSIsIlJlYWN0RE9NIiwiaXNMYXp5IiwiZXZlbnRPcHRpb25zIiwiYW5pbWF0aW9uIiwicG9pbnRlckV2ZW50cyIsImF1eENsaWNrIiwiRW1wdHlTdGF0ZSIsInRlc3RSZW5kZXJlciIsIlNoYWxsb3dSZW5kZXJlciIsImZuIiwicmV0dXJuVmFsIiwiUHJvdmlkZXIiLCIkJHR5cGVvZiIsIkVsZW1lbnQiLCJDb21wb25lbnQiLCJSZWFjdFNpeHRlZW5BZGFwdGVyIiwiRW56eW1lQWRhcHRlciIsImxpZmVjeWNsZXMiLCJlbmFibGVDb21wb25lbnREaWRVcGRhdGVPblNldFN0YXRlIiwibGVnYWN5Q29udGV4dE1vZGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJvblNldFN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUiLCJzZXRTdGF0ZSIsInNraXBzQ29tcG9uZW50RGlkVXBkYXRlT25OdWxsaXNoIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2FsbGVkQnlSZW5kZXJlciIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsIm9wdGlvbnMiLCJhdHRhY2hUbyIsImh5ZHJhdGVJbiIsIndyYXBwaW5nQ29tcG9uZW50UHJvcHMiLCJkb21Ob2RlIiwiZ2xvYmFsIiwiYWRhcHRlciIsInJlbmRlciIsIndyYXBBY3QiLCJ3cmFwcGVyUHJvcHMiLCJjb250ZXh0IiwicmVmUHJvcCIsIlJlYWN0V3JhcHBlckNvbXBvbmVudCIsIndyYXBwZWRFbCIsImNhbGxiYWNrIiwidW5tb3VudCIsImdldE5vZGUiLCJzaW11bGF0ZUVycm9yIiwiaXNFcnJvckJvdW5kYXJ5IiwiZWxJbnN0YW5jZSIsImNhdGNoaW5nSW5zdGFuY2UiLCJjYXRjaGluZ1R5cGUiLCJub2RlSGllcmFyY2h5Iiwic2ltdWxhdGVFdmVudCIsIm1hcHBlZEV2ZW50IiwiZXZlbnRGbiIsImJhdGNoZWRVcGRhdGVzIiwiZ2V0V3JhcHBpbmdDb21wb25lbnRSZW5kZXJlciIsImluc3QiLCJnZXRNb3VudFdyYXBwZXJJbnN0YW5jZSIsIndyYXBJbnZva2UiLCJyZW5kZXJlciIsIlR5cGVFcnJvciIsImlzRE9NIiwiY2FjaGVkTm9kZSIsImxhc3RDb21wb25lbnQiLCJ3cmFwcGVkQ29tcG9uZW50Iiwic2VudGluZWwiLCJ3cmFwUHVyZUNvbXBvbmVudCIsImlzU3RhdGVmdWwiLCJjb21wYXJlIiwibWVtb2l6ZWQiLCJhcmdzIiwic2hvdWxkVXBkYXRlIiwicHJldlByb3BzIiwiZGlzcGxheU5hbWUiLCJ3cmFwRnVuY3Rpb25hbENvbXBvbmVudCIsInJlbmRlckVsZW1lbnQiLCJyZXN0IiwidHlwZUlzRXhpc3RlZCIsImNsb25lZEVsIiwidHJhbnNmb3JtU3VzcGVuc2UiLCJlbGVtZW50SXNDaGFuZ2VkIiwicHJvdmlkZXJWYWx1ZXMiLCJNb2NrUHJvdmlkZXIiLCJ2YWx1ZSIsImdldFByb3ZpZGVyRGVmYXVsdFZhbHVlIiwiTW9ja0NvbnN1bWVyIiwiSW5uZXJDb21wIiwiZW1wdHlTdGF0ZVZhbHVlIiwiZ2V0RW1wdHlTdGF0ZVZhbHVlIiwiT2JqZWN0IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsIndyaXRhYmxlIiwib3V0cHV0Iiwibm9kZVR5cGVGcm9tVHlwZSIsImhhbmRsZXIiLCJjaGVja1Byb3BUeXBlcyIsImhpZXJhcmNoeSIsIkNvbnRleHRXcmFwcGVyIiwiUmVhY3RET01TZXJ2ZXIiLCJlbGVtZW50IiwidW5tZW1vVHlwZSIsIm1hdGNoaW5nVHlwZSIsInN1cHBvcnRzQXJyYXkiLCJub2RlcyIsIm5vZGVUb0hvc3ROb2RlIiwiQ29uY3VycmVudE1vZGUiLCJBc3luY01vZGUiLCJGcmFnbWVudCIsIlN0cmljdE1vZGUiLCJQcm9maWxlciIsIiQkdHlwZW9mVHlwZSIsIkNvbnRleHRDb25zdW1lciIsIkNvbnRleHRQcm92aWRlciIsIm5vZGVOYW1lIiwiRm9yd2FyZFJlZiIsIm5hbWUiLCJvYmplY3QiLCJmcmFnbWVudCIsImZha2VFbGVtZW50IiwibWFrZUZha2VFbGVtZW50IiwiQ29uc3VtZXIiLCJSb290RmluZGVyIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsSUFBQSxNQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxTQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsV0FBQSxDQUFBLENBQUE7O0FBRUEsSUFBQSxPQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBOztBQUVBLElB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LEVBQVZBLG1CQUFBQSxDQURLLFVBQUE7QUFFTHZLLFFBQUFBLElBQUksRUFBRSxDQUFBLEdBQUEsbUJBQUEsQ0FBQSx5QkFBQSxFQUEwQlAsTUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsQ0FBMUIsYUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBO0FBRkQsT0FBUDtBQUlEOzs7O0VBdGhCK0JpRSxPQUFBQSxDQUFBQSxhOztBQXloQmxDOEcsTUFBTSxDQUFOQSxPQUFBQSxHQUFBQSxtQkFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IDAgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZFxuaW1wb3J0IFJlYWN0RE9NU2VydmVyIGZyb20gJ3JlYWN0LWRvbS9zZXJ2ZXInO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnJlc29sdmVkXG5pbXBvcnQgU2hhbGxvd1JlbmRlcmVyIGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXIvc2hhbGxvdyc7XG5pbXBvcnQgeyB2ZXJzaW9uIGFzIHRlc3RSZW5kZXJlclZlcnNpb24gfSBmcm9tICdyZWFjdC10ZXN0LXJlbmRlcmVyL3BhY2thZ2UuanNvbic7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWRcbmltcG9ydCBUZXN0VXRpbHMgZnJvbSAncmVhY3QtZG9tL3Rlc3QtdXRpbHMnO1xuaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInO1xuaW1wb3J0IGNoZWNrUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMnO1xuaW1wb3J0IGhhcyBmcm9tICdoYXMnO1xuaW1wb3J0IHtcbiAgQXN5bmNNb2RlLFxuICBDb25jdXJyZW50TW9kZSxcbiAgQ29udGV4dENvbnN1bWVyLFxuICBDb250ZXh0UHJvdmlkZXIsXG4gIEVsZW1lbnQsXG4gIEZvcndhcmRSZWYsXG4gIEZyYWdtZW50LFxuICBpc0NvbnRleHRDb25zdW1lcixcbiAgaXNDb250ZXh0UHJvdmlkZXIsXG4gIGlzRWxlbWVudCxcbiAgaXNGb3J3YXJkUmVmLFxuICBpc1BvcnRhbCxcbiAgaXNTdXNwZW5zZSxcbiAgaXNWYWxpZEVsZW1lbnRUeXBlLFxuICBMYXp5LFxuICBNZW1vLFxuICBQb3J0YWwsXG4gIFByb2ZpbGVyLFxuICBTdHJpY3RNb2RlLFxuICBTdXNwZW5zZSxcbn0gZnJvbSAncmVhY3QtaXMnO1xuaW1wb3J0IHsgRW56eW1lQWRhcHRlciB9IGZyb20gJ2VuenltZSc7XG5pbXBvcnQgeyB0eXBlT2ZOb2RlIH0gZnJvbSAnZW56eW1lL2J1aWxkL1V0aWxzJztcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnZW56eW1lLXNoYWxsb3ctZXF1YWwnO1xuaW1wb3J0IHtcbiAgZGlzcGxheU5hbWVPZk5vZGUsXG4gIGVsZW1lbnRUb1RyZWUgYXMgdXRpbEVsZW1lbnRUb1RyZWUsXG4gIG5vZGVUeXBlRnJvbVR5cGUgYXMgdXRpbE5vZGVUeXBlRnJvbVR5cGUsXG4gIG1hcE5hdGl2ZUV2ZW50TmFtZXMsXG4gIHByb3BGcm9tRXZlbnQsXG4gIGFzc2VydERvbUF2YWlsYWJsZSxcbiAgd2l0aFNldFN0YXRlQWxsb3dlZCxcbiAgY3JlYXRlUmVuZGVyV3JhcHBlcixcbiAgY3JlYXRlTW91bnRXcmFwcGVyLFxuICBwcm9wc1dpdGhLZXlzQW5kUmVmLFxuICBlbnN1cmVLZXlPclVuZGVmaW5lZCxcbiAgc2ltdWxhdGVFcnJvcixcbiAgd3JhcCxcbiAgZ2V0TWFza2VkQ29udGV4dCxcbiAgZ2V0Q29tcG9uZW50U3RhY2ssXG4gIFJvb3RGaW5kZXIsXG4gIGdldE5vZGVGcm9tUm9vdEZpbmRlcixcbiAgd3JhcFdpdGhXcmFwcGluZ0NvbXBvbmVudCxcbiAgZ2V0V3JhcHBpbmdDb21wb25lbnRNb3VudFJlbmRlcmVyLFxuICBjb21wYXJlTm9kZVR5cGVPZixcbn0gZnJvbSAnZW56eW1lLWFkYXB0ZXItdXRpbHMnO1xuaW1wb3J0IGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoIGZyb20gJy4vZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgnO1xuaW1wb3J0IGRldGVjdEZpYmVyVGFncyBmcm9tICcuL2RldGVjdEZpYmVyVGFncyc7XG5cbmNvbnN0IGlzMTY0ID0gISFUZXN0VXRpbHMuU2ltdWxhdGUudG91Y2hTdGFydDsgLy8gMTYuNCtcbmNvbnN0IGlzMTY1ID0gISFUZXN0VXRpbHMuU2ltdWxhdGUuYXV4Q2xpY2s7IC8vIDE2LjUrXG5jb25zdCBpczE2NiA9IGlzMTY1ICYmICFSZWFjdC51bnN0YWJsZV9Bc3luY01vZGU7IC8vIDE2LjYrXG5jb25zdCBpczE2OCA9IGlzMTY2ICYmIHR5cGVvZiBUZXN0VXRpbHMuYWN0ID09PSAnZnVuY3Rpb24nO1xuXG5jb25zdCBoYXNTaG91bGRDb21wb25lbnRVcGRhdGVCdWcgPSBzZW12ZXIuc2F0aXNmaWVzKHRlc3RSZW5kZXJlclZlcnNpb24sICc8IDE2LjgnKTtcblxuLy8gTGF6aWx5IHBvcHVsYXRlZCBpZiBET00gaXMgYXZhaWxhYmxlLlxubGV0IEZpYmVyVGFncyA9IG51bGw7XG5cbmZ1bmN0aW9uIG5vZGVBbmRTaWJsaW5nc0FycmF5KG5vZGVXaXRoU2libGluZykge1xuICBjb25zdCBhcnJheSA9IFtdO1xuICBsZXQgbm9kZSA9IG5vZGVXaXRoU2libGluZztcbiAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xuICAgIGFycmF5LnB1c2gobm9kZSk7XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBjb25zdCBzdGFjayA9IFt7IGk6IDAsIGFycmF5OiBhcnIgfV07XG4gIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICBjb25zdCBuID0gc3RhY2sucG9wKCk7XG4gICAgd2hpbGUgKG4uaSA8IG4uYXJyYXkubGVuZ3RoKSB7XG4gICAgICBjb25zdCBlbCA9IG4uYXJyYXlbbi5pXTtcbiAgICAgIG4uaSArPSAxO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XG4gICAgICAgIHN0YWNrLnB1c2gobik7XG4gICAgICAgIHN0YWNrLnB1c2goeyBpOiAwLCBhcnJheTogZWwgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2goZWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBub2RlVHlwZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IFBvcnRhbCkge1xuICAgIHJldHVybiAncG9ydGFsJztcbiAgfVxuXG4gIHJldHVybiB1dGlsTm9kZVR5cGVGcm9tVHlwZSh0eXBlKTtcbn1cblxuZnVuY3Rpb24gaXNNZW1vKHR5cGUpIHtcbiAgcmV0dXJuIGNvbXBhcmVOb2RlVHlwZU9mKHR5cGUsIE1lbW8pO1xufVxuXG5mdW5jdGlvbiBpc0xhenkodHlwZSkge1xuICByZXR1cm4gY29tcGFyZU5vZGVUeXBlT2YodHlwZSwgTGF6eSk7XG59XG5cbmZ1bmN0aW9uIHVubWVtb1R5cGUodHlwZSkge1xuICByZXR1cm4gaXNNZW1vKHR5cGUpID8gdHlwZS50eXBlIDogdHlwZTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtU3VzcGVuc2UocmVuZGVyZWRFbCwgcHJlcmVuZGVyRWwsIHsgc3VzcGVuc2VGYWxsYmFjayB9KSB7XG4gIGlmICghaXNTdXNwZW5zZShyZW5kZXJlZEVsKSkge1xuICAgIHJldHVybiByZW5kZXJlZEVsO1xuICB9XG5cbiAgbGV0IHsgY2hpbGRyZW4gfSA9IHJlbmRlcmVkRWwucHJvcHM7XG5cbiAgaWYgKHN1c3BlbnNlRmFsbGJhY2spIHtcbiAgICBjb25zdCB7IGZhbGxiYWNrIH0gPSByZW5kZXJlZEVsLnByb3BzO1xuICAgIGNoaWxkcmVuID0gcmVwbGFjZUxhenlXaXRoRmFsbGJhY2soY2hpbGRyZW4sIGZhbGxiYWNrKTtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBwcm9wVHlwZXMsXG4gICAgZGVmYXVsdFByb3BzLFxuICAgIGNvbnRleHRUeXBlcyxcbiAgICBjb250ZXh0VHlwZSxcbiAgICBjaGlsZENvbnRleHRUeXBlcyxcbiAgfSA9IHJlbmRlcmVkRWwudHlwZTtcblxuICBjb25zdCBGYWtlU3VzcGVuc2UgPSBPYmplY3QuYXNzaWduKFxuICAgIGlzU3RhdGVmdWwocHJlcmVuZGVyRWwudHlwZSlcbiAgICAgID8gY2xhc3MgRmFrZVN1c3BlbnNlIGV4dGVuZHMgcHJlcmVuZGVyRWwudHlwZSB7XG4gICAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzIH0gPSBwcmVyZW5kZXJFbDtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICB7IC4uLnByb3BzLCAuLi50aGlzLnByb3BzIH0sXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICA6IGZ1bmN0aW9uIEZha2VTdXNwZW5zZShwcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1hcnJvdy1jYWxsYmFja1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICByZW5kZXJlZEVsLnR5cGUsXG4gICAgICAgICAgeyAuLi5yZW5kZXJlZEVsLnByb3BzLCAuLi5wcm9wcyB9LFxuICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB7XG4gICAgICBwcm9wVHlwZXMsXG4gICAgICBkZWZhdWx0UHJvcHMsXG4gICAgICBjb250ZXh0VHlwZXMsXG4gICAgICBjb250ZXh0VHlwZSxcbiAgICAgIGNoaWxkQ29udGV4dFR5cGVzLFxuICAgIH0sXG4gICk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEZha2VTdXNwZW5zZSwgbnVsbCwgY2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiBlbGVtZW50VG9UcmVlKGVsKSB7XG4gIGlmICghaXNQb3J0YWwoZWwpKSB7XG4gICAgcmV0dXJuIHV0aWxFbGVtZW50VG9UcmVlKGVsLCBlbGVtZW50VG9UcmVlKTtcbiAgfVxuXG4gIGNvbnN0IHsgY2hpbGRyZW4sIGNvbnRhaW5lckluZm8gfSA9IGVsO1xuICBjb25zdCBwcm9wcyA9IHsgY2hpbGRyZW4sIGNvbnRhaW5lckluZm8gfTtcblxuICByZXR1cm4ge1xuICAgIG5vZGVUeXBlOiAncG9ydGFsJyxcbiAgICB0eXBlOiBQb3J0YWwsXG4gICAgcHJvcHMsXG4gICAga2V5OiBlbnN1cmVLZXlPclVuZGVmaW5lZChlbC5rZXkpLFxuICAgIHJlZjogZWwucmVmIHx8IG51bGwsXG4gICAgaW5zdGFuY2U6IG51bGwsXG4gICAgcmVuZGVyZWQ6IGVsZW1lbnRUb1RyZWUoZWwuY2hpbGRyZW4pLFxuICB9O1xufVxuXG5mdW5jdGlvbiB0b1RyZWUodm5vZGUpIHtcbiAgaWYgKHZub2RlID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBUT0RPKGxtcik6IEknbSBub3QgcmVhbGx5IHN1cmUgSSB1bmRlcnN0YW5kIHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgd2hhdFxuICAvLyBpIHNob3VsZCBiZSBkb2luZywgb3IgaWYgdGhpcyBpcyBhIGhhY2sgZm9yIHNvbWV0aGluZyBpJ20gZG9pbmcgd3JvbmdcbiAgLy8gc29tZXdoZXJlIGVsc2UuIFNob3VsZCB0YWxrIHRvIHNlYmFzdGlhbiBhYm91dCB0aGlzIHBlcmhhcHNcbiAgY29uc3Qgbm9kZSA9IGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKHZub2RlKTtcbiAgc3dpdGNoIChub2RlLnRhZykge1xuICAgIGNhc2UgRmliZXJUYWdzLkhvc3RSb290OlxuICAgICAgcmV0dXJuIGNoaWxkcmVuVG9UcmVlKG5vZGUuY2hpbGQpO1xuICAgIGNhc2UgRmliZXJUYWdzLkhvc3RQb3J0YWw6IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RhdGVOb2RlOiB7IGNvbnRhaW5lckluZm8gfSxcbiAgICAgICAgbWVtb2l6ZWRQcm9wczogY2hpbGRyZW4sXG4gICAgICB9ID0gbm9kZTtcbiAgICAgIGNvbnN0IHByb3BzID0geyBjb250YWluZXJJbmZvLCBjaGlsZHJlbiB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZVR5cGU6ICdwb3J0YWwnLFxuICAgICAgICB0eXBlOiBQb3J0YWwsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKG5vZGUua2V5KSxcbiAgICAgICAgcmVmOiBub2RlLnJlZixcbiAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgIHJlbmRlcmVkOiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgRmliZXJUYWdzLkNsYXNzQ29tcG9uZW50OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZVR5cGU6ICdjbGFzcycsXG4gICAgICAgIHR5cGU6IG5vZGUudHlwZSxcbiAgICAgICAgcHJvcHM6IHsgLi4ubm9kZS5tZW1vaXplZFByb3BzIH0sXG4gICAgICAgIGtleTogZW5zdXJlS2V5T3JVbmRlZmluZWQobm9kZS5rZXkpLFxuICAgICAgICByZWY6IG5vZGUucmVmLFxuICAgICAgICBpbnN0YW5jZTogbm9kZS5zdGF0ZU5vZGUsXG4gICAgICAgIHJlbmRlcmVkOiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkKSxcbiAgICAgIH07XG4gICAgY2FzZSBGaWJlclRhZ3MuRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGVUeXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICB0eXBlOiBub2RlLnR5cGUsXG4gICAgICAgIHByb3BzOiB7IC4uLm5vZGUubWVtb2l6ZWRQcm9wcyB9LFxuICAgICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKG5vZGUua2V5KSxcbiAgICAgICAgcmVmOiBub2RlLnJlZixcbiAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgIHJlbmRlcmVkOiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkKSxcbiAgICAgIH07XG4gICAgY2FzZSBGaWJlclRhZ3MuTWVtb0NsYXNzOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbm9kZVR5cGU6ICdjbGFzcycsXG4gICAgICAgIHR5cGU6IG5vZGUuZWxlbWVudFR5cGUudHlwZSxcbiAgICAgICAgcHJvcHM6IHsgLi4ubm9kZS5tZW1vaXplZFByb3BzIH0sXG4gICAgICAgIGtleTogZW5zdXJlS2V5T3JVbmRlZmluZWQobm9kZS5rZXkpLFxuICAgICAgICByZWY6IG5vZGUucmVmLFxuICAgICAgICBpbnN0YW5jZTogbm9kZS5zdGF0ZU5vZGUsXG4gICAgICAgIHJlbmRlcmVkOiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkLmNoaWxkKSxcbiAgICAgIH07XG4gICAgY2FzZSBGaWJlclRhZ3MuTWVtb1NGQzoge1xuICAgICAgbGV0IHJlbmRlcmVkTm9kZXMgPSBmbGF0dGVuKG5vZGVBbmRTaWJsaW5nc0FycmF5KG5vZGUuY2hpbGQpLm1hcCh0b1RyZWUpKTtcbiAgICAgIGlmIChyZW5kZXJlZE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZW5kZXJlZE5vZGVzID0gW25vZGUubWVtb2l6ZWRQcm9wcy5jaGlsZHJlbl07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlVHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgdHlwZTogbm9kZS5lbGVtZW50VHlwZSxcbiAgICAgICAgcHJvcHM6IHsgLi4ubm9kZS5tZW1vaXplZFByb3BzIH0sXG4gICAgICAgIGtleTogZW5zdXJlS2V5T3JVbmRlZmluZWQobm9kZS5rZXkpLFxuICAgICAgICByZWY6IG5vZGUucmVmLFxuICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgcmVuZGVyZWQ6IHJlbmRlcmVkTm9kZXMsXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIEZpYmVyVGFncy5Ib3N0Q29tcG9uZW50OiB7XG4gICAgICBsZXQgcmVuZGVyZWROb2RlcyA9IGZsYXR0ZW4obm9kZUFuZFNpYmxpbmdzQXJyYXkobm9kZS5jaGlsZCkubWFwKHRvVHJlZSkpO1xuICAgICAgaWYgKHJlbmRlcmVkTm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlbmRlcmVkTm9kZXMgPSBbbm9kZS5tZW1vaXplZFByb3BzLmNoaWxkcmVuXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGVUeXBlOiAnaG9zdCcsXG4gICAgICAgIHR5cGU6IG5vZGUudHlwZSxcbiAgICAgICAgcHJvcHM6IHsgLi4ubm9kZS5tZW1vaXplZFByb3BzIH0sXG4gICAgICAgIGtleTogZW5zdXJlS2V5T3JVbmRlZmluZWQobm9kZS5rZXkpLFxuICAgICAgICByZWY6IG5vZGUucmVmLFxuICAgICAgICBpbnN0YW5jZTogbm9kZS5zdGF0ZU5vZGUsXG4gICAgICAgIHJlbmRlcmVkOiByZW5kZXJlZE5vZGVzLFxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBGaWJlclRhZ3MuSG9zdFRleHQ6XG4gICAgICByZXR1cm4gbm9kZS5tZW1vaXplZFByb3BzO1xuICAgIGNhc2UgRmliZXJUYWdzLkZyYWdtZW50OlxuICAgIGNhc2UgRmliZXJUYWdzLk1vZGU6XG4gICAgY2FzZSBGaWJlclRhZ3MuQ29udGV4dFByb3ZpZGVyOlxuICAgIGNhc2UgRmliZXJUYWdzLkNvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkKTtcbiAgICBjYXNlIEZpYmVyVGFncy5Qcm9maWxlcjpcbiAgICBjYXNlIEZpYmVyVGFncy5Gb3J3YXJkUmVmOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlVHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgdHlwZTogbm9kZS50eXBlLFxuICAgICAgICBwcm9wczogeyAuLi5ub2RlLnBlbmRpbmdQcm9wcyB9LFxuICAgICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKG5vZGUua2V5KSxcbiAgICAgICAgcmVmOiBub2RlLnJlZixcbiAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgIHJlbmRlcmVkOiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgRmliZXJUYWdzLlN1c3BlbnNlOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBub2RlVHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgdHlwZTogU3VzcGVuc2UsXG4gICAgICAgIHByb3BzOiB7IC4uLm5vZGUubWVtb2l6ZWRQcm9wcyB9LFxuICAgICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKG5vZGUua2V5KSxcbiAgICAgICAgcmVmOiBub2RlLnJlZixcbiAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgIHJlbmRlcmVkOiBjaGlsZHJlblRvVHJlZShub2RlLmNoaWxkKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgRmliZXJUYWdzLkxhenk6XG4gICAgICByZXR1cm4gY2hpbGRyZW5Ub1RyZWUobm9kZS5jaGlsZCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRW56eW1lIEludGVybmFsIEVycm9yOiB1bmtub3duIG5vZGUgd2l0aCB0YWcgJHtub2RlLnRhZ31gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGlsZHJlblRvVHJlZShub2RlKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGNoaWxkcmVuID0gbm9kZUFuZFNpYmxpbmdzQXJyYXkobm9kZSk7XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHRvVHJlZShjaGlsZHJlblswXSk7XG4gIH1cbiAgcmV0dXJuIGZsYXR0ZW4oY2hpbGRyZW4ubWFwKHRvVHJlZSkpO1xufVxuXG5mdW5jdGlvbiBub2RlVG9Ib3N0Tm9kZShfbm9kZSkge1xuICAvLyBOT1RFKGxtcik6IG5vZGUgY291bGQgYmUgYSBmdW5jdGlvbiBjb21wb25lbnRcbiAgLy8gd2hpY2ggd29udCBoYXZlIGFuIGluc3RhbmNlIHByb3AsIGJ1dCB3ZSBjYW4gZ2V0IHRoZVxuICAvLyBob3N0IG5vZGUgYXNzb2NpYXRlZCB3aXRoIGl0cyByZXR1cm4gdmFsdWUgYXQgdGhhdCBwb2ludC5cbiAgLy8gQWx0aG91Z2ggdGhpcyBicmVha3MgZG93biBpZiB0aGUgcmV0dXJuIHZhbHVlIGlzIGFuIGFycmF5LFxuICAvLyBhcyBpcyBwb3NzaWJsZSB3aXRoIFJlYWN0IDE2LlxuICBsZXQgbm9kZSA9IF9ub2RlO1xuICB3aGlsZSAobm9kZSAmJiAhQXJyYXkuaXNBcnJheShub2RlKSAmJiBub2RlLmluc3RhbmNlID09PSBudWxsKSB7XG4gICAgbm9kZSA9IG5vZGUucmVuZGVyZWQ7XG4gIH1cbiAgLy8gaWYgdGhlIFNGQyByZXR1cm5lZCBudWxsIGVmZmVjdGl2ZWx5LCB0aGVyZSBpcyBubyBob3N0IG5vZGUuXG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgbWFwcGVyID0gKGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbSAmJiBpdGVtLmluc3RhbmNlKSByZXR1cm4gUmVhY3RET00uZmluZERPTU5vZGUoaXRlbS5pbnN0YW5jZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUubWFwKG1hcHBlcik7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5yZW5kZXJlZCkgJiYgbm9kZS5ub2RlVHlwZSA9PT0gJ2NsYXNzJykge1xuICAgIHJldHVybiBub2RlLnJlbmRlcmVkLm1hcChtYXBwZXIpO1xuICB9XG4gIHJldHVybiBtYXBwZXIobm9kZSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VMYXp5V2l0aEZhbGxiYWNrKG5vZGUsIGZhbGxiYWNrKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUubWFwKChlbCkgPT4gcmVwbGFjZUxhenlXaXRoRmFsbGJhY2soZWwsIGZhbGxiYWNrKSk7XG4gIH1cbiAgaWYgKGlzTGF6eShub2RlLnR5cGUpKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ubm9kZSxcbiAgICBwcm9wczoge1xuICAgICAgLi4ubm9kZS5wcm9wcyxcbiAgICAgIGNoaWxkcmVuOiByZXBsYWNlTGF6eVdpdGhGYWxsYmFjayhub2RlLnByb3BzLmNoaWxkcmVuLCBmYWxsYmFjayksXG4gICAgfSxcbiAgfTtcbn1cblxuY29uc3QgZXZlbnRPcHRpb25zID0ge1xuICBhbmltYXRpb246IHRydWUsXG4gIHBvaW50ZXJFdmVudHM6IGlzMTY0LFxuICBhdXhDbGljazogaXMxNjUsXG59O1xuXG5mdW5jdGlvbiBnZXRFbXB0eVN0YXRlVmFsdWUoKSB7XG4gIC8vIHRoaXMgaGFuZGxlcyBhIGJ1ZyBpbiBSZWFjdCAxNi4wIC0gMTYuMlxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2NvbW1pdC8zOWJlODM1NjVjNjVmOWM1MjIxNTBlNTIzNzUxNjc1NjhhMmExNDU5XG4gIC8vIGFsc28gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzExOTY1XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L3ByZWZlci1zdGF0ZWxlc3MtZnVuY3Rpb25cbiAgY2xhc3MgRW1wdHlTdGF0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRlc3RSZW5kZXJlciA9IG5ldyBTaGFsbG93UmVuZGVyZXIoKTtcbiAgdGVzdFJlbmRlcmVyLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEVtcHR5U3RhdGUpKTtcbiAgcmV0dXJuIHRlc3RSZW5kZXJlci5faW5zdGFuY2Uuc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHdyYXBBY3QoZm4pIHtcbiAgaWYgKCFpczE2OCkge1xuICAgIHJldHVybiBmbigpO1xuICB9XG4gIGxldCByZXR1cm5WYWw7XG4gIFRlc3RVdGlscy5hY3QoKCkgPT4geyByZXR1cm5WYWwgPSBmbigpOyB9KTtcbiAgcmV0dXJuIHJldHVyblZhbDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvdmlkZXJEZWZhdWx0VmFsdWUoUHJvdmlkZXIpIHtcbiAgLy8gUmVhY3Qgc3RvcmVzIHJlZmVyZW5jZXMgdG8gdGhlIFByb3ZpZGVyJ3MgZGVmYXVsdFZhbHVlIGRpZmZlcmVudGx5IGFjcm9zcyB2ZXJzaW9ucy5cbiAgaWYgKCdfZGVmYXVsdFZhbHVlJyBpbiBQcm92aWRlci5fY29udGV4dCkge1xuICAgIHJldHVybiBQcm92aWRlci5fY29udGV4dC5fZGVmYXVsdFZhbHVlO1xuICB9XG4gIGlmICgnX2N1cnJlbnRWYWx1ZScgaW4gUHJvdmlkZXIuX2NvbnRleHQpIHtcbiAgICByZXR1cm4gUHJvdmlkZXIuX2NvbnRleHQuX2N1cnJlbnRWYWx1ZTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ0VuenltZSBJbnRlcm5hbCBFcnJvcjogY2Fu4oCZdCBmaWd1cmUgb3V0IGhvdyB0byBnZXQgUHJvdmlkZXLigJlzIGRlZmF1bHQgdmFsdWUnKTtcbn1cblxuZnVuY3Rpb24gbWFrZUZha2VFbGVtZW50KHR5cGUpIHtcbiAgcmV0dXJuIHsgJCR0eXBlb2Y6IEVsZW1lbnQsIHR5cGUgfTtcbn1cblxuZnVuY3Rpb24gaXNTdGF0ZWZ1bChDb21wb25lbnQpIHtcbiAgcmV0dXJuIENvbXBvbmVudC5wcm90b3R5cGUgJiYgKFxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudFxuICAgIHx8IEFycmF5LmlzQXJyYXkoQ29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZFBhaXJzKSAvLyBmYWxsYmFjayBmb3IgY3JlYXRlQ2xhc3MgY29tcG9uZW50c1xuICApO1xufVxuXG5jbGFzcyBSZWFjdFNpeHRlZW5BZGFwdGVyIGV4dGVuZHMgRW56eW1lQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgeyBsaWZlY3ljbGVzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgZW5hYmxlQ29tcG9uZW50RGlkVXBkYXRlT25TZXRTdGF0ZTogdHJ1ZSwgLy8gVE9ETzogcmVtb3ZlLCBzZW12ZXItbWFqb3JcbiAgICAgIGxlZ2FjeUNvbnRleHRNb2RlOiAncGFyZW50JyxcbiAgICAgIGxpZmVjeWNsZXM6IHtcbiAgICAgICAgLi4ubGlmZWN5Y2xlcyxcbiAgICAgICAgY29tcG9uZW50RGlkVXBkYXRlOiB7XG4gICAgICAgICAgb25TZXRTdGF0ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB7XG4gICAgICAgICAgaGFzU2hvdWxkQ29tcG9uZW50VXBkYXRlQnVnLFxuICAgICAgICB9LFxuICAgICAgICBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgc2V0U3RhdGU6IHtcbiAgICAgICAgICBza2lwc0NvbXBvbmVudERpZFVwZGF0ZU9uTnVsbGlzaDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q2hpbGRDb250ZXh0OiB7XG4gICAgICAgICAgY2FsbGVkQnlSZW5kZXJlcjogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjogaXMxNjYsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBjcmVhdGVNb3VudFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICBhc3NlcnREb21BdmFpbGFibGUoJ21vdW50Jyk7XG4gICAgaWYgKGhhcyhvcHRpb25zLCAnc3VzcGVuc2VGYWxsYmFjaycpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgc3VzcGVuc2VGYWxsYmFja2AgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYG1vdW50YCByZW5kZXJlcicpO1xuICAgIH1cbiAgICBpZiAoRmliZXJUYWdzID09PSBudWxsKSB7XG4gICAgICAvLyBSZXF1aXJlcyBET00uXG4gICAgICBGaWJlclRhZ3MgPSBkZXRlY3RGaWJlclRhZ3MoKTtcbiAgICB9XG4gICAgY29uc3QgeyBhdHRhY2hUbywgaHlkcmF0ZUluLCB3cmFwcGluZ0NvbXBvbmVudFByb3BzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGRvbU5vZGUgPSBoeWRyYXRlSW4gfHwgYXR0YWNoVG8gfHwgZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxldCBpbnN0YW5jZSA9IG51bGw7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbmRlcihlbCwgY29udGV4dCwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHdyYXBBY3QoKCkgPT4ge1xuICAgICAgICAgIGlmIChpbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmIH0gPSBlbDtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZXJQcm9wcyA9IHtcbiAgICAgICAgICAgICAgQ29tcG9uZW50OiB0eXBlLFxuICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgd3JhcHBpbmdDb21wb25lbnRQcm9wcyxcbiAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgLi4uKHJlZiAmJiB7IHJlZlByb3A6IHJlZiB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBSZWFjdFdyYXBwZXJDb21wb25lbnQgPSBjcmVhdGVNb3VudFdyYXBwZXIoZWwsIHsgLi4ub3B0aW9ucywgYWRhcHRlciB9KTtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRFbCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RXcmFwcGVyQ29tcG9uZW50LCB3cmFwcGVyUHJvcHMpO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBoeWRyYXRlSW5cbiAgICAgICAgICAgICAgPyBSZWFjdERPTS5oeWRyYXRlKHdyYXBwZWRFbCwgZG9tTm9kZSlcbiAgICAgICAgICAgICAgOiBSZWFjdERPTS5yZW5kZXIod3JhcHBlZEVsLCBkb21Ob2RlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2Uuc2V0Q2hpbGRQcm9wcyhlbC5wcm9wcywgY29udGV4dCwgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkb21Ob2RlKTtcbiAgICAgICAgaW5zdGFuY2UgPSBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldE5vZGUoKSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Tm9kZUZyb21Sb290RmluZGVyKFxuICAgICAgICAgIGFkYXB0ZXIuaXNDdXN0b21Db21wb25lbnQsXG4gICAgICAgICAgdG9UcmVlKGluc3RhbmNlLl9yZWFjdEludGVybmFsRmliZXIpLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgc2ltdWxhdGVFcnJvcihub2RlSGllcmFyY2h5LCByb290Tm9kZSwgZXJyb3IpIHtcbiAgICAgICAgY29uc3QgaXNFcnJvckJvdW5kYXJ5ID0gKHsgaW5zdGFuY2U6IGVsSW5zdGFuY2UsIHR5cGUgfSkgPT4ge1xuICAgICAgICAgIGlmIChpczE2NiAmJiB0eXBlICYmIHR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsSW5zdGFuY2UgJiYgZWxJbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaDtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaW5zdGFuY2U6IGNhdGNoaW5nSW5zdGFuY2UsXG4gICAgICAgICAgdHlwZTogY2F0Y2hpbmdUeXBlLFxuICAgICAgICB9ID0gbm9kZUhpZXJhcmNoeS5maW5kKGlzRXJyb3JCb3VuZGFyeSkgfHwge307XG5cbiAgICAgICAgc2ltdWxhdGVFcnJvcihcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBjYXRjaGluZ0luc3RhbmNlLFxuICAgICAgICAgIHJvb3ROb2RlLFxuICAgICAgICAgIG5vZGVIaWVyYXJjaHksXG4gICAgICAgICAgbm9kZVR5cGVGcm9tVHlwZSxcbiAgICAgICAgICBhZGFwdGVyLmRpc3BsYXlOYW1lT2ZOb2RlLFxuICAgICAgICAgIGlzMTY2ID8gY2F0Y2hpbmdUeXBlIDogdW5kZWZpbmVkLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHNpbXVsYXRlRXZlbnQobm9kZSwgZXZlbnQsIG1vY2spIHtcbiAgICAgICAgY29uc3QgbWFwcGVkRXZlbnQgPSBtYXBOYXRpdmVFdmVudE5hbWVzKGV2ZW50LCBldmVudE9wdGlvbnMpO1xuICAgICAgICBjb25zdCBldmVudEZuID0gVGVzdFV0aWxzLlNpbXVsYXRlW21hcHBlZEV2ZW50XTtcbiAgICAgICAgaWYgKCFldmVudEZuKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUmVhY3RXcmFwcGVyOjpzaW11bGF0ZSgpIGV2ZW50ICcke2V2ZW50fScgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwQWN0KCgpID0+IHtcbiAgICAgICAgICBldmVudEZuKGFkYXB0ZXIubm9kZVRvSG9zdE5vZGUobm9kZSksIG1vY2spO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBiYXRjaGVkVXBkYXRlcyhmbikge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgLy8gcmV0dXJuIFJlYWN0RE9NLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzKGZuKTtcbiAgICAgIH0sXG4gICAgICBnZXRXcmFwcGluZ0NvbXBvbmVudFJlbmRlcmVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgLi4uZ2V0V3JhcHBpbmdDb21wb25lbnRNb3VudFJlbmRlcmVyKHtcbiAgICAgICAgICAgIHRvVHJlZTogKGluc3QpID0+IHRvVHJlZShpbnN0Ll9yZWFjdEludGVybmFsRmliZXIpLFxuICAgICAgICAgICAgZ2V0TW91bnRXcmFwcGVySW5zdGFuY2U6ICgpID0+IGluc3RhbmNlLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIC4uLihpczE2OCAmJiB7IHdyYXBJbnZva2U6IHdyYXBBY3QgfSksXG4gICAgfTtcbiAgfVxuXG4gIGNyZWF0ZVNoYWxsb3dSZW5kZXJlcihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcztcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBTaGFsbG93UmVuZGVyZXIoKTtcbiAgICBjb25zdCB7IHN1c3BlbnNlRmFsbGJhY2sgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiBzdXNwZW5zZUZhbGxiYWNrICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc3VzcGVuc2VGYWxsYmFjayAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ2BvcHRpb25zLnN1c3BlbnNlRmFsbGJhY2tgIHNob3VsZCBiZSBib29sZWFuIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBsZXQgaXNET00gPSBmYWxzZTtcbiAgICBsZXQgY2FjaGVkTm9kZSA9IG51bGw7XG5cbiAgICBsZXQgbGFzdENvbXBvbmVudCA9IG51bGw7XG4gICAgbGV0IHdyYXBwZWRDb21wb25lbnQgPSBudWxsO1xuICAgIGNvbnN0IHNlbnRpbmVsID0ge307XG5cbiAgICAvLyB3cmFwIG1lbW8gY29tcG9uZW50cyB3aXRoIGEgUHVyZUNvbXBvbmVudCwgb3IgYSBjbGFzcyBjb21wb25lbnQgd2l0aCBzQ1VcbiAgICBjb25zdCB3cmFwUHVyZUNvbXBvbmVudCA9IChDb21wb25lbnQsIGNvbXBhcmUpID0+IHtcbiAgICAgIGlmICghaXMxNjYpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gUmVhY3QgPCAxNi42LiBQbGVhc2UgcmVwb3J0IHRoaXMhJyk7XG4gICAgICB9XG4gICAgICBpZiAobGFzdENvbXBvbmVudCAhPT0gQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChpc1N0YXRlZnVsKENvbXBvbmVudCkpIHtcbiAgICAgICAgICB3cmFwcGVkQ29tcG9uZW50ID0gY2xhc3MgZXh0ZW5kcyBDb21wb25lbnQge307IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QvcHJlZmVyLXN0YXRlbGVzcy1mdW5jdGlvblxuICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICB3cmFwcGVkQ29tcG9uZW50LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSAobmV4dFByb3BzKSA9PiAhY29tcGFyZSh0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVkQ29tcG9uZW50LnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBtZW1vaXplZCA9IHNlbnRpbmVsO1xuICAgICAgICAgIGxldCBwcmV2UHJvcHM7XG4gICAgICAgICAgd3JhcHBlZENvbXBvbmVudCA9IGZ1bmN0aW9uIChwcm9wcywgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkVXBkYXRlID0gbWVtb2l6ZWQgPT09IHNlbnRpbmVsIHx8IChjb21wYXJlXG4gICAgICAgICAgICAgID8gIWNvbXBhcmUocHJldlByb3BzLCBwcm9wcylcbiAgICAgICAgICAgICAgOiAhc2hhbGxvd0VxdWFsKHByZXZQcm9wcywgcHJvcHMpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgICBtZW1vaXplZCA9IENvbXBvbmVudCh7IC4uLkNvbXBvbmVudC5kZWZhdWx0UHJvcHMsIC4uLnByb3BzIH0sIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICBwcmV2UHJvcHMgPSBwcm9wcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgd3JhcHBlZENvbXBvbmVudCxcbiAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgeyBkaXNwbGF5TmFtZTogYWRhcHRlci5kaXNwbGF5TmFtZU9mTm9kZSh7IHR5cGU6IENvbXBvbmVudCB9KSB9LFxuICAgICAgICApO1xuICAgICAgICBsYXN0Q29tcG9uZW50ID0gQ29tcG9uZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZWRDb21wb25lbnQ7XG4gICAgfTtcblxuICAgIC8vIFdyYXAgZnVuY3Rpb25hbCBjb21wb25lbnRzIG9uIHZlcnNpb25zIHByaW9yIHRvIDE2LjUsXG4gICAgLy8gdG8gYXZvaWQgaW5hZHZlcnRlbnRseSBwYXNzIGEgYHRoaXNgIGluc3RhbmNlIHRvIGl0LlxuICAgIGNvbnN0IHdyYXBGdW5jdGlvbmFsQ29tcG9uZW50ID0gKENvbXBvbmVudCkgPT4ge1xuICAgICAgaWYgKGlzMTY2ICYmIGhhcyhDb21wb25lbnQsICdkZWZhdWx0UHJvcHMnKSkge1xuICAgICAgICBpZiAobGFzdENvbXBvbmVudCAhPT0gQ29tcG9uZW50KSB7XG4gICAgICAgICAgd3JhcHBlZENvbXBvbmVudCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgICAgICAgICAgKHByb3BzLCAuLi5hcmdzKSA9PiBDb21wb25lbnQoeyAuLi5Db21wb25lbnQuZGVmYXVsdFByb3BzLCAuLi5wcm9wcyB9LCAuLi5hcmdzKSxcbiAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgIHsgZGlzcGxheU5hbWU6IGFkYXB0ZXIuZGlzcGxheU5hbWVPZk5vZGUoeyB0eXBlOiBDb21wb25lbnQgfSkgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGxhc3RDb21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyYXBwZWRDb21wb25lbnQ7XG4gICAgICB9XG4gICAgICBpZiAoaXMxNjUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhc3RDb21wb25lbnQgIT09IENvbXBvbmVudCkge1xuICAgICAgICB3cmFwcGVkQ29tcG9uZW50ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAoLi4uYXJncykgPT4gQ29tcG9uZW50KC4uLmFyZ3MpLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICk7XG4gICAgICAgIGxhc3RDb21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlZENvbXBvbmVudDtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyRWxlbWVudCA9IChlbENvbmZpZywgLi4ucmVzdCkgPT4ge1xuICAgICAgY29uc3QgcmVuZGVyZWRFbCA9IHJlbmRlcmVyLnJlbmRlcihlbENvbmZpZywgLi4ucmVzdCk7XG5cbiAgICAgIGNvbnN0IHR5cGVJc0V4aXN0ZWQgPSAhIShyZW5kZXJlZEVsICYmIHJlbmRlcmVkRWwudHlwZSk7XG4gICAgICBpZiAoaXMxNjYgJiYgdHlwZUlzRXhpc3RlZCkge1xuICAgICAgICBjb25zdCBjbG9uZWRFbCA9IHRyYW5zZm9ybVN1c3BlbnNlKHJlbmRlcmVkRWwsIGVsQ29uZmlnLCB7IHN1c3BlbnNlRmFsbGJhY2sgfSk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudElzQ2hhbmdlZCA9IGNsb25lZEVsLnR5cGUgIT09IHJlbmRlcmVkRWwudHlwZTtcbiAgICAgICAgaWYgKGVsZW1lbnRJc0NoYW5nZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyZXIucmVuZGVyKHsgLi4uZWxDb25maWcsIHR5cGU6IGNsb25lZEVsLnR5cGUgfSwgLi4ucmVzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcmVkRWw7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICByZW5kZXIoZWwsIHVubWFza2VkQ29udGV4dCwge1xuICAgICAgICBwcm92aWRlclZhbHVlcyA9IG5ldyBNYXAoKSxcbiAgICAgIH0gPSB7fSkge1xuICAgICAgICBjYWNoZWROb2RlID0gZWw7XG4gICAgICAgIC8qIGVzbGludCBjb25zaXN0ZW50LXJldHVybjogMCAqL1xuICAgICAgICBpZiAodHlwZW9mIGVsLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaXNET00gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ29udGV4dFByb3ZpZGVyKGVsKSkge1xuICAgICAgICAgIHByb3ZpZGVyVmFsdWVzLnNldChlbC50eXBlLCBlbC5wcm9wcy52YWx1ZSk7XG4gICAgICAgICAgY29uc3QgTW9ja1Byb3ZpZGVyID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIChwcm9wcykgPT4gcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICBlbC50eXBlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHdpdGhTZXRTdGF0ZUFsbG93ZWQoKCkgPT4gcmVuZGVyRWxlbWVudCh7IC4uLmVsLCB0eXBlOiBNb2NrUHJvdmlkZXIgfSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ29udGV4dENvbnN1bWVyKGVsKSkge1xuICAgICAgICAgIGNvbnN0IFByb3ZpZGVyID0gYWRhcHRlci5nZXRQcm92aWRlckZyb21Db25zdW1lcihlbC50eXBlKTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3ZpZGVyVmFsdWVzLmhhcyhQcm92aWRlcilcbiAgICAgICAgICAgID8gcHJvdmlkZXJWYWx1ZXMuZ2V0KFByb3ZpZGVyKVxuICAgICAgICAgICAgOiBnZXRQcm92aWRlckRlZmF1bHRWYWx1ZShQcm92aWRlcik7XG4gICAgICAgICAgY29uc3QgTW9ja0NvbnN1bWVyID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIChwcm9wcykgPT4gcHJvcHMuY2hpbGRyZW4odmFsdWUpLFxuICAgICAgICAgICAgZWwudHlwZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB3aXRoU2V0U3RhdGVBbGxvd2VkKCgpID0+IHJlbmRlckVsZW1lbnQoeyAuLi5lbCwgdHlwZTogTW9ja0NvbnN1bWVyIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0RPTSA9IGZhbHNlO1xuICAgICAgICAgIGxldCByZW5kZXJlZEVsID0gZWw7XG4gICAgICAgICAgaWYgKGlzTGF6eShyZW5kZXJlZEVsKSkge1xuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdgUmVhY3QubGF6eWAgaXMgbm90IHN1cHBvcnRlZCBieSBzaGFsbG93IHJlbmRlcmluZy4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZW5kZXJlZEVsID0gdHJhbnNmb3JtU3VzcGVuc2UocmVuZGVyZWRFbCwgcmVuZGVyZWRFbCwgeyBzdXNwZW5zZUZhbGxiYWNrIH0pO1xuICAgICAgICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50IH0gPSByZW5kZXJlZEVsO1xuXG4gICAgICAgICAgY29uc3QgY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQoQ29tcG9uZW50LmNvbnRleHRUeXBlcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgICAgICAgIGlmIChpc01lbW8oZWwudHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZTogSW5uZXJDb21wLCBjb21wYXJlIH0gPSBlbC50eXBlO1xuXG4gICAgICAgICAgICByZXR1cm4gd2l0aFNldFN0YXRlQWxsb3dlZCgoKSA9PiByZW5kZXJFbGVtZW50KFxuICAgICAgICAgICAgICB7IC4uLmVsLCB0eXBlOiB3cmFwUHVyZUNvbXBvbmVudChJbm5lckNvbXAsIGNvbXBhcmUpIH0sXG4gICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWlzU3RhdGVmdWwoQ29tcG9uZW50KSAmJiB0eXBlb2YgQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gd2l0aFNldFN0YXRlQWxsb3dlZCgoKSA9PiByZW5kZXJFbGVtZW50KFxuICAgICAgICAgICAgICB7IC4uLnJlbmRlcmVkRWwsIHR5cGU6IHdyYXBGdW5jdGlvbmFsQ29tcG9uZW50KENvbXBvbmVudCkgfSxcbiAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgICAgICAgICAvLyBmaXggcmVhY3QgYnVnOyBzZWUgaW1wbGVtZW50YXRpb24gb2YgYGdldEVtcHR5U3RhdGVWYWx1ZWBcbiAgICAgICAgICAgIGNvbnN0IGVtcHR5U3RhdGVWYWx1ZSA9IGdldEVtcHR5U3RhdGVWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKGVtcHR5U3RhdGVWYWx1ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgJ3N0YXRlJywge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGVtcHR5U3RhdGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3N0YXRlJywge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2l0aFNldFN0YXRlQWxsb3dlZCgoKSA9PiByZW5kZXJFbGVtZW50KHJlbmRlcmVkRWwsIGNvbnRleHQpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVubW91bnQoKSB7XG4gICAgICAgIHJlbmRlcmVyLnVubW91bnQoKTtcbiAgICAgIH0sXG4gICAgICBnZXROb2RlKCkge1xuICAgICAgICBpZiAoaXNET00pIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudFRvVHJlZShjYWNoZWROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXQgPSByZW5kZXJlci5nZXRSZW5kZXJPdXRwdXQoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBub2RlVHlwZTogbm9kZVR5cGVGcm9tVHlwZShjYWNoZWROb2RlLnR5cGUpLFxuICAgICAgICAgIHR5cGU6IGNhY2hlZE5vZGUudHlwZSxcbiAgICAgICAgICBwcm9wczogY2FjaGVkTm9kZS5wcm9wcyxcbiAgICAgICAgICBrZXk6IGVuc3VyZUtleU9yVW5kZWZpbmVkKGNhY2hlZE5vZGUua2V5KSxcbiAgICAgICAgICByZWY6IGNhY2hlZE5vZGUucmVmLFxuICAgICAgICAgIGluc3RhbmNlOiByZW5kZXJlci5faW5zdGFuY2UsXG4gICAgICAgICAgcmVuZGVyZWQ6IEFycmF5LmlzQXJyYXkob3V0cHV0KVxuICAgICAgICAgICAgPyBmbGF0dGVuKG91dHB1dCkubWFwKChlbCkgPT4gZWxlbWVudFRvVHJlZShlbCkpXG4gICAgICAgICAgICA6IGVsZW1lbnRUb1RyZWUob3V0cHV0KSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBzaW11bGF0ZUVycm9yKG5vZGVIaWVyYXJjaHksIHJvb3ROb2RlLCBlcnJvcikge1xuICAgICAgICBzaW11bGF0ZUVycm9yKFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIHJlbmRlcmVyLl9pbnN0YW5jZSxcbiAgICAgICAgICBjYWNoZWROb2RlLFxuICAgICAgICAgIG5vZGVIaWVyYXJjaHkuY29uY2F0KGNhY2hlZE5vZGUpLFxuICAgICAgICAgIG5vZGVUeXBlRnJvbVR5cGUsXG4gICAgICAgICAgYWRhcHRlci5kaXNwbGF5TmFtZU9mTm9kZSxcbiAgICAgICAgICBpczE2NiA/IGNhY2hlZE5vZGUudHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBzaW11bGF0ZUV2ZW50KG5vZGUsIGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBub2RlLnByb3BzW3Byb3BGcm9tRXZlbnQoZXZlbnQsIGV2ZW50T3B0aW9ucyldO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIHdpdGhTZXRTdGF0ZUFsbG93ZWQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETyhsbXIpOiBjcmVhdGUvdXNlIHN5bnRoZXRpYyBldmVudHNcbiAgICAgICAgICAgIC8vIFRPRE8obG1yKTogZW11bGF0ZSBSZWFjdCdzIGV2ZW50IHByb3BhZ2F0aW9uXG4gICAgICAgICAgICAvLyBSZWFjdERPTS51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiYXRjaGVkVXBkYXRlcyhmbikge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgLy8gcmV0dXJuIFJlYWN0RE9NLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzKGZuKTtcbiAgICAgIH0sXG4gICAgICBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGhpZXJhcmNoeSkge1xuICAgICAgICByZXR1cm4gY2hlY2tQcm9wVHlwZXMoXG4gICAgICAgICAgdHlwZVNwZWNzLFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICBkaXNwbGF5TmFtZU9mTm9kZShjYWNoZWROb2RlKSxcbiAgICAgICAgICAoKSA9PiBnZXRDb21wb25lbnRTdGFjayhoaWVyYXJjaHkuY29uY2F0KFtjYWNoZWROb2RlXSkpLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgY3JlYXRlU3RyaW5nUmVuZGVyZXIob3B0aW9ucykge1xuICAgIGlmIChoYXMob3B0aW9ucywgJ3N1c3BlbnNlRmFsbGJhY2snKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYHN1c3BlbnNlRmFsbGJhY2tgIHNob3VsZCBub3QgYmUgc3BlY2lmaWVkIGluIG9wdGlvbnMgb2Ygc3RyaW5nIHJlbmRlcmVyJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICByZW5kZXIoZWwsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCAmJiAoZWwudHlwZS5jb250ZXh0VHlwZXMgfHwgb3B0aW9ucy5jaGlsZENvbnRleHRUeXBlcykpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgICAgICAgICAgIC4uLihlbC50eXBlLmNvbnRleHRUeXBlcyB8fCB7fSksXG4gICAgICAgICAgICAuLi5vcHRpb25zLmNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgQ29udGV4dFdyYXBwZXIgPSBjcmVhdGVSZW5kZXJXcmFwcGVyKGVsLCBjb250ZXh0LCBjaGlsZENvbnRleHRUeXBlcyk7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RhdGljTWFya3VwKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGV4dFdyYXBwZXIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdGF0aWNNYXJrdXAoZWwpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gUHJvdmlkZWQgYSBiYWcgb2Ygb3B0aW9ucywgcmV0dXJuIGFuIGBFbnp5bWVSZW5kZXJlcmAuIFNvbWUgb3B0aW9ucyBjYW4gYmUgaW1wbGVtZW50YXRpb25cbiAgLy8gc3BlY2lmaWMsIGxpa2UgYGF0dGFjaGAgZXRjLiBmb3IgUmVhY3QsIGJ1dCBub3QgcGFydCBvZiB0aGlzIGludGVyZmFjZSBleHBsaWNpdGx5LlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgc3dpdGNoIChvcHRpb25zLm1vZGUpIHtcbiAgICAgIGNhc2UgRW56eW1lQWRhcHRlci5NT0RFUy5NT1VOVDogcmV0dXJuIHRoaXMuY3JlYXRlTW91bnRSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgIGNhc2UgRW56eW1lQWRhcHRlci5NT0RFUy5TSEFMTE9XOiByZXR1cm4gdGhpcy5jcmVhdGVTaGFsbG93UmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICBjYXNlIEVuenltZUFkYXB0ZXIuTU9ERVMuU1RSSU5HOiByZXR1cm4gdGhpcy5jcmVhdGVTdHJpbmdSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRW56eW1lIEludGVybmFsIEVycm9yOiBVbnJlY29nbml6ZWQgbW9kZTogJHtvcHRpb25zLm1vZGV9YCk7XG4gICAgfVxuICB9XG5cbiAgd3JhcChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHdyYXAoZWxlbWVudCk7XG4gIH1cblxuICAvLyBjb252ZXJ0cyBhbiBSU1ROb2RlIHRvIHRoZSBjb3JyZXNwb25kaW5nIEpTWCBQcmFnbWEgRWxlbWVudC4gVGhpcyB3aWxsIGJlIG5lZWRlZFxuICAvLyBpbiBvcmRlciB0byBpbXBsZW1lbnQgdGhlIGBXcmFwcGVyLm1vdW50KClgIGFuZCBgV3JhcHBlci5zaGFsbG93KClgIG1ldGhvZHMsIGJ1dCBzaG91bGRcbiAgLy8gYmUgcHJldHR5IHN0cmFpZ2h0Zm9yd2FyZCBmb3IgcGVvcGxlIHRvIGltcGxlbWVudC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgbm9kZVRvRWxlbWVudChub2RlKSB7XG4gICAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgeyB0eXBlIH0gPSBub2RlO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHVubWVtb1R5cGUodHlwZSksIHByb3BzV2l0aEtleXNBbmRSZWYobm9kZSkpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgbWF0Y2hlc0VsZW1lbnRUeXBlKG5vZGUsIG1hdGNoaW5nVHlwZSkge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSB9ID0gbm9kZTtcbiAgICByZXR1cm4gdW5tZW1vVHlwZSh0eXBlKSA9PT0gdW5tZW1vVHlwZShtYXRjaGluZ1R5cGUpO1xuICB9XG5cbiAgZWxlbWVudFRvTm9kZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnRUb1RyZWUoZWxlbWVudCk7XG4gIH1cblxuICBub2RlVG9Ib3N0Tm9kZShub2RlLCBzdXBwb3J0c0FycmF5ID0gZmFsc2UpIHtcbiAgICBjb25zdCBub2RlcyA9IG5vZGVUb0hvc3ROb2RlKG5vZGUpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVzKSAmJiAhc3VwcG9ydHNBcnJheSkge1xuICAgICAgcmV0dXJuIG5vZGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cblxuICBkaXNwbGF5TmFtZU9mTm9kZShub2RlKSB7XG4gICAgaWYgKCFub2RlKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB7IHR5cGUsICQkdHlwZW9mIH0gPSBub2RlO1xuXG4gICAgY29uc3Qgbm9kZVR5cGUgPSB0eXBlIHx8ICQkdHlwZW9mO1xuXG4gICAgLy8gbmV3ZXIgbm9kZSB0eXBlcyBtYXkgYmUgdW5kZWZpbmVkLCBzbyBvbmx5IHRlc3QgaWYgdGhlIG5vZGVUeXBlIGV4aXN0c1xuICAgIGlmIChub2RlVHlwZSkge1xuICAgICAgc3dpdGNoIChub2RlVHlwZSkge1xuICAgICAgICBjYXNlIChpczE2NiA/IENvbmN1cnJlbnRNb2RlIDogQXN5bmNNb2RlKSB8fCBOYU46IHJldHVybiBpczE2NiA/ICdDb25jdXJyZW50TW9kZScgOiAnQXN5bmNNb2RlJztcbiAgICAgICAgY2FzZSBGcmFnbWVudCB8fCBOYU46IHJldHVybiAnRnJhZ21lbnQnO1xuICAgICAgICBjYXNlIFN0cmljdE1vZGUgfHwgTmFOOiByZXR1cm4gJ1N0cmljdE1vZGUnO1xuICAgICAgICBjYXNlIFByb2ZpbGVyIHx8IE5hTjogcmV0dXJuICdQcm9maWxlcic7XG4gICAgICAgIGNhc2UgUG9ydGFsIHx8IE5hTjogcmV0dXJuICdQb3J0YWwnO1xuICAgICAgICBjYXNlIFN1c3BlbnNlIHx8IE5hTjogcmV0dXJuICdTdXNwZW5zZSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgc3dpdGNoICgkJHR5cGVvZlR5cGUpIHtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyIHx8IE5hTjogcmV0dXJuICdDb250ZXh0Q29uc3VtZXInO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXIgfHwgTmFOOiByZXR1cm4gJ0NvbnRleHRQcm92aWRlcic7XG4gICAgICBjYXNlIE1lbW8gfHwgTmFOOiB7XG4gICAgICAgIGNvbnN0IG5vZGVOYW1lID0gZGlzcGxheU5hbWVPZk5vZGUobm9kZSk7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygbm9kZU5hbWUgPT09ICdzdHJpbmcnID8gbm9kZU5hbWUgOiBgTWVtbygke2Rpc3BsYXlOYW1lT2ZOb2RlKHR5cGUpfSlgO1xuICAgICAgfVxuICAgICAgY2FzZSBGb3J3YXJkUmVmIHx8IE5hTjoge1xuICAgICAgICBpZiAodHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hbWUgPSBkaXNwbGF5TmFtZU9mTm9kZSh7IHR5cGU6IHR5cGUucmVuZGVyIH0pO1xuICAgICAgICByZXR1cm4gbmFtZSA/IGBGb3J3YXJkUmVmKCR7bmFtZX0pYCA6ICdGb3J3YXJkUmVmJztcbiAgICAgIH1cbiAgICAgIGNhc2UgTGF6eSB8fCBOYU46IHtcbiAgICAgICAgcmV0dXJuICdsYXp5JztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHJldHVybiBkaXNwbGF5TmFtZU9mTm9kZShub2RlKTtcbiAgICB9XG4gIH1cblxuICBpc1ZhbGlkRWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGlzRWxlbWVudChlbGVtZW50KTtcbiAgfVxuXG4gIGlzVmFsaWRFbGVtZW50VHlwZShvYmplY3QpIHtcbiAgICByZXR1cm4gISFvYmplY3QgJiYgaXNWYWxpZEVsZW1lbnRUeXBlKG9iamVjdCk7XG4gIH1cblxuICBpc0ZyYWdtZW50KGZyYWdtZW50KSB7XG4gICAgcmV0dXJuIHR5cGVPZk5vZGUoZnJhZ21lbnQpID09PSBGcmFnbWVudDtcbiAgfVxuXG4gIGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUpIHtcbiAgICBjb25zdCBmYWtlRWxlbWVudCA9IG1ha2VGYWtlRWxlbWVudCh0eXBlKTtcbiAgICByZXR1cm4gISF0eXBlICYmIChcbiAgICAgIHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nXG4gICAgICB8fCBpc0ZvcndhcmRSZWYoZmFrZUVsZW1lbnQpXG4gICAgICB8fCBpc0NvbnRleHRQcm92aWRlcihmYWtlRWxlbWVudClcbiAgICAgIHx8IGlzQ29udGV4dENvbnN1bWVyKGZha2VFbGVtZW50KVxuICAgICAgfHwgaXNTdXNwZW5zZShmYWtlRWxlbWVudClcbiAgICApO1xuICB9XG5cbiAgaXNDb250ZXh0Q29uc3VtZXIodHlwZSkge1xuICAgIHJldHVybiAhIXR5cGUgJiYgaXNDb250ZXh0Q29uc3VtZXIobWFrZUZha2VFbGVtZW50KHR5cGUpKTtcbiAgfVxuXG4gIGlzQ3VzdG9tQ29tcG9uZW50RWxlbWVudChpbnN0KSB7XG4gICAgaWYgKCFpbnN0IHx8ICF0aGlzLmlzVmFsaWRFbGVtZW50KGluc3QpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmlzQ3VzdG9tQ29tcG9uZW50KGluc3QudHlwZSk7XG4gIH1cblxuICBnZXRQcm92aWRlckZyb21Db25zdW1lcihDb25zdW1lcikge1xuICAgIC8vIFJlYWN0IHN0b3JlcyByZWZlcmVuY2VzIHRvIHRoZSBQcm92aWRlciBvbiBhIENvbnN1bWVyIGRpZmZlcmVudGx5IGFjcm9zcyB2ZXJzaW9ucy5cbiAgICBpZiAoQ29uc3VtZXIpIHtcbiAgICAgIGxldCBQcm92aWRlcjtcbiAgICAgIGlmIChDb25zdW1lci5fY29udGV4dCkgeyAvLyBjaGVjayB0aGlzIGZpcnN0LCB0byBhdm9pZCBhIGRlcHJlY2F0aW9uIHdhcm5pbmdcbiAgICAgICAgKHsgUHJvdmlkZXIgfSA9IENvbnN1bWVyLl9jb250ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAoQ29uc3VtZXIuUHJvdmlkZXIpIHtcbiAgICAgICAgKHsgUHJvdmlkZXIgfSA9IENvbnN1bWVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChQcm92aWRlcikge1xuICAgICAgICByZXR1cm4gUHJvdmlkZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignRW56eW1lIEludGVybmFsIEVycm9yOiBjYW7igJl0IGZpZ3VyZSBvdXQgaG93IHRvIGdldCBQcm92aWRlciBmcm9tIENvbnN1bWVyJyk7XG4gIH1cblxuICBjcmVhdGVFbGVtZW50KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCguLi5hcmdzKTtcbiAgfVxuXG4gIHdyYXBXaXRoV3JhcHBpbmdDb21wb25lbnQobm9kZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICBSb290RmluZGVyLFxuICAgICAgbm9kZTogd3JhcFdpdGhXcmFwcGluZ0NvbXBvbmVudChSZWFjdC5jcmVhdGVFbGVtZW50LCBub2RlLCBvcHRpb25zKSxcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RTaXh0ZWVuQWRhcHRlcjtcbiJdfQ==