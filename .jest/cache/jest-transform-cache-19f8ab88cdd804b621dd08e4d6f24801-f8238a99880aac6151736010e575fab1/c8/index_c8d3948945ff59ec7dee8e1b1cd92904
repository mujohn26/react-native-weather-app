326cafdb0fe097111de65fcef60054ad
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = eachWeekOfInterval;

var _index = _interopRequireDefault(require("../addWeeks/index.js"));

var _index2 = _interopRequireDefault(require("../startOfWeek/index.js"));

var _index3 = _interopRequireDefault(require("../toDate/index.js"));

var _index4 = _interopRequireDefault(require("../_lib/requiredArgs/index.js"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function eachWeekOfInterval(dirtyInterval, options) {
  (0, _index4.default)(1, arguments);
  var interval = dirtyInterval || {};
  var startDate = (0, _index3.default)(interval.start);
  var endDate = (0, _index3.default)(interval.end);
  var endTime = endDate.getTime();

  if (!(startDate.getTime() <= endTime)) {
    throw new RangeError('Invalid interval');
  }

  var startDateWeek = (0, _index2.default)(startDate, options);
  var endDateWeek = (0, _index2.default)(endDate, options);
  startDateWeek.setHours(15);
  endDateWeek.setHours(15);
  endTime = endDateWeek.getTime();
  var weeks = [];
  var currentWeek = startDateWeek;

  while (currentWeek.getTime() <= endTime) {
    currentWeek.setHours(0);
    weeks.push((0, _index3.default)(currentWeek));
    currentWeek = (0, _index.default)(currentWeek, 1);
    currentWeek.setHours(15);
  }

  return weeks;
}

module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImVhY2hXZWVrT2ZJbnRlcnZhbCIsIl9pbmRleCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2luZGV4MiIsIl9pbmRleDMiLCJfaW5kZXg0Iiwib2JqIiwiX19lc01vZHVsZSIsImRpcnR5SW50ZXJ2YWwiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwiaW50ZXJ2YWwiLCJzdGFydERhdGUiLCJzdGFydCIsImVuZERhdGUiLCJlbmQiLCJlbmRUaW1lIiwiZ2V0VGltZSIsIlJhbmdlRXJyb3IiLCJzdGFydERhdGVXZWVrIiwiZW5kRGF0ZVdlZWsiLCJzZXRIb3VycyIsIndlZWtzIiwiY3VycmVudFdlZWsiLCJwdXNoIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUMzQ0MsRUFBQUEsS0FBSyxFQUFFO0FBRG9DLENBQTdDO0FBR0FELE9BQU8sQ0FBQ0UsT0FBUixHQUFrQkMsa0JBQWxCOztBQUVBLElBQUlDLE1BQU0sR0FBR0Msc0JBQXNCLENBQUNDLE9BQU8sd0JBQVIsQ0FBbkM7O0FBRUEsSUFBSUMsT0FBTyxHQUFHRixzQkFBc0IsQ0FBQ0MsT0FBTywyQkFBUixDQUFwQzs7QUFFQSxJQUFJRSxPQUFPLEdBQUdILHNCQUFzQixDQUFDQyxPQUFPLHNCQUFSLENBQXBDOztBQUVBLElBQUlHLE9BQU8sR0FBR0osc0JBQXNCLENBQUNDLE9BQU8saUNBQVIsQ0FBcEM7O0FBRUEsU0FBU0Qsc0JBQVQsQ0FBZ0NLLEdBQWhDLEVBQXFDO0FBQUUsU0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNDLFVBQVgsR0FBd0JELEdBQXhCLEdBQThCO0FBQUVSLElBQUFBLE9BQU8sRUFBRVE7QUFBWCxHQUFyQztBQUF3RDs7QUF5Qy9GLFNBQVNQLGtCQUFULENBQTRCUyxhQUE1QixFQUEyQ0MsT0FBM0MsRUFBb0Q7QUFDbEQsR0FBQyxHQUFHSixPQUFPLENBQUNQLE9BQVosRUFBcUIsQ0FBckIsRUFBd0JZLFNBQXhCO0FBQ0EsTUFBSUMsUUFBUSxHQUFHSCxhQUFhLElBQUksRUFBaEM7QUFDQSxNQUFJSSxTQUFTLEdBQUcsQ0FBQyxHQUFHUixPQUFPLENBQUNOLE9BQVosRUFBcUJhLFFBQVEsQ0FBQ0UsS0FBOUIsQ0FBaEI7QUFDQSxNQUFJQyxPQUFPLEdBQUcsQ0FBQyxHQUFHVixPQUFPLENBQUNOLE9BQVosRUFBcUJhLFFBQVEsQ0FBQ0ksR0FBOUIsQ0FBZDtBQUNBLE1BQUlDLE9BQU8sR0FBR0YsT0FBTyxDQUFDRyxPQUFSLEVBQWQ7O0FBRUEsTUFBSSxFQUFFTCxTQUFTLENBQUNLLE9BQVYsTUFBdUJELE9BQXpCLENBQUosRUFBdUM7QUFDckMsVUFBTSxJQUFJRSxVQUFKLENBQWUsa0JBQWYsQ0FBTjtBQUNEOztBQUVELE1BQUlDLGFBQWEsR0FBRyxDQUFDLEdBQUdoQixPQUFPLENBQUNMLE9BQVosRUFBcUJjLFNBQXJCLEVBQWdDSCxPQUFoQyxDQUFwQjtBQUNBLE1BQUlXLFdBQVcsR0FBRyxDQUFDLEdBQUdqQixPQUFPLENBQUNMLE9BQVosRUFBcUJnQixPQUFyQixFQUE4QkwsT0FBOUIsQ0FBbEI7QUFFQVUsRUFBQUEsYUFBYSxDQUFDRSxRQUFkLENBQXVCLEVBQXZCO0FBQ0FELEVBQUFBLFdBQVcsQ0FBQ0MsUUFBWixDQUFxQixFQUFyQjtBQUNBTCxFQUFBQSxPQUFPLEdBQUdJLFdBQVcsQ0FBQ0gsT0FBWixFQUFWO0FBQ0EsTUFBSUssS0FBSyxHQUFHLEVBQVo7QUFDQSxNQUFJQyxXQUFXLEdBQUdKLGFBQWxCOztBQUVBLFNBQU9JLFdBQVcsQ0FBQ04sT0FBWixNQUF5QkQsT0FBaEMsRUFBeUM7QUFDdkNPLElBQUFBLFdBQVcsQ0FBQ0YsUUFBWixDQUFxQixDQUFyQjtBQUNBQyxJQUFBQSxLQUFLLENBQUNFLElBQU4sQ0FBVyxDQUFDLEdBQUdwQixPQUFPLENBQUNOLE9BQVosRUFBcUJ5QixXQUFyQixDQUFYO0FBQ0FBLElBQUFBLFdBQVcsR0FBRyxDQUFDLEdBQUd2QixNQUFNLENBQUNGLE9BQVgsRUFBb0J5QixXQUFwQixFQUFpQyxDQUFqQyxDQUFkO0FBQ0FBLElBQUFBLFdBQVcsQ0FBQ0YsUUFBWixDQUFxQixFQUFyQjtBQUNEOztBQUVELFNBQU9DLEtBQVA7QUFDRDs7QUFFREcsTUFBTSxDQUFDN0IsT0FBUCxHQUFpQkEsT0FBTyxDQUFDRSxPQUF6QiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZWFjaFdlZWtPZkludGVydmFsO1xuXG52YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vYWRkV2Vla3MvaW5kZXguanNcIikpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL3N0YXJ0T2ZXZWVrL2luZGV4LmpzXCIpKTtcblxudmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi90b0RhdGUvaW5kZXguanNcIikpO1xuXG52YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBAbmFtZSBlYWNoV2Vla09mSW50ZXJ2YWxcbiAqIEBjYXRlZ29yeSBJbnRlcnZhbCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIGFycmF5IG9mIHdlZWtzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgaW50ZXJ2YWwuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGFycmF5IG9mIHdlZWtzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgaW50ZXJ2YWwuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiBAcGFyYW0ge0ludGVydmFsfSBpbnRlcnZhbCAtIHRoZSBpbnRlcnZhbC4gU2VlIFtJbnRlcnZhbF17QGxpbmsgZG9jcy90eXBlcy9JbnRlcnZhbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0RhdGVbXX0gdGhlIGFycmF5IHdpdGggc3RhcnRzIG9mIHdlZWtzIGZyb20gdGhlIHdlZWsgb2YgdGhlIGludGVydmFsIHN0YXJ0IHRvIHRoZSB3ZWVrIG9mIHRoZSBpbnRlcnZhbCBlbmRcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMud2Vla1N0YXJ0c09uYCBtdXN0IGJlIDAsIDEsIC4uLiwgNlxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gVGhlIHN0YXJ0IG9mIGFuIGludGVydmFsIGNhbm5vdCBiZSBhZnRlciBpdHMgZW5kXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBEYXRlIGluIGludGVydmFsIGNhbm5vdCBiZSBgSW52YWxpZCBEYXRlYFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBFYWNoIHdlZWsgd2l0aGluIGludGVydmFsIDYgT2N0b2JlciAyMDE0IC0gMjMgTm92ZW1iZXIgMjAxNDpcbiAqIHZhciByZXN1bHQgPSBlYWNoV2Vla09mSW50ZXJ2YWwoe1xuICogICBzdGFydDogbmV3IERhdGUoMjAxNCwgOSwgNiksXG4gKiAgIGVuZDogbmV3IERhdGUoMjAxNCwgMTAsIDIzKVxuICogfSlcbiAqIC8vPT4gW1xuICogLy8gICBTdW4gT2N0IDA1IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFN1biBPY3QgMTIgMjAxNCAwMDowMDowMCxcbiAqIC8vICAgU3VuIE9jdCAxOSAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBTdW4gT2N0IDI2IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFN1biBOb3YgMDIgMjAxNCAwMDowMDowMCxcbiAqIC8vICAgU3VuIE5vdiAwOSAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBTdW4gTm92IDE2IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFN1biBOb3YgMjMgMjAxNCAwMDowMDowMFxuICogLy8gXVxuICovXG5mdW5jdGlvbiBlYWNoV2Vla09mSW50ZXJ2YWwoZGlydHlJbnRlcnZhbCwgb3B0aW9ucykge1xuICAoMCwgX2luZGV4NC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICB2YXIgaW50ZXJ2YWwgPSBkaXJ0eUludGVydmFsIHx8IHt9O1xuICB2YXIgc3RhcnREYXRlID0gKDAsIF9pbmRleDMuZGVmYXVsdCkoaW50ZXJ2YWwuc3RhcnQpO1xuICB2YXIgZW5kRGF0ZSA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGludGVydmFsLmVuZCk7XG4gIHZhciBlbmRUaW1lID0gZW5kRGF0ZS5nZXRUaW1lKCk7IC8vIFRocm93IGFuIGV4Y2VwdGlvbiBpZiBzdGFydCBkYXRlIGlzIGFmdGVyIGVuZCBkYXRlIG9yIGlmIGFueSBkYXRlIGlzIGBJbnZhbGlkIERhdGVgXG5cbiAgaWYgKCEoc3RhcnREYXRlLmdldFRpbWUoKSA8PSBlbmRUaW1lKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIGludGVydmFsJyk7XG4gIH1cblxuICB2YXIgc3RhcnREYXRlV2VlayA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKHN0YXJ0RGF0ZSwgb3B0aW9ucyk7XG4gIHZhciBlbmREYXRlV2VlayA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGVuZERhdGUsIG9wdGlvbnMpOyAvLyBTb21lIHRpbWV6b25lcyBzd2l0Y2ggRFNUIGF0IG1pZG5pZ2h0LCBtYWtpbmcgc3RhcnQgb2YgZGF5IHVucmVsaWFibGUgaW4gdGhlc2UgdGltZXpvbmVzLCAzcG0gaXMgYSBzYWZlIGJldFxuXG4gIHN0YXJ0RGF0ZVdlZWsuc2V0SG91cnMoMTUpO1xuICBlbmREYXRlV2Vlay5zZXRIb3VycygxNSk7XG4gIGVuZFRpbWUgPSBlbmREYXRlV2Vlay5nZXRUaW1lKCk7XG4gIHZhciB3ZWVrcyA9IFtdO1xuICB2YXIgY3VycmVudFdlZWsgPSBzdGFydERhdGVXZWVrO1xuXG4gIHdoaWxlIChjdXJyZW50V2Vlay5nZXRUaW1lKCkgPD0gZW5kVGltZSkge1xuICAgIGN1cnJlbnRXZWVrLnNldEhvdXJzKDApO1xuICAgIHdlZWtzLnB1c2goKDAsIF9pbmRleDMuZGVmYXVsdCkoY3VycmVudFdlZWspKTtcbiAgICBjdXJyZW50V2VlayA9ICgwLCBfaW5kZXguZGVmYXVsdCkoY3VycmVudFdlZWssIDEpO1xuICAgIGN1cnJlbnRXZWVrLnNldEhvdXJzKDE1KTtcbiAgfVxuXG4gIHJldHVybiB3ZWVrcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il19