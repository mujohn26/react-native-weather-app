1207aaadd528d4d093f6570c110e3552
(function (root, factory) {
  if (typeof define === 'function' && define.amd) {
    define([], factory);
  } else if (typeof exports === 'object') {
    module.exports = factory();
  } else {
    root.compareVersions = factory();
  }
})(this, function () {
  var semver = /^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;

  function indexOrEnd(str, q) {
    return str.indexOf(q) === -1 ? str.length : str.indexOf(q);
  }

  function split(v) {
    var c = v.replace(/^v/, '').replace(/\+.*$/, '');
    var patchIndex = indexOrEnd(c, '-');
    var arr = c.substring(0, patchIndex).split('.');
    arr.push(c.substring(patchIndex + 1));
    return arr;
  }

  function tryParse(v) {
    return isNaN(Number(v)) ? v : Number(v);
  }

  function validate(version) {
    if (typeof version !== 'string') {
      throw new TypeError('Invalid argument expected string');
    }

    if (!semver.test(version)) {
      throw new Error('Invalid argument not valid semver (\'' + version + '\' received)');
    }
  }

  function compareVersions(v1, v2) {
    [v1, v2].forEach(validate);
    var s1 = split(v1);
    var s2 = split(v2);

    for (var i = 0; i < Math.max(s1.length - 1, s2.length - 1); i++) {
      var n1 = parseInt(s1[i] || 0, 10);
      var n2 = parseInt(s2[i] || 0, 10);
      if (n1 > n2) return 1;
      if (n2 > n1) return -1;
    }

    var sp1 = s1[s1.length - 1];
    var sp2 = s2[s2.length - 1];

    if (sp1 && sp2) {
      var p1 = sp1.split('.').map(tryParse);
      var p2 = sp2.split('.').map(tryParse);

      for (i = 0; i < Math.max(p1.length, p2.length); i++) {
        if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;
        if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;
        if (p1[i] > p2[i]) return 1;
        if (p2[i] > p1[i]) return -1;
      }
    } else if (sp1 || sp2) {
      return sp1 ? -1 : 1;
    }

    return 0;
  }

  ;
  var allowedOperators = ['>', '>=', '=', '<', '<='];
  var operatorResMap = {
    '>': [1],
    '>=': [0, 1],
    '=': [0],
    '<=': [-1, 0],
    '<': [-1]
  };

  function validateOperator(op) {
    if (typeof op !== 'string') {
      throw new TypeError('Invalid operator type, expected string but got ' + typeof op);
    }

    if (allowedOperators.indexOf(op) === -1) {
      throw new TypeError('Invalid operator, expected one of ' + allowedOperators.join('|'));
    }
  }

  compareVersions.validate = function (version) {
    return typeof version === 'string' && semver.test(version);
  };

  compareVersions.compare = function (v1, v2, operator) {
    validateOperator(operator);
    var res = compareVersions(v1, v2);
    return operatorResMap[operator].indexOf(res) > -1;
  };

  return compareVersions;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsImNvbXBhcmVWZXJzaW9ucyIsInNlbXZlciIsImluZGV4T3JFbmQiLCJzdHIiLCJxIiwiaW5kZXhPZiIsImxlbmd0aCIsInNwbGl0IiwidiIsImMiLCJyZXBsYWNlIiwicGF0Y2hJbmRleCIsImFyciIsInN1YnN0cmluZyIsInB1c2giLCJ0cnlQYXJzZSIsImlzTmFOIiwiTnVtYmVyIiwidmFsaWRhdGUiLCJ2ZXJzaW9uIiwiVHlwZUVycm9yIiwidGVzdCIsIkVycm9yIiwidjEiLCJ2MiIsImZvckVhY2giLCJzMSIsInMyIiwiaSIsIk1hdGgiLCJtYXgiLCJuMSIsInBhcnNlSW50IiwibjIiLCJzcDEiLCJzcDIiLCJwMSIsIm1hcCIsInAyIiwidW5kZWZpbmVkIiwiYWxsb3dlZE9wZXJhdG9ycyIsIm9wZXJhdG9yUmVzTWFwIiwidmFsaWRhdGVPcGVyYXRvciIsIm9wIiwiam9pbiIsImNvbXBhcmUiLCJvcGVyYXRvciIsInJlcyJdLCJtYXBwaW5ncyI6IkFBQ0MsV0FBVUEsSUFBVixFQUFnQkMsT0FBaEIsRUFBeUI7QUFFeEIsTUFBSSxPQUFPQyxNQUFQLEtBQWtCLFVBQWxCLElBQWdDQSxNQUFNLENBQUNDLEdBQTNDLEVBQWdEO0FBQzlDRCxJQUFBQSxNQUFNLENBQUMsRUFBRCxFQUFLRCxPQUFMLENBQU47QUFDRCxHQUZELE1BRU8sSUFBSSxPQUFPRyxPQUFQLEtBQW1CLFFBQXZCLEVBQWlDO0FBQ3RDQyxJQUFBQSxNQUFNLENBQUNELE9BQVAsR0FBaUJILE9BQU8sRUFBeEI7QUFDRCxHQUZNLE1BRUE7QUFDTEQsSUFBQUEsSUFBSSxDQUFDTSxlQUFMLEdBQXVCTCxPQUFPLEVBQTlCO0FBQ0Q7QUFDRixDQVRBLEVBU0MsSUFURCxFQVNPLFlBQVk7QUFFbEIsTUFBSU0sTUFBTSxHQUFHLG9JQUFiOztBQUVBLFdBQVNDLFVBQVQs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bnQiOlsiLyogZ2xvYmFsIGRlZmluZSAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuY29tcGFyZVZlcnNpb25zID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuICB2YXIgc2VtdmVyID0gL152Pyg/OlxcZCspKFxcLig/Olt4Kl18XFxkKykoXFwuKD86W3gqXXxcXGQrKShcXC4oPzpbeCpdfFxcZCspKT8oPzotW1xcZGEtelxcLV0rKD86XFwuW1xcZGEtelxcLV0rKSopPyg/OlxcK1tcXGRhLXpcXC1dKyg/OlxcLltcXGRhLXpcXC1dKykqKT8pPyk/JC9pO1xuXG4gIGZ1bmN0aW9uIGluZGV4T3JFbmQoc3RyLCBxKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHEpID09PSAtMSA/IHN0ci5sZW5ndGggOiBzdHIuaW5kZXhPZihxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0KHYpIHtcbiAgICB2YXIgYyA9IHYucmVwbGFjZSgvXnYvLCAnJykucmVwbGFjZSgvXFwrLiokLywgJycpO1xuICAgIHZhciBwYXRjaEluZGV4ID0gaW5kZXhPckVuZChjLCAnLScpO1xuICAgIHZhciBhcnIgPSBjLnN1YnN0cmluZygwLCBwYXRjaEluZGV4KS5zcGxpdCgnLicpO1xuICAgIGFyci5wdXNoKGMuc3Vic3RyaW5nKHBhdGNoSW5kZXggKyAxKSk7XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVBhcnNlKHYpIHtcbiAgICByZXR1cm4gaXNOYU4oTnVtYmVyKHYpKSA/IHYgOiBOdW1iZXIodik7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZSh2ZXJzaW9uKSB7XG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhcmd1bWVudCBleHBlY3RlZCBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCFzZW12ZXIudGVzdCh2ZXJzaW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IG5vdCB2YWxpZCBzZW12ZXIgKFxcJycrdmVyc2lvbisnXFwnIHJlY2VpdmVkKScpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhcmVWZXJzaW9ucyh2MSwgdjIpIHtcbiAgICBbdjEsIHYyXS5mb3JFYWNoKHZhbGlkYXRlKTtcblxuICAgIHZhciBzMSA9IHNwbGl0KHYxKTtcbiAgICB2YXIgczIgPSBzcGxpdCh2Mik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGgubWF4KHMxLmxlbmd0aCAtIDEsIHMyLmxlbmd0aCAtIDEpOyBpKyspIHtcbiAgICAgIHZhciBuMSA9IHBhcnNlSW50KHMxW2ldIHx8IDAsIDEwKTtcbiAgICAgIHZhciBuMiA9IHBhcnNlSW50KHMyW2ldIHx8IDAsIDEwKTtcblxuICAgICAgaWYgKG4xID4gbjIpIHJldHVybiAxO1xuICAgICAgaWYgKG4yID4gbjEpIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YXIgc3AxID0gczFbczEubGVuZ3RoIC0gMV07XG4gICAgdmFyIHNwMiA9IHMyW3MyLmxlbmd0aCAtIDFdO1xuXG4gICAgaWYgKHNwMSAmJiBzcDIpIHtcbiAgICAgIHZhciBwMSA9IHNwMS5zcGxpdCgnLicpLm1hcCh0cnlQYXJzZSk7XG4gICAgICB2YXIgcDIgPSBzcDIuc3BsaXQoJy4nKS5tYXAodHJ5UGFyc2UpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5tYXgocDEubGVuZ3RoLCBwMi5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgaWYgKHAxW2ldID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHAyW2ldID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcDFbaV0gPT09ICdudW1iZXInKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChwMltpXSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBwMVtpXSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHAyW2ldID09PSAnbnVtYmVyJykgcmV0dXJuIDE7XG5cbiAgICAgICAgaWYgKHAxW2ldID4gcDJbaV0pIHJldHVybiAxO1xuICAgICAgICBpZiAocDJbaV0gPiBwMVtpXSkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3AxIHx8IHNwMikge1xuICAgICAgcmV0dXJuIHNwMSA/IC0xIDogMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICB2YXIgYWxsb3dlZE9wZXJhdG9ycyA9IFtcbiAgICAnPicsXG4gICAgJz49JyxcbiAgICAnPScsXG4gICAgJzwnLFxuICAgICc8PSdcbiAgXTtcblxuICB2YXIgb3BlcmF0b3JSZXNNYXAgPSB7XG4gICAgJz4nOiBbMV0sXG4gICAgJz49JzogWzAsIDFdLFxuICAgICc9JzogWzBdLFxuICAgICc8PSc6IFstMSwgMF0sXG4gICAgJzwnOiBbLTFdXG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVPcGVyYXRvcihvcCkge1xuICAgIGlmICh0eXBlb2Ygb3AgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG9wZXJhdG9yIHR5cGUsIGV4cGVjdGVkIHN0cmluZyBidXQgZ290ICcgKyB0eXBlb2Ygb3ApO1xuICAgIH1cbiAgICBpZiAoYWxsb3dlZE9wZXJhdG9ycy5pbmRleE9mKG9wKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb3BlcmF0b3IsIGV4cGVjdGVkIG9uZSBvZiAnICsgYWxsb3dlZE9wZXJhdG9ycy5qb2luKCd8JykpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBhcmVWZXJzaW9ucy52YWxpZGF0ZSA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgICByZXR1cm4gdHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnICYmIHNlbXZlci50ZXN0KHZlcnNpb24pO1xuICB9XG5cbiAgY29tcGFyZVZlcnNpb25zLmNvbXBhcmUgPSBmdW5jdGlvbiAodjEsIHYyLCBvcGVyYXRvcikge1xuICAgIC8vIFZhbGlkYXRlIG9wZXJhdG9yXG4gICAgdmFsaWRhdGVPcGVyYXRvcihvcGVyYXRvcik7XG5cbiAgICAvLyBzaW5jZSByZXN1bHQgb2YgY29tcGFyZVZlcnNpb25zIGNhbiBvbmx5IGJlIC0xIG9yIDAgb3IgMVxuICAgIC8vIGEgc2ltcGxlIG1hcCBjYW4gYmUgdXNlZCB0byByZXBsYWNlIHN3aXRjaFxuICAgIHZhciByZXMgPSBjb21wYXJlVmVyc2lvbnModjEsIHYyKTtcbiAgICByZXR1cm4gb3BlcmF0b3JSZXNNYXBbb3BlcmF0b3JdLmluZGV4T2YocmVzKSA+IC0xO1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVWZXJzaW9ucztcbn0pKTtcbiJdfQ==